webpackJsonp([57783942601805],{345:function(a,e){a.exports={data:{markdownRemark:{html:'<h1 id="migrating-from-v3x-to-v4x"><a href="#migrating-from-v3x-to-v4x" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from v3.x to v4.x</h1>\n<p>See <a href="https://github.com/graphql-dotnet/graphql-dotnet/issues?q=milestone%3A4.0+is%3Aissue+is%3Aclosed">issues</a> and <a href="https://github.com/graphql-dotnet/graphql-dotnet/pulls?q=is%3Apr+milestone%3A4.0+is%3Aclosed">pull requests</a> done in v4.</p>\n<h2 id="new-features"><a href="#new-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Features</h2>\n<h3 id="improved-performance"><a href="#improved-performance" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improved Performance</h3>\n<p>GraphQL.NET 4.0 has been highly optimized, typically executing queries at least 50% faster while also providing\na 75% memory reduction. Small queries have been measured to run twice as fast as they previously ran. A cached\nquery executor is also provided, which can reduce execution time another 20% once the query has been parsed\n(disabled by default). Variable parsing is also improved to run about 50% faster, and schema build time is\nnow about 20x faster than previously and requires 1/25th the amount of memory.</p>\n<p>See the <a href="https://graphql-dotnet.github.io/docs/guides/document-caching">Document Caching</a> guide to enable\ndocument caching.</p>\n<p>To facilitate the performance changes, many changes were made to the API that may affect you if you have\nbuilt custom execution strategies, scalars, parser, or similar core components. Please see the complete list\nof breaking changes below.</p>\n<h3 id="input-object-custom-deserializers-aka-resolver"><a href="#input-object-custom-deserializers-aka-resolver" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Input Object Custom Deserializers (aka resolver)</h3>\n<p>You can now add code to <code class="language-text">InputObjectGraphType</code> descendants to build an object from the collected argument\nfields. The new <code class="language-text">ParseDictionary</code> method is called when variables are being parsed or <code class="language-text">GetArgument</code> is called,\ndepending on if the argument is stored within variables or as a literal. The method is passed a dictionary\ncontaining the input object\'s fields and deserialized values.</p>\n<p>By default, for <code class="language-text">InputObjectGraphType&lt;TSourceType></code> implementations, the dictionary is passed to\n<code class="language-text">ObjectExtensions.ToObject</code> in order to convert the dictionary to an object of <code class="language-text">TSourceType</code>.\nYou can override the method to have it return an instance of any appropriate type.</p>\n<p>Below is a sample which sets a default value for an unsupplied field (this could be done with a default\nvalue set on the field, of course) and converts the name to uppercase:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HumanInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType</span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">HumanInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Name <span class="token operator">=</span> <span class="token string">"HumanInput"</span><span class="token punctuation">;</span>\n        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NonNullGraphType<span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"homePlanet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseDictionary</span><span class="token punctuation">(</span><span class="token class-name">IDictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Human</span>\n        <span class="token punctuation">{</span>\n            Name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token keyword">value</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n            HomePlanet <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"homePlanet"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> homePlanet<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>homePlanet <span class="token punctuation">:</span> <span class="token string">"Unknown"</span><span class="token punctuation">,</span>\n            Id <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n        <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>Note that pursuant to GraphQL specifications, if a field is optional, not supplied, and has no default,\nit will not be in the dictionary.</p>\n<p>For untyped <code class="language-text">InputObjectGraphType</code> classes, like shown above, the default behavior of <code class="language-text">ParseDictionary</code>\nwill be to return the dictionary. <code class="language-text">GetArgument&lt;T></code> will still attempt to convert a dictionary to the\nrequested type via <code class="language-text">ObjectExtensions.ToObject</code> as it did before.</p>\n<h3 id="scalar-null-value-handling"><a href="#scalar-null-value-handling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalar null value handling</h3>\n<p>Custom scalars can now handle serialization or deserialization of <code class="language-text">null</code> values. This can be useful if\nyou have a need to coerce certain internal values to <code class="language-text">null</code>, such as serializing empty strings to <code class="language-text">null</code>.\nIt can also be used to control deserialization of external <code class="language-text">null</code> values, such as deserializing <code class="language-text">null</code> to\nthe value zero.</p>\n<p>GraphQL nullability semantics are enforced on the external AST representation of the data. For instance,\nif a custom scalar converted empty strings to <code class="language-text">null</code> during serialization, an error would occur if a field\nresolver tried to return an empty string for a non-null field.</p>\n<p>See the <a href="https://graphql-dotnet.github.io/docs/getting-started/custom-scalars">Custom Scalars</a>\ndocumentation page which describes this in detail.</p>\n<h3 id="experimental-features--applied-directives"><a href="#experimental-features--applied-directives" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Features / Applied Directives</h3>\n<p>In v4 we added ability to apply directives to the schema elements and expose user-defined meta-information\nvia introspection. This was one of the most requested features not only in GraphQL.NET, but in the entire\nGraphQL ecosystem as a whole. See the <a href="https://graphql-dotnet.github.io/docs/getting-started/directives">Directives</a>\ndocumentation page which describes the new features in detail.</p>\n<h3 id="microsoft-specific-dependency-injection-extensions"><a href="#microsoft-specific-dependency-injection-extensions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft-specific Dependency Injection Extensions</h3>\n<p>If you are using the <code class="language-text">Microsoft.Extensions.DependencyInjection</code> package, extension methods are provided within\nthe <a href="https://www.nuget.org/packages/GraphQL.MicrosoftDI">GraphQL.MicrosoftDI NuGet package</a> for creating a service\nprovider scope during a field resolver\'s execution. This is useful when accessing a scoped service with a parallel\nexecution strategy, as typically scoped services are not multi-threaded compatible. The library also provides a\nbuilder to assist constructing a field resolver that relies on scoped services. Below is a sample of a field resolver\nthat relies on a scoped service and can run concurrently with other field resolvers:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Category<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MyGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> context <span class="token operator">=></span> context<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ListGraphType<span class="token punctuation">&lt;</span>ProductGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">"Products"</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">Resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">WithScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">WithService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MyDbContext<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n            <span class="token punctuation">.</span><span class="token function">ResolveAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> db<span class="token punctuation">)</span> <span class="token operator">=></span> db<span class="token punctuation">.</span>Products<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>CategoryId <span class="token operator">==</span> context<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToListAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/dependency-injection">Dependency Injection</a> for more details.</p>\n<h3 id="ability-to-sort-introspection-results"><a href="#ability-to-sort-introspection-results" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to Sort Introspection Results</h3>\n<p>Introspection results are now sorted based on a configured \'comparer\' for a schema. You can configure the comparer\nby setting <code class="language-text">ISchema.Comparer</code> to an implementation of <code class="language-text">ISchemaComparer</code>. By default, introspection results are\nreturned in the order they were defined.</p>\n<p>See <a href="#Default-Sort-Order-of-Introspection-Query-Results">Default Sort Order of Introspection Query Results</a> below for a sample\nof how this can be used to return introspection results that are sorted alphabetically.</p>\n<h3 id="array-pooling"><a href="#array-pooling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Array Pooling</h3>\n<p>When returning lists of information from field resolvers, you can choose to rent an array from <code class="language-text">IResolveFieldContext.ArrayPool</code>,\npopulating it with your results and returning the array. The array will be released after the execution completes. This has\nlimited uses, since the rented array is not guaranteed to be exactly the requested length, so the array would need to be\nwrapped in order to only return the correct number of entries, triggering a memory allocation (albeit a smaller one):</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"> resolve<span class="token punctuation">:</span> context <span class="token operator">=></span>\n<span class="token punctuation">{</span>\n    <span class="token class-name"><span class="token keyword">var</span></span> ints <span class="token operator">=</span> context<span class="token punctuation">.</span>ArrayPool<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Rent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ints.Length >= 1000</span>\n    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>\n        ints<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> ints<span class="token punctuation">.</span><span class="token function">Constrained</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// extension method to return an array or array-like object of a given length</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>It is not recommended to use this feature for interim calculations, as it is better to work directly with <code class="language-text">System.Buffers.ArrayPool&lt;T></code>.</p>\n<h3 id="global-switches"><a href="#global-switches" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global Switches</h3>\n<p><code class="language-text">GraphQL.GlobalSwitches</code> is a new static class with properties that affect the schema build process:</p>\n<ul>\n<li><code class="language-text">EnableReadDefaultValueFromAttributes</code> enables or disables setting default values for \'defaultValue\' from <code class="language-text">DefaultValueAttribute</code>. Enabled by default.</li>\n<li><code class="language-text">EnableReadDeprecationReasonFromAttributes</code> enables or disables setting default values for \'deprecationReason\' from <code class="language-text">ObsoleteAttribute</code>. Enabled by default.</li>\n<li><code class="language-text">EnableReadDescriptionFromAttributes</code> enables or disables setting default values for \'description\' from <code class="language-text">DescriptionAttribute</code>. Enabled by default.</li>\n<li><code class="language-text">EnableReadDescriptionFromXmlDocumentation</code> enables or disables setting default values for \'description\' from XML documentation. Disabled by default.</li>\n<li><code class="language-text">NameValidation</code> configures the validator used when setting the <code class="language-text">Name</code> property on types, arguments, etc. Can be used to disable validation\nwhen the configured <code class="language-text">INameConverter</code> fixes up invalid names. See <code class="language-text">ISchema.NameConverter</code>.</li>\n</ul>\n<p>It is recommended to configure these options once when your application starts, such as within your <code class="language-text">void Main()</code> method, a static\nconstructor of your schema, or a similar location.</p>\n<h3 id="authorization-extension-methods"><a href="#authorization-extension-methods" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authorization Extension Methods</h3>\n<p>Historically, there are two repositories in <a href="https://github.com/graphql-dotnet">graphql-dotnet</a> org that provide APIs for configuring\nauthorization requirements.</p>\n<table>\n<thead>\n<tr>\n<th>Name</th>\n<th>Package</th>\n<th>Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href="https://github.com/graphql-dotnet/server">server</a></td>\n<td><a href="https://www.nuget.org/packages/GraphQL.Server.Authorization.AspNetCore">GraphQL.Server.Authorization.AspNetCore</a></td>\n<td>Integration of GraphQL.NET validation subsystem into ASP.NET Core</td>\n</tr>\n<tr>\n<td><a href="https://github.com/graphql-dotnet/authorization">authorization</a></td>\n<td><a href="https://www.nuget.org/packages/GraphQL.Authorization">GraphQL.Authorization</a></td>\n<td>A toolset for authorizing access to graph types for GraphQL.NET</td>\n</tr>\n</tbody>\n</table>\n<p>Authorization itself is not a specific part of the GraphQL.NET repository, so it was quite natural to keep this functionality\nin separate repositories. However, this resulted in some code duplication between repositories. In addition, there was constant\nconfusion about which of the two projects to use. In v4, we began the process of converging the two projects to a common denominator.\nExtension methods (see <code class="language-text">AuthorizationExtensions</code>) to configure authorization requirements for GraphQL elements (types, fields, schema)\nwere moved to GraphQL.NET repository. These methods will be removed from their respective projects after v4 release.</p>\n<p>GraphQL.NET will not receive new dependencies, since all methods just read or write meta information. Calling code changes not required.</p>\n<h3 id="new-parsing-methods-for-scalars"><a href="#new-parsing-methods-for-scalars" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New parsing methods for scalars</h3>\n<p>2 new methods for <code class="language-text">ScalarGraphType</code> have been added in v4:</p>\n<ul>\n<li><code class="language-text">public bool CanParseLiteral/CanParseValue</code></li>\n</ul>\n<p>These methods checks for input coercion possibility. They can be overridden for custom scalars\nto validate input values without directly getting those values, i.e. without boxing.</p>\n<h3 id="ability-to-get-parent-resolve-context-of-any-level"><a href="#ability-to-get-parent-resolve-context-of-any-level" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to get parent resolve context of any level</h3>\n<p>New property <code class="language-text">IResolveFieldContext.Parent</code> provides access to the parent context (up to the root).\nThis may be needed to get the parameters of parent nodes.</p>\n<h3 id="other-features"><a href="#other-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Features</h3>\n<ul>\n<li>New method <code class="language-text">FieldConfig.ArgumentFor</code></li>\n<li>New property <code class="language-text">ISchema.ValueConverters</code></li>\n<li>New method <code class="language-text">IParentExecutionNode.ApplyToChildren</code></li>\n<li><code class="language-text">ExecutionStrategy</code> exposes a number of <code class="language-text">protected virtual</code> methods that can be used to alter the execution\nof a document without rewriting the entire class. For instance, overriding <code class="language-text">ShouldIncludeNode</code> provides\nthe ability to control the set of fields that the strategy executes; overriding <code class="language-text">ProcessNodeUnhandledException</code>\nprovides a way to customize exception handling, and so on.</li>\n<li>With the addition of <code class="language-text">ExecutionContext.ExecutionStrategy</code> and <code class="language-text">IExecutionStrategy.GetSubFields</code>, the\nexecution strategy now controls the fields that are returned when requested from <code class="language-text">IResolveFieldContext.SubFields</code>.</li>\n<li>Schema validation upon initialization and better support for schema traversal via <code class="language-text">ISchemaNodeVisitor</code></li>\n</ul>\n<h2 id="breaking-changes"><a href="#breaking-changes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h2>\n<h3 id="scalar-deserialization-type-enforcement"><a href="#scalar-deserialization-type-enforcement" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalar Deserialization Type Enforcement</h3>\n<p>Scalars do not coerce values if passed an incompatible type during deserialization from a variable. Previously, values would pass\nthrough the <code class="language-text">ValueConverter</code> while being deserialized. Now the <code class="language-text">ValueConverter</code> is ignored for deserialization of built-in scalars.\nCalling <code class="language-text">GetArgument&lt;T></code> within the field resolver will still call the <code class="language-text">ValueConverter</code> to coerce the input data to the correct type,\nbut if the document is unable to deserialize successfully, the field resolver will not run.</p>\n<p>Here are some of the situations that you may run into with version 4:</p>\n<ul>\n<li><code class="language-text">StringGraphType</code> does not serialize integers to strings</li>\n<li>Numeric scalars such as <code class="language-text">IntGraphType</code> do not deserialize strings to their numeric type</li>\n<li>Integer numeric scalars such as <code class="language-text">IntGraphType</code> do not coerce floating-point values to their numeric type</li>\n<li><code class="language-text">BooleanGraphType</code> does not deserialize/serialize strings or integers (e.g. "true", "false", 0, 1, etc)</li>\n<li><code class="language-text">EnumGraphType</code> is stricter, requiring internal values for serialization, and external values for deserialization</li>\n<li><code class="language-text">IdGraphType</code> (which allows any basic type) does not coerce variable values to trimmed strings during deserialization</li>\n<li><code class="language-text">IdGraphType</code> does not trim serialized values (but does convert them to strings)</li>\n</ul>\n<p>If you have a schema-first schema, you may run into an issue with enumeration types, since the <code class="language-text">SchemaBuilder</code> uses the name of each\nenumeration value as its value also. In other words, you must return a string corresponding to the enumeration value (e.g, <code class="language-text">"Cat"</code> or\n<code class="language-text">"Dog"</code>) rather than a matching C# enumeration value (e.g. <code class="language-text">Animal.Cat</code> or <code class="language-text">Animal.Dog</code>). You can configure the <code class="language-text">SchemaBuilder</code> to\nmatch the defined enumeration values to a C# enumeration type in this manner demonstrated below. Then when used as an input type,\nthe values will be parsed into the matching C# enumeration values, and when used as an output type, you must return the C# enumeration\nvalue (e.g. <code class="language-text">Animal.Cat</code>) or its underlying value (typically an <code class="language-text">int</code>). Below are a few examples of how this is configured:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> schema <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span>definitions<span class="token punctuation">,</span> c <span class="token operator">=></span>\n<span class="token punctuation">{</span>\n    <span class="token comment">// example 1: define the "Animal" schema enumeration type to use the C# type Animal</span>\n    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Include</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animal<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// example 2: define the "AnimalType" schema enumeration type to use the C# type Animal</span>\n    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Include</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animal<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"AnimalType"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token comment">// example 3: define the "Animal" schema enumeration type to use the C# type Animal</span>\n    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span><span class="token string">"Animal"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Type <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>For situations where it is necessary to revert scalars to previous behavior, you can override the built-in scalar by following the\ninstructions within the <a href="https://graphql-dotnet.github.io/docs/getting-started/custom-scalars">Custom Scalars</a> documentation page.</p>\n<p>Below is a sample replacement for the <code class="language-text">BooleanGraphType</code> which will restore the previous behavior exactly\nas it was in version 3.x.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBooleanGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BooleanGraphType</span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Name <span class="token operator">=</span> <span class="token string">"Boolean"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token keyword">null</span><span class="token punctuation">,</span>\n        _ <span class="token operator">=></span> ValueConverter<span class="token punctuation">.</span><span class="token function">ConvertTo</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">bool</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token function">ThrowValueConversionException</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">try</span>\n        <span class="token punctuation">{</span>\n            _ <span class="token operator">=</span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n        <span class="token keyword">catch</span>\n        <span class="token punctuation">{</span>\n            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>\n        <span class="token punctuation">}</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// Code-first: add the following line of code to your schema\'s constructor</span>\n<span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Schema-first: add the following line of code after your schema is built, before it is initialized</span>\nschema<span class="token punctuation">.</span><span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h3 id="custom-scalar-cleanup"><a href="#custom-scalar-cleanup" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Scalar Cleanup</h3>\n<p>All of the code necessary for a proper custom scalar implementation has been moved from the <code class="language-text">ValueConverter</code> and <code class="language-text">IAstNodeConverter</code>\ndirectly into the scalar itself. Some changes will be necessary for custom scalars as follows:</p>\n<p><code class="language-text">IAstNodeConverter</code> has been completely removed along with the properties relating to it on the <code class="language-text">Schema</code>. Code that had been configured\nfor a custom scalar may need to be moved into the new <code class="language-text">ToAST</code> virtual member of the custom scalar. <code class="language-text">ValueNode</code> implementations are not\nrecommended; the <code class="language-text">ToAST</code> member should return one of the base value node types present in the library, such as <code class="language-text">StringValue</code> or <code class="language-text">IntValue</code>.\nIf the <code class="language-text">Serialize</code> method returns a basic .NET type (such as <code class="language-text">int</code> or <code class="language-text">string</code>), the default <code class="language-text">ToAST</code> implementation should suffice.</p>\n<p>Code within <code class="language-text">ValueConverter</code> registrations should be moved directly into the <code class="language-text">ParseLiteral</code> and/or <code class="language-text">ParseValue</code> methods. Having a\n<code class="language-text">ValueConverter</code> registration should no longer be necessary for custom scalars.</p>\n<p><code class="language-text">ParseLiteral</code> and <code class="language-text">ParseValue</code> must handle null values (<code class="language-text">NullValue</code> for <code class="language-text">ParseLiteral</code> and <code class="language-text">null</code> for <code class="language-text">ParseValue</code>). Typically\nthis involves returning <code class="language-text">null</code> for each of these cases.</p>\n<p><code class="language-text">ParseLiteral</code>, <code class="language-text">ParseValue</code> and <code class="language-text">Serialize</code> must throw an exception if the value cannot be parsed. Previously, returning <code class="language-text">null</code> would\nindicate a conversion failure. <code class="language-text">ThrowLiteralConversionError</code>, <code class="language-text">ThrowValueConversionError</code> and <code class="language-text">ThrowSerializationError</code> convenience\nmethods are provided for this purpose but any exception is valid to throw.</p>\n<p><code class="language-text">Serialize</code>\'s default behavior still calls <code class="language-text">ParseValue</code>. With the other changes, it should be verified if this is still valid\nfor the custom scalar.</p>\n<p>If <code class="language-text">ToAST</code> is overridden, it must process a value of <code class="language-text">null</code> (typically by returning a new instance of <code class="language-text">NullValue</code>) and throw an\nexception if there are serialization errors. The <code class="language-text">ThrowASTConversionError</code> convenience method is provided for this purpose but\nany exception is valid to throw.</p>\n<p>You may wish to add implementations for the new <code class="language-text">CanParseValue</code>, <code class="language-text">CanParseLiteral</code> and <code class="language-text">IsValidDefault</code> methods. This is not necessary\nas the default implementations will call <code class="language-text">ParseValue</code>, <code class="language-text">ParseLiteral</code> and <code class="language-text">ToAST</code> respectively, returning <code class="language-text">true</code> unless the method\nthrows an exception. Adding a custom implementation of <code class="language-text">CanParseLiteral</code> can improve performance if <code class="language-text">ParseLiteral</code> causes memory allocation / boxing.\n<code class="language-text">CanParseValue</code> is not used by the framework at this time, and <code class="language-text">ToAST</code> is only called during schema initialization and schema printing.</p>\n<h3 id="schema-configuration-options-moved"><a href="#schema-configuration-options-moved" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schema Configuration Options Moved</h3>\n<p><code class="language-text">NameConverter</code>, <code class="language-text">SchemaFilter</code> and <code class="language-text">FieldMiddleware</code> have been removed from <code class="language-text">ExecutionOptions</code> and are now properties on <code class="language-text">Schema</code>.\nThese properties can be set in the constructor of the <code class="language-text">Schema</code> instance, or within your DI composition root, or at any time before\nany query is executed. Once a query has been executed, changes to these fields is not allowed, and adding middleware via the field middleware\nbuilder has no effect.</p>\n<h3 id="middleware-builders"><a href="#middleware-builders" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Middleware Builders</h3>\n<ul>\n<li>The signature of <code class="language-text">IFieldMiddlewareBuilder.Use</code> has been changed to remove the schema from delegate. Since the schema is now known, there is no\nneed for it to be passed to the middleware builder.</li>\n<li>The middleware <code class="language-text">Use&lt;T></code> extension method has been removed. Please use the <code class="language-text">Use</code> method with a middleware instance instead.</li>\n</ul>\n<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/field-middleware">Field Middleware</a> for more information.</p>\n<h3 id="dependency-injection--getrequiredservice"><a href="#dependency-injection--getrequiredservice" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency Injection / GetRequiredService</h3>\n<p><code class="language-text">GraphQL.Utilities.ServiceProviderExtensions</code> has been made internal. This affects usages of its extension method <code class="language-text">GetRequiredService</code>.\nInstead, reference the <code class="language-text">Microsoft.Extensions.DependencyInjection.Abstractions</code> NuGet package and use the extension method from the\n<code class="language-text">Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions</code> class.</p>\n<h3 id="default-sort-order-of-introspection-query-results"><a href="#default-sort-order-of-introspection-query-results" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Default Sort Order of Introspection Query Results</h3>\n<p>By default fields returned by introspection query are no longer sorted by their names. <code class="language-text">LegacyV3SchemaComparer</code> can be used to switch to the old behavior.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">/// &lt;summary></span>\n<span class="token comment">/// Default schema comparer for GraphQL.NET v3.x.x.</span>\n<span class="token comment">/// By default only fields are ordered by their names within enclosing type.</span>\n<span class="token comment">/// &lt;/summary></span>\n<span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">LegacyV3SchemaComparer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DefaultSchemaComparer</span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">FieldByNameComparer</span> _instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FieldByNameComparer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n    <span class="token keyword">private</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">FieldByNameComparer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IComparer<span class="token punctuation">&lt;</span>IFieldType<span class="token punctuation">></span></span></span>\n    <span class="token punctuation">{</span>\n        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Compare</span><span class="token punctuation">(</span><span class="token class-name">IFieldType</span> x<span class="token punctuation">,</span> <span class="token class-name">IFieldType</span> y<span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n    <span class="token comment">/// &lt;inheritdoc/></span>\n    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">IComparer<span class="token punctuation">&lt;</span>IFieldType<span class="token punctuation">></span></span> <span class="token function">FieldComparer</span><span class="token punctuation">(</span><span class="token class-name">IGraphType</span> parent<span class="token punctuation">)</span> <span class="token operator">=></span> _instance<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\nschema<span class="token punctuation">.</span>Comparer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">LegacyV3SchemaComparer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h3 id="code-classlanguage-textiresolvefieldcontextcode-re-use"><a href="#code-classlanguage-textiresolvefieldcontextcode-re-use" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">IResolveFieldContext</code> Re-use</h3>\n<p>The <code class="language-text">IResolveFieldContext</code> instance passed to field resolvers is re-used at the completion of the resolver. Be sure not to\nuse this instance once the resolver finishes executing. To preserve a copy of the context, call <code class="language-text">.Copy()</code> on the context\nto create a copy that is not re-used. Note that it is safe to use the field context within asynchronous field resolvers and\ndata loaders. Once the asynchronous field resolver or data loader returns its final result, the context will be cleared and may be re-used.\nAlso, any calls to the configured <code class="language-text">UnhandledExceptionDelegate</code> will receive a field context copy that will not be re-used,\nso it is safe to preserve these instances without calling <code class="language-text">.Copy()</code>.</p>\n<p>In version 4.7 and newer, the context will not be re-used if the result of the resolver is an <code class="language-text">IEnumerable</code>, making it safe\nto return LINQ enumerables that are based on the context source.</p>\n<h3 id="subscriptions-moved-to-separate-project"><a href="#subscriptions-moved-to-separate-project" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Subscriptions Moved to Separate Project</h3>\n<p>The implementation for subscriptions, contained within <code class="language-text">SubscriptionExecutionStrategy</code>, has been moved into the\n<a href="https://www.nuget.org/packages/GraphQL.SystemReactive/"><code class="language-text">GraphQL.SystemReactive</code></a> NuGet package. The default document executer\nwill now throw a <code class="language-text">NotSupportedException</code> when attempting to execute a subscription. Please import the NuGet package and use the\n<code class="language-text">SubscriptionDocumentExecuter</code> instead. If you have a custom document executer, you can override <code class="language-text">SelectExecutionStrategy</code> in\norder to select the <code class="language-text">SubscriptionExecutionStrategy</code> instance for subscriptions.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IExecutionStrategy</span> <span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span><span class="token class-name">ExecutionContext</span> context<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">return</span> context<span class="token punctuation">.</span>Operation<span class="token punctuation">.</span>OperationType <span class="token keyword">switch</span>\n    <span class="token punctuation">{</span>\n        OperationType<span class="token punctuation">.</span>Subscription <span class="token operator">=></span> SubscriptionExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>\n        _ <span class="token operator">=></span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>\n    <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3 id="dataloader-moved-to-separate-project"><a href="#dataloader-moved-to-separate-project" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DataLoader Moved to Separate Project</h3>\n<p>The implementation for data loaders, contained within the <code class="language-text">GraphQL.DataLoader</code> namespace, has been moved into the\n<a href="https://www.nuget.org/packages/GraphQL.DataLoader"><code class="language-text">GraphQL.DataLoader</code></a> NuGet package. Please import the NuGet\npackage if you use data loaders. No code changes are necessary.</p>\n<h3 id="code-classlanguage-textexecutionoptionsenablemetricscode-is-disabled-by-default"><a href="#code-classlanguage-textexecutionoptionsenablemetricscode-is-disabled-by-default" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ExecutionOptions.EnableMetrics</code> is disabled by default</h3>\n<p>To enable metrics, please set the option to <code class="language-text">true</code> before executing the query.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> schema<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options <span class="token operator">=></span>\n<span class="token punctuation">{</span>\n    options<span class="token punctuation">.</span>Query <span class="token operator">=</span> <span class="token string">"{ hero { id name } }"</span><span class="token punctuation">;</span>\n    options<span class="token punctuation">.</span>EnableMetrics <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h3 id="graphql-member-descriptions"><a href="#graphql-member-descriptions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GraphQL Member Descriptions</h3>\n<p>To improve performance, by default GraphQL.NET 4.0 does not pull descriptions for types/fields/etc from XML comments as it\ndid in 3.x. To re-enable that functionality, see <a href="#Global-Switches">Global Switches</a> above.</p>\n<h3 id="changes-to-code-classlanguage-textiresolvefieldcontextargumentscode"><a href="#changes-to-code-classlanguage-textiresolvefieldcontextargumentscode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changes to <code class="language-text">IResolveFieldContext.Arguments</code></h3>\n<p><code class="language-text">IResolveFieldContext.Arguments</code> now returns an <code class="language-text">IDictionary&lt;string, ArgumentValue></code> instead of <code class="language-text">IDictionary&lt;string, object></code> so that it\ncan be determined if the value returned is a default value or if it is a specified literal or variable.</p>\n<p><code class="language-text">IResolveFieldContext.HasArgument</code> now returns <code class="language-text">false</code> when <code class="language-text">GetArgument</code> returns a field default value. Note that if a variable is specified,\nand the variable resolves to its default value, then <code class="language-text">HasArgument</code> returns <code class="language-text">true</code> (since the field argument has successfully resolved to a variable\nspecified by the query).</p>\n<h3 id="metadata-is-not-thread-safe"><a href="#metadata-is-not-thread-safe" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metadata is Not Thread Safe</h3>\n<p><code class="language-text">IProvideMetadata.Metadata</code> is now a <code class="language-text">Dictionary&lt;string, object></code> instead of <code class="language-text">ConcurrentDictionary&lt;string, object></code>, and is not thread safe anymore.\nIf you need to write metadata during execution of field resolvers, lock on the graph type before accessing the dictionary. Do not lock on the\n<code class="language-text">Metadata</code> property because there can be concurrency issues accessing the field.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">lock</span> <span class="token punctuation">(</span>field<span class="token punctuation">)</span>\n<span class="token punctuation">{</span>\n    <span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>field<span class="token punctuation">.</span>Metadata<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"counter"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> valueObject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>valueObject<span class="token punctuation">;</span>\n    field<span class="token punctuation">.</span>Metadata<span class="token punctuation">[</span><span class="token string">"counter"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3 id="ability-to-map-clr-types-to-graphtypes"><a href="#ability-to-map-clr-types-to-graphtypes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to map CLR types to GraphTypes</h3>\n<p>Strictly speaking, this feature was available before via <code class="language-text">GraphTypeTypeRegistry</code>, but it had a significant\ndrawbacks, since the mapping was static and did not allow registering the same CLR type both as input and output.\nIn v4 <code class="language-text">GraphTypeTypeRegistry</code> was completely removed and the <code class="language-text">ISchema.RegisterTypeMapping(Type, Type)</code>\nmethod was added instead (also there are several extension methods).</p>\n<p>Consider the following example:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Money</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Amount <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Currency <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name">Money</span> Saldo <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Account<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Saldo<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>On the <code class="language-text">Field(x => x.Saldo)</code> line when parsing an expression GraphQL.NET should somehow infer\nthat the <code class="language-text">Money</code> CLR type corresponds to the <code class="language-text">MoneyType</code> GraphType. In fact, this cannot be done\nwithout specifying additional information from the caller. GraphQL.NET can only infer some primitive\nCLR types (<code class="language-text">int</code>, <code class="language-text">string</code>, <code class="language-text">DateTime</code>, <code class="language-text">Guid</code>, etc.) that match built-in scalars.</p>\n<p>Type registration is used for the hint:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp">GraphTypeTypeRegistry<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// static method before v4</span>\nschema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// instance method on `ISchema` after v4</span></code></pre>\n      </div>\n<p>Note that since v4 it\'s possible to register both input and output GraphType for the same CLR type.\nIn this case, GraphQL.NET will choose the desired GraphType depending on the context.</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Money</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Amount <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Currency <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MoneyInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Description</span><span class="token punctuation">(</span><span class="token string">"Total amount"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DefaultValue</span><span class="token punctuation">(</span><span class="token number">100m</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DefaultValue</span><span class="token punctuation">(</span><span class="token string">"USD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\nschema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nschema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyInputType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>An alternative way to define the mapping is to use the new properties in the <code class="language-text">GraphQLMetadata</code> attribute.\nConsider the following example:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">GraphQLMetadata</span><span class="token attribute-arguments"><span class="token punctuation">(</span>InputType <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">FilterInputGraphType</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Filter</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Key <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Value <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContainerRequest</span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name">IList<span class="token punctuation">&lt;</span>Filter<span class="token punctuation">></span></span> Filters <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> ClientId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> AppId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterInputGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>Filter<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">FilterInputGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Name <span class="token operator">=</span> <span class="token string">"FilterInput"</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Key<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>ContainerRequest<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MyInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>\n    <span class="token punctuation">{</span>\n        Name <span class="token operator">=</span> <span class="token string">"Input"</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Filters<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// when building this field, its type is implicitly inferred to list of FilterInputGraphType</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>ClientId<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>AppId<span class="token punctuation">,</span> <span class="token named-parameter punctuation">nullable</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>In this case, a call to the registration method is not required, since the schema\nwill use information from the provided attribute.</p>\n<p>Keep in mind that you can register type mappings even for built-in/primitive types if you want to change their behavior:</p>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp">schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> MyIntGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\nschema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> MySpecialFormattedStringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>If you have dynamic code that relies on a call to <code class="language-text">GraphTypeTypeRegistry.Get&lt;T></code> then you will need to instead utilize\na graph type of <code class="language-text">GraphQLClrOutputTypeReference&lt;T></code> or <code class="language-text">GraphQLClrInputTypeReference&lt;T></code> where <code class="language-text">T</code> is the CLR type.\nThe type reference will be replaced with the proper graph type during schema initialization.</p>\n<h3 id="classes-for-automatic-graphtype-registration-by-default-use-all-properties-of-the-clr-type"><a href="#classes-for-automatic-graphtype-registration-by-default-use-all-properties-of-the-clr-type" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classes for automatic GraphType registration by default use all properties of the CLR type</h3>\n<p>In v4 <code class="language-text">AutoRegisteringObjectGraphType&lt;TSourceType></code> and <code class="language-text">AutoRegisteringInputObjectGraphType&lt;TSourceType></code>\nclasses by default use all properties from the provided <code class="language-text">TSourceType</code> to generate GraphType\'s fields (previously they\nmay skip unmatched properties). If no matching is found for some of the properties, then an exception will be thrown\nduring schema initialization.</p>\n<p>You have multiple options to fix this.</p>\n<ol>\n<li>Add all necessary type mappings with <code class="language-text">ISchema.RegisterTypeMapping</code> method.</li>\n<li>Or pass the unwanted properties into the <code class="language-text">excludedProperties</code> parameter of the constructor if you create a type via <code class="language-text">new</code> operator.</li>\n</ol>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp">myField<span class="token punctuation">.</span>ResolvedType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>SecretCode<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<ol start="3">\n<li>Alternatively, you can inherit from these classes and override the <code class="language-text">GetRegisteredProperties</code> method.</li>\n</ol>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAutoType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>PropertyInfo<span class="token punctuation">></span></span> <span class="token function">GetRegisteredProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SomeClassWithManyProperties</span><span class="token punctuation">)</span>\n        <span class="token punctuation">.</span><span class="token function">GetProperties</span><span class="token punctuation">(</span>BindingFlags<span class="token punctuation">.</span>Public <span class="token operator">|</span> BindingFlags<span class="token punctuation">.</span>Instance<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>p <span class="token operator">=></span> Attribute<span class="token punctuation">.</span><span class="token function">IsDefined</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ForExportAttribute</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<ol start="4">\n<li>Or even compose 2 and 3 approaches.</li>\n</ol>\n<div class="gatsby-highlight" data-language="csharp">\n      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAutoType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span></span>\n<span class="token punctuation">{</span>\n    <span class="token keyword">public</span> <span class="token function">MyAutoType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>SecretCode<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h3 id="code-classlanguage-textiresolvefieldcontextfieldnamecode-and-code-classlanguage-textiresolvefieldcontextreturntypecode"><a href="#code-classlanguage-textiresolvefieldcontextfieldnamecode-and-code-classlanguage-textiresolvefieldcontextreturntypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">IResolveFieldContext.FieldName</code> and <code class="language-text">IResolveFieldContext.ReturnType</code></h3>\n<p>These properties have been removed. Use <code class="language-text">IResolveFieldContext.FieldAst.Name</code> and\n<code class="language-text">IResolveFieldContext.FieldDefinition.ResolvedType</code> instead.</p>\n<h3 id="code-classlanguage-textgraphqlmetadataattributetypecode---code-classlanguage-textgraphqlmetadataattributeresolvertypecode"><a href="#code-classlanguage-textgraphqlmetadataattributetypecode---code-classlanguage-textgraphqlmetadataattributeresolvertypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">GraphQLMetadataAttribute.Type</code> -> <code class="language-text">GraphQLMetadataAttribute.ResolverType</code></h3>\n<p>This property was renamed. If you have explicitly set this property in an attribute or used it\ndirectly anywhere, then just change its name. If you did not explicitly set this property, the\ndefault continues to be <code class="language-text">ResolverType.Resolver</code>.</p>\n<h3 id="no-more-static-predefined-directives"><a href="#no-more-static-predefined-directives" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No more static predefined directives</h3>\n<p><code class="language-text">DirectiveGraphType.Deprecated</code>, <code class="language-text">DirectiveGraphType.Include</code> and <code class="language-text">DirectiveGraphType.Skip</code> static properties were moved\ninto corresponding virtual properties within <code class="language-text">SchemaDirectives</code> class. This is done in order to be able to independently change\nthe directives implementation without mutual influence on the schemas using them.</p>\n<h3 id="api-cleanup"><a href="#api-cleanup" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Cleanup</h3>\n<ul>\n<li><code class="language-text">GraphQL.Instrumentation.StatsReport</code> and its associated classes have been removed. Please copy the source code into\nyour project if you require these classes.</li>\n<li><code class="language-text">LightweightCache.First</code> method has been removed.</li>\n<li><code class="language-text">IGraphType.CollectTypes</code> method has been removed.</li>\n<li><code class="language-text">TypeExtensions.As</code> method has been removed</li>\n<li><code class="language-text">ExecutionHelper.SubFieldsFor</code> and <code class="language-text">ExecutionHelper.DoesFragmentConditionMatch</code> methods have been removed.</li>\n<li><code class="language-text">ExecutionHelper.GetVariableValue</code> has been removed, and the signature for <code class="language-text">ExecutionHelper.CoerceValue</code> has changed.</li>\n<li>All methods inside <code class="language-text">ExecutionHelper</code> except <code class="language-text">CoerceValue</code> and <code class="language-text">GetArgumentValues</code> have been moved into protected\nmethods within <code class="language-text">ExecutionStrategy</code>. Method signatures may have changed a very little.</li>\n<li><code class="language-text">RootExecutionNode</code>\'s constructor requires the root field\'s selection set, but <code class="language-text">null</code> can be provided if this value\nis not needed by the execution strategy.</li>\n<li><code class="language-text">UnhandledExceptionContext.Context</code> is now of type <code class="language-text">IExecutionContext</code>, returning a read-only view of the execution context.</li>\n<li><code class="language-text">NodeExtensions</code>, <code class="language-text">AstNodeExtensions</code> classes have been removed.</li>\n<li><code class="language-text">CoreToVanillaConverter</code> class became <code class="language-text">static</code> and most of its members have been removed.</li>\n<li><code class="language-text">GraphQL.Language.AST.Field.MergeSelectionSet</code> method has been removed.</li>\n<li><code class="language-text">CoreToVanillaConverter.Convert</code> method now requires only one <code class="language-text">GraphQLDocument</code> argument.</li>\n<li><code class="language-text">GraphTypesLookup</code> has been renamed to <code class="language-text">SchemaTypes</code> with a significant decrease in public APIs</li>\n<li><code class="language-text">GraphTypesLookup.Create</code> has been removed; use the <code class="language-text">SchemaTypes</code> constructor instead.</li>\n<li><code class="language-text">TypeCollectionContext</code> class is now internal, also all methods with this parameter in <code class="language-text">GraphTypesLookup</code> (now <code class="language-text">SchemaTypes</code>) are private.</li>\n<li><code class="language-text">GraphTypesLookup.ApplyTypeReferences</code> is now private.</li>\n<li><code class="language-text">IHaveDefaultValue.Type</code> has been moved to <code class="language-text">IProvideResolvedType.Type</code></li>\n<li><code class="language-text">ErrorLocation</code> struct became <code class="language-text">readonly</code>.</li>\n<li><code class="language-text">DebugNodeVisitor</code> class has been removed.</li>\n<li>Most methods and classes within <code class="language-text">OverlappingFieldsCanBeMerged</code> are now private.</li>\n<li><code class="language-text">EnumerableExtensions.Apply</code> for dictionaries has been removed.</li>\n<li><code class="language-text">ISubscriptionExecuter</code> has been removed.</li>\n<li><code class="language-text">EnterLeaveListener</code> has been removed and the signatures of <code class="language-text">INodeVisitor.Enter</code> and <code class="language-text">INodeVisitor.Leave</code> have\nchanged. <code class="language-text">NodeVisitors</code> class has been added in its place.</li>\n<li><code class="language-text">TypeInfo.GetAncestors()</code> has been changed to <code class="language-text">TypeInfo.GetAncestor(int index)</code></li>\n<li>Various methods within <code class="language-text">StringUtils</code> have been removed; please use extension methods within <code class="language-text">StringExtensions</code> instead.</li>\n<li><code class="language-text">ISchema.FindDirective</code>, <code class="language-text">ISchema.RegisterDirective</code>, <code class="language-text">ISchema.RegisterDirectives</code> methods were moved into <code class="language-text">SchemaDirectives</code> class</li>\n<li><code class="language-text">ISchema.FindType</code> method was moved into <code class="language-text">SchemaTypes[string typeName]</code> indexer</li>\n<li>Some of the <code class="language-text">ISchemaNodeVisitor</code> methods have been changes to better support schema traversal</li>\n<li><code class="language-text">SourceLocation</code>, <code class="language-text">NameNode</code> and <code class="language-text">BasicVisitor</code> have been changed to a <code class="language-text">readonly struct</code>.</li>\n<li><code class="language-text">ObjectExtensions.GetInterface</code> has been removed along with two overloads of <code class="language-text">GetPropertyValue</code>.</li>\n<li><code class="language-text">void INode.Visit&lt;TState>(System.Action&lt;INode, TState> action, TState state)</code> method has been added.</li>\n<li>Various <code class="language-text">IEnumerable&lt;T></code> properties on schema and graph types have been changed to custom collections:\n<code class="language-text">SchemaDirectives</code>, <code class="language-text">SchemaTypes</code>, <code class="language-text">TypeFields</code>, <code class="language-text">PossibleTypes</code>, <code class="language-text">Interfaces</code> and <code class="language-text">ResolvedInterfaces</code></li>\n<li><code class="language-text">INode.IsEqualTo</code> and related methods have been removed.</li>\n<li><code class="language-text">ApolloTracing.ConvertTime</code> is now private and <code class="language-text">ResolverTrace.Path</code> does not initialize an empty list when created.</li>\n<li><code class="language-text">SchemaBuilder.RegisterType</code> and <code class="language-text">SchemaBuilder.RegisterTypes</code> methods have been removed, use <code class="language-text">ISchema.RegisterType</code> on the builded schema instead.</li>\n<li><code class="language-text">SchemaBuilder.Directives</code> and <code class="language-text">SchemaBuilder.RegisterDirectiveVisitor</code> have been removed, use <code class="language-text">ISchema.RegisterVisitor</code> on the builded schema instead.</li>\n<li><code class="language-text">SchemaPrinter.IsBuiltInScalar</code>, <code class="language-text">SchemaPrinter.IsSpecDirective</code>, <code class="language-text">SchemaPrinter.IsIntrospectionType</code>, <code class="language-text">SchemaPrinter.IsDefinedType</code> methods have been removed from public API</li>\n<li><code class="language-text">SchemaPrinterOptions.CustomScalars</code> property has been removed</li>\n<li><code class="language-text">ValidationContext.Print(INode node)</code> and <code class="language-text">ValidationContext.Print(IGraphType type)</code> methods have been removed</li>\n<li><code class="language-text">Directives.HasDuplicates</code> property has been removed</li>\n<li><code class="language-text">KnownDirectives</code> validation rule has been renamed to <code class="language-text">KnownDirectivesInAllowedLocations</code> and now also generates <code class="language-text">5.7.2</code> validation error number</li>\n<li><code class="language-text">AstPrinter</code> supporting classes have been removed; the static method <code class="language-text">AstPrinter.Print(INode node)</code> is the only exposed member.</li>\n<li><code class="language-text">Language.AST.Fields</code> was replaced with <code class="language-text">Dictionary&lt;string, Field></code></li>\n<li><code class="language-text">IResolveFieldContext.Fragments</code> was removed; use <code class="language-text">IResolveFieldContext.Document.Fragments</code> instead</li>\n<li><code class="language-text">ExecutionContext.Fragments</code> was removed; use <code class="language-text">ExecutionContext.Document.Fragments</code> instead</li>\n<li><code class="language-text">AbstractGraphTypeExtensions.GetTypeOf</code> was removed; use <code class="language-text">AbstractGraphTypeExtensions.GetObjectType</code> instead</li>\n<li><code class="language-text">TypeConfig.FieldFor(string, IServiceProvider)</code> and <code class="language-text">TypeConfig.SubscriptionFieldFor(string, IServiceProvider)</code>\nmethods were merged into single <code class="language-text">TypeConfig.FieldFor(string)</code> method and just return the required configuration without its initialization</li>\n</ul>\n<h3 id="other-breaking-changes-including-but-not-limited-to"><a href="#other-breaking-changes-including-but-not-limited-to" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Breaking Changes (including but not limited to)</h3>\n<ul>\n<li>GraphQL.NET now uses GraphQL-Parser v7 with new memory model taking advantage of <code class="language-text">System.Memory</code> APIs.</li>\n<li>When used, Apollo tracing will now convert the starting timestamp to UTC so that <code class="language-text">StartTime</code> and <code class="language-text">EndTime</code> are properly serialized as UTC values.</li>\n<li><code class="language-text">Connection&lt;TNode, TEdge>.TotalCount</code> has been changed from an <code class="language-text">int</code> to an <code class="language-text">int?</code>. This allows for returning <code class="language-text">null</code> indicating that the total count is unknown.</li>\n<li><code class="language-text">InputObjectGraphType.ParseDictionary</code> has been added so that customized deserialization behavior can be specified for input objects (aka input resolvers).\nIf <code class="language-text">InputObjectGraphType&lt;T></code> is used, and <code class="language-text">GetArgument&lt;T></code> is called with the same type, no behavior changes will occur by default.\nIf <code class="language-text">InputObjectGraphType&lt;T></code> is used, but <code class="language-text">GetArgument&lt;T></code> is called with a different type, coercion may fail. Override <code class="language-text">ParseDictionary</code>\nto force resolving the input object to the correct type. See <a href="#input-object-custom-deserializers-aka-resolver">Input Object Custom Deserializers</a> above.</li>\n<li><code class="language-text">ExecutionResult.Data</code> format breaking changes.\nBoth <code class="language-text">GraphQL.NewtonsoftJson</code> and <code class="language-text">GraphQL.SystemTextJson</code> serializers received the necessary changes to produce the same JSON as before.\nHowever, consumers using <code class="language-text">ExecutionResult</code> instances directly most likely will not work correctly.\nCall <code class="language-text">((ExecutionNode)result.Data).ToValue()</code> to return the data in the same format as 3.x (as a dictionary).</li>\n<li>Most <code class="language-text">ExecutionStrategy</code> methods are now <code class="language-text">protected</code></li>\n<li><code class="language-text">ObjectExecutionNode.SubFields</code> property type was changed from <code class="language-text">Dictionary&lt;string, ExecutionNode></code> to <code class="language-text">ExecutionNode[]</code></li>\n<li><code class="language-text">ExecutionNode.IsResultSet</code> has been removed</li>\n<li><code class="language-text">ExecutionNode.Source</code> is read-only; additional derived classes have been added for subscriptions</li>\n<li><code class="language-text">NameValidator.ValidateName</code> accepts an enum instead of a string for its second argument</li>\n<li><code class="language-text">NameValidator.ValidateNameOnSchemaInitialize</code> has been made internal and <code class="language-text">ValidationOnSchemaInitialize</code> has been removed</li>\n<li><code class="language-text">ExecutionNode.PropagateNull</code> must be called before <code class="language-text">ExecutionNode.ToValue</code>; see reference implementation</li>\n<li><code class="language-text">IDocumentValidator.ValidateAsync</code> does not take <code class="language-text">originalQuery</code> parameter; use <code class="language-text">Document.OriginalQuery</code> instead</li>\n<li><code class="language-text">IDocumentValidator.ValidateAsync</code> now returns <code class="language-text">(IValidationResult validationResult, Variables variables)</code> tuple instead of single <code class="language-text">IValidationResult</code> before</li>\n<li><code class="language-text">GraphQLExtensions.IsValidLiteralValue</code> now returns <code class="language-text">string</code> instead of <code class="language-text">string[]</code> and is a member of <code class="language-text">ValidationContext</code>.</li>\n</ul>',
fields:{relativePath:"docs/migrations/migration4.md"}},site:{siteMetadata:{githubEditUrl:"https://github.com/graphql-dotnet/graphql-dotnet/edit/master/docs2/site"}}},pathContext:{relativePath:"docs/migrations/migration4.md"}}}});
//# sourceMappingURL=path---docs-migrations-migration-4-6746b15a611e246c4b2b.js.map