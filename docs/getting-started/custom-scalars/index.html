<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-ec37a9b4f58219b99271.js" as="script"/><link rel="preload" href="/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js" as="script"/><link rel="preload" href="/path---docs-getting-started-custom-scalars-caf0253f1b22d6ab80b8.js" as="script"/><link rel="preload" href="/app-b70a48640f802ef752e4.js" as="script"/><link rel="preload" href="/commons-a7cf6837d3c24c1c9d2a.js" as="script"/><title data-react-helmet="true">GraphQL .NET</title><meta data-react-helmet="true" name="description" content="GraphQL for .NET"/><meta data-react-helmet="true" name="keywords" content="graphql,api,web api,.net,.net core"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:0}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{color:#2c3e50}body,html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-size:16px;overflow:auto}body{margin:0}#___gatsby{overflow:auto}ul{padding:0}li,ul{margin:0}a{color:#3eaf7c;text-decoration:underline}.header{height:60px;border-bottom:1px solid #eaecef}.header ul{padding:20px}.header li{list-style:none;display:inline-block;padding:0 12px}.header li a{color:#2c3e50;text-decoration:none}.footer{height:60px}.footer,.header{-ms-flex:none;flex:none}.page-body{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:calc(100% - 60px)}.content{height:100%;width:100%;overflow-y:hidden;overflow-x:hidden;padding:2em}.content ul{margin:20px 0}.content ul li{margin:0 0 0 30px}.content blockquote{padding:30px;border-left:7px solid #eaecef;margin:0 0 1.45rem}.content pre{margin-bottom:1.45rem}.content-body,.content-toolbar{margin:0 auto;max-width:740px}.content-toolbar{padding:1rem 0}.nav{padding-top:2rem;-ms-flex-order:1;order:1;overflow-y:inherit;overflow-x:hidden;-ms-flex-positive:1;flex-grow:1;border:0;min-width:18rem}.nav li{list-style:none}.nav li span{padding:.25rem 1rem .25rem 1.5rem;font-weight:600;display:block}.nav ul{margin-bottom:15px}.nav ul a{color:#2c3e50;padding:.25rem 1rem .25rem 1.25rem;border-left:.25rem solid transparent;display:inline-block;text-decoration:none;line-height:1.4}.nav ul a:hover{color:#3eaf7c}.nav ul a.active{color:#3eaf7c;border-left:.25rem solid #3eaf7c;text-decoration:none}@media (min-width:768px){#___gatsby,body,html{height:100%;overflow-y:hidden}.page-body{-ms-flex-direction:row;flex-direction:row}.content{overflow-y:auto}.ads,.nav{-ms-flex-order:-1;order:-1}.nav{overflow-y:auto;border-right:1px solid #eaecef}}.landing{margin:1.8rem auto}</style></head><body><div id="___gatsby"><nav class="header"><ul><li><a href="/">GraphQL.NET</a></li><li><a href="/docs/getting-started/introduction">Docs</a></li><li><a href="https://github.com/graphql-dotnet/graphql-dotnet" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></nav><div class="page-body"><div class="content"><article class="content-body"><h1 id="custom-scalars"><a href="#custom-scalars" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Scalars</h1>
<p>You can extend your schema with your own custom scalars. Conceptually, a scalar must implement the following operations:</p>
<ul>
<li>
<p>Serialization: Transforms a scalar from its server-side representation to a representation suitable for the client.</p>
</li>
<li>
<p>Value Parsing: Transforms a scalar from its client-side representation as a variable to its server-side representation.</p>
</li>
<li>
<p>Literal Parsing: Transforms a scalar from its client-side representation as an argument to its server-side representation.</p>
</li>
</ul>
<p>Parsing for arguments and variables are handled separately because while arguments must always be expressed in GraphQL
query syntax, variable format is transport-specific (usually JSON). You can find more information about
these methods <a href="https://github.com/graphql-dotnet/graphql-dotnet/blob/master/src/GraphQL/Types/Scalars/ScalarGraphType.cs">here</a>.</p>
<p>You may wish to read more about how scalars work at the following links:</p>
<ul>
<li><a href="https://www.graphql-scalars.com/scalars-guide/">https://www.graphql-scalars.com/scalars-guide/</a></li>
<li><a href="https://www.graphql.de/blog/scalars-in-depth/">https://www.graphql.de/blog/scalars-in-depth/</a></li>
</ul>
<h2 id="vector3-sample-with-string-parsing-and-serialization"><a href="#vector3-sample-with-string-parsing-and-serialization" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vector3 sample with string parsing and serialization</h2>
<p>The following example shows how to create a custom scalar in GraphQL.NET. You will create a 3D Vector which will be exchanged
between server and client as a comma-separated string (ex. "34, 61, 12"). The example assumes the GraphQL schema is implemented
in an ASP.NET Core project using the <code class="language-text">Microsoft.Extensions.DependencyInjection</code> package, though only minor modifications would
be required for other project types.</p>
<p>Assume the following schema</p>
<div class="gatsby-highlight" data-language="graphql">
      <pre class="language-graphql"><code class="language-graphql"><span class="token keyword">scalar</span> <span class="token class-name">Vector3</span>

<span class="token keyword">schema</span> <span class="token punctuation">{</span>
    <span class="token attr-name">query</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token attr-name">getVector</span><span class="token punctuation">:</span> <span class="token class-name">Vector3</span><span class="token operator">!</span>
    <span class="token punctuation">}</span>
    <span class="token attr-name">mutation</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token attr-name">addVector</span><span class="token punctuation">(</span><span class="token attr-name">vector3</span><span class="token punctuation">:</span> <span class="token class-name">Vector3</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token class-name">Vector3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>The goal is to execute mutations with both arguments:</p>
<div class="gatsby-highlight" data-language="graphql">
      <pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token punctuation">{</span>
    <span class="token property-query">addVector</span><span class="token punctuation">(</span><span class="token attr-name">vector3</span><span class="token punctuation">:</span> <span class="token string">"23,43,66"</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>and also variables:</p>
<div class="gatsby-highlight" data-language="graphql">
      <pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token definition-mutation function">AddVector</span><span class="token punctuation">(</span><span class="token variable">$vector3</span><span class="token punctuation">:</span> <span class="token class-name">Vector3</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property-query">addVector</span><span class="token punctuation">(</span><span class="token attr-name">vector3</span><span class="token punctuation">:</span> <span class="token variable">$vector3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

//<span class="token object">variables</span>
<span class="token punctuation">{</span>
    <span class="token string">"vector3"</span><span class="token punctuation">:</span> <span class="token string">"23,43,66"</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Vectors should be returned in the same format:</p>
<div class="gatsby-highlight" data-language="json">
      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"getVector"</span><span class="token operator">:</span> <span class="token string">"23,43,66"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="1-create-the-classstruct-for-the-server-side-representation"><a href="#1-create-the-classstruct-for-the-server-side-representation" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Create the class/struct for the server-side representation.</h3>
<p>This is not necessary if you intend to use already existing classes (<code class="language-text">string</code>, <code class="language-text">int</code>, etc.)
for the server-side representation.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">struct</span> <span class="token class-name">Vector3</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">Vector3</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">float</span></span> x<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">float</span></span> y<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">float</span></span> z<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        X <span class="token operator">=</span> x<span class="token punctuation">;</span>
        Y <span class="token operator">=</span> y<span class="token punctuation">;</span>
        Z <span class="token operator">=</span> z<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> X <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> Y <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">float</span></span> Z <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>       
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="2-create-a-graph-type-for-the-scalar-by-inheriting-code-classlanguage-textscalargraphtypecode"><a href="#2-create-a-graph-type-for-the-scalar-by-inheriting-code-classlanguage-textscalargraphtypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Create a graph type for the scalar by inheriting <code class="language-text">ScalarGraphType</code>.</h3>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">GraphQL</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">GraphQL<span class="token punctuation">.</span>Types</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">GraphQLParser<span class="token punctuation">.</span>AST</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Vector3Type</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScalarGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">Vector3Type</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Vector3"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">NotImplementedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="3-register-the-graph-type-with-the-di-container"><a href="#3-register-the-graph-type-with-the-di-container" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Register the graph type with the DI container.</h3>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Startup.cs</span>

<span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">ConfigureServices</span><span class="token punctuation">(</span><span class="token class-name">IServiceCollection</span> services<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSingleton</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Vector3Type<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Other schema registrations...</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="4-prepare-to-accept-code-classlanguage-textvector3code-inputs-from-query-arguments-implement-code-classlanguage-textscalargraphtypeparseliteralcode"><a href="#4-prepare-to-accept-code-classlanguage-textvector3code-inputs-from-query-arguments-implement-code-classlanguage-textscalargraphtypeparseliteralcode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Prepare to accept <code class="language-text">Vector3</code> inputs from query arguments. Implement <code class="language-text">ScalarGraphType.ParseLiteral</code>.</h3>
<p>Keep in mind that AST parsing may present values as any of the following types:</p>
<ul>
<li><code class="language-text">GraphQLIntValue</code> - integer values</li>
<li><code class="language-text">GraphQLFloatValue</code> - floating-point values that can be represented within a <code class="language-text">double</code></li>
<li><code class="language-text">GraphQLStringValue</code> - string values</li>
<li><code class="language-text">GraphQLEnumValue</code> - enumeration values</li>
<li><code class="language-text">GraphQLBooleanValue</code> - boolean values - <code class="language-text">true</code> and <code class="language-text">false</code></li>
<li><code class="language-text">GraphQLNullValue</code> - representing <code class="language-text">null</code> - must be handled by all scalars</li>
<li><code class="language-text">GraphQLObjectValue</code> - complex values with nested levels</li>
<li><code class="language-text">GraphQLListValue</code> - lists of values</li>
</ul>
<p>If your custom scalar accepts floating-point values, you must be sure to handle <code class="language-text">GraphQLIntValue</code>
as well, since queries like <code class="language-text">{ field(arg: 3) }</code> is parsed as an <code class="language-text">GraphQLIntValue</code> even though
it is also a valid floating-point number.</p>
<p>In the sample below, only <code class="language-text">GraphQLNullValue</code> and <code class="language-text">GraphQLStringValue</code> need to be handled.</p>
<p>For any type that is not handled, or when the value cannot be parsed, you must throw an exception.
<code class="language-text">ThrowLiteralConversionError</code> is provided as a convenient method to facilitate throwing an exception
when the type does not match.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">//in Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">GraphQLNullValue</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">GraphQLStringValue</span> stringValue<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>stringValue<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token function">ThrowLiteralConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Once the raw string is extracted from the value node, normal parsing can proceed.</p>
<h3 id="5-prepare-to-accept-code-classlanguage-textvector3code-inputs-from-query-variables-implement-code-classlanguage-textscalargraphtypeparsevaluecode"><a href="#5-prepare-to-accept-code-classlanguage-textvector3code-inputs-from-query-variables-implement-code-classlanguage-textscalargraphtypeparsevaluecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. Prepare to accept <code class="language-text">Vector3</code> inputs from query variables. Implement <code class="language-text">ScalarGraphType.ParseValue</code>.</h3>
<p>Similar to <code class="language-text">ParseLiteral</code>, you must keep in mind the expected format of values that are likely
to be presented to this method. For instance, if you are using a JSON deserializer, you may be
presented with values of any of these types (or more, depending on your deserializer configuration):</p>
<ul>
<li><code class="language-text">int</code></li>
<li><code class="language-text">long</code></li>
<li><code class="language-text">ulong</code></li>
<li><code class="language-text">BigInteger</code></li>
<li><code class="language-text">double</code></li>
<li><code class="language-text">decimal</code></li>
<li><code class="language-text">string</code></li>
<li><code class="language-text">null</code> - must be handled by all scalars</li>
</ul>
<p>On top of that, if you are calling this method from <code class="language-text">ParseLiteral</code>, you must handle the types
passed from it. So if your scalar needs to handle floating-point values, you likely need to handle
<code class="language-text">int</code>, <code class="language-text">long</code>, <code class="language-text">ulong</code>, <code class="language-text">BigInteger</code>, <code class="language-text">double</code> and <code class="language-text">decimal</code> types.</p>
<p>For any type that is not handled, or when the value cannot be parsed, you must throw an exception.
<code class="language-text">ThrowValueConversionError</code> is provided as a convenient method to facilitate throwing an exception
when the type does not match.</p>
<p>In the sample below, only <code class="language-text">null</code> and <code class="language-text">string</code> types need to be handled.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name"><span class="token keyword">string</span></span> vector3InputString<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> vector3Parts <span class="token operator">=</span> vector3InputString<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token char">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> x <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> y <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> z <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Failed to parse </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">nameof</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> from input '</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">vector3InputString</span><span class="token punctuation">}</span></span><span class="token string">'. Input should be a string of three comma-separated floats in X Y Z order, ex. 1.0,2.0,3.0"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowValueConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="6-implement-code-classlanguage-textscalargraphtypeserializecode-so-code-classlanguage-textvector3code-instances-can-be-sent-to-the-client"><a href="#6-implement-code-classlanguage-textscalargraphtypeserializecode-so-code-classlanguage-textvector3code-instances-can-be-sent-to-the-client" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. Implement <code class="language-text">ScalarGraphType.Serialize</code> so <code class="language-text">Vector3</code> instances can be sent to the client.</h3>
<p>Keep in mind that a <code class="language-text">null</code> value also required to be handled.</p>
<p>It is recommended that the type of data this method returns match the same type as
is handled within <code class="language-text">ParseValue</code>. In this case, serialization of <code class="language-text">Vector3</code> is serialized as
a string, which matches the expected data type within <code class="language-text">ParseValue</code>.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">Vector3</span> vector3<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">vector3<span class="token punctuation">.</span>X</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">vector3<span class="token punctuation">.</span>Y</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">vector3<span class="token punctuation">.</span>Z</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowSerializationError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="7-override-code-classlanguage-textscalargraphtypetoastcode-if-necessary"><a href="#7-override-code-classlanguage-textscalargraphtypetoastcode-if-necessary" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. Override <code class="language-text">ScalarGraphType.ToAST</code> if necessary.</h3>
<p>The infrastructure converts default field values to AST representations during initialization
in order to verify that the default values are valid within an AST tree. The default implementation
calls <code class="language-text">Serialize</code> to convert the value to its client-side equivalent, then embeds it into an
appropriate AST node based on the data type returned from <code class="language-text">Serialize</code>. It is likely you will
only need to override this method if you are creating a custom scalar that returns enumeration
values, or if you are returning structured data.</p>
<h3 id="8-code-first-register-the-net-type-mapping-with-the-schema-optional"><a href="#8-code-first-register-the-net-type-mapping-with-the-schema-optional" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Code-first: Register the .NET type mapping with the schema (optional).</h3>
<p>In order to allow simple field mappings like <code class="language-text">Field(x => x.Vector)</code>, you need to register the
custom scalar within the schema so that the proper graph type can be selected for the field.
Call <code class="language-text">RegisterTypeMapping</code> with the CLR data model type and the graph type you want it mapped to.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySchema</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MySchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Vector3<span class="token punctuation">,</span> Vector3Type<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>This is not necessary if you use the alternate <code class="language-text">Field&lt;T></code> syntax which specifies the graph type
to be used for the field, or if your scalar data type is marked with the
<code class="language-text">[InputType]</code> and/or <code class="language-text">[OutputType]</code> attributes.</p>
<p>In this example, you created a custom scalar. In summary:</p>
<ul>
<li>Create (if necessary) a data class/struct for the server-side representation of the scalar</li>
<li>Implement a <code class="language-text">ScalarGraphType</code> which handles variable parsing, literal parsing, and serialization</li>
<li>Register the <code class="language-text">ScalarGraphType</code> within the DI container</li>
</ul>
<p>You can also choose to override <code class="language-text">CanParseLiteral</code>, <code class="language-text">CanParseValue</code> or <code class="language-text">IsValidDefault</code> for
enhanced performance. The default implementations call <code class="language-text">ParseLiteral</code>, <code class="language-text">ParseValue</code> and
<code class="language-text">ToAST</code> respectively, returning <code class="language-text">false</code> if an exception is caught, or <code class="language-text">true</code> otherwise.
If you do choose to implement these methods, note that those methods must not throw an
exception, and that they are not always called when executing a document.</p>
<h2 id="vector3-sample-with-combined-stringstructured-parsing-and-serialization"><a href="#vector3-sample-with-combined-stringstructured-parsing-and-serialization" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Vector3 sample with combined string/structured parsing and serialization</h2>
<p>Keep in mind that the serialized value returned by custom scalar can be anything that the
environment allows. For example it can be a structured object, rather than a simple value.</p>
<p>So to extend our sample, let's assume that we want the Vector3 scalar to instead accept and
return data in a more structured format, in addition to supporting the string format for literals.</p>
<p>Here is a sample of a variable supporting a more structured format:</p>
<div class="gatsby-highlight" data-language="graphql">
      <pre class="language-graphql"><code class="language-graphql"><span class="token keyword">mutation</span> <span class="token definition-mutation function">AddVector</span><span class="token punctuation">(</span><span class="token variable">$vector3</span><span class="token punctuation">:</span> <span class="token class-name">Vector3</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property-query">addVector</span><span class="token punctuation">(</span><span class="token attr-name">vector3</span><span class="token punctuation">:</span> <span class="token variable">$vector3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

//<span class="token object">variables</span>
<span class="token punctuation">{</span>
    <span class="token string">"vector3"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">"x"</span><span class="token punctuation">:</span><span class="token string">"23"</span><span class="token punctuation">,</span>
        <span class="token string">"y"</span><span class="token punctuation">:</span><span class="token string">"43"</span><span class="token punctuation">,</span>
        <span class="token string">"z"</span><span class="token punctuation">:</span><span class="token string">"66"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>And a sample of a response with a vector in a more structured format:</p>
<div class="gatsby-highlight" data-language="json">
      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
    <span class="token property">"data"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"getVector"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token property">"x"</span><span class="token operator">:</span><span class="token string">"23"</span><span class="token punctuation">,</span>
            <span class="token property">"y"</span><span class="token operator">:</span><span class="token string">"43"</span><span class="token punctuation">,</span>
            <span class="token property">"z"</span><span class="token operator">:</span><span class="token string">"66"</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="1-change-code-classlanguage-textparseliteralcode-to-accept-strings-or-structured-data"><a href="#1-change-code-classlanguage-textparseliteralcode-to-accept-strings-or-structured-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Change <code class="language-text">ParseLiteral</code> to accept strings or structured data:</h3>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">GraphQLNullValue</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">GraphQLStringValue</span> stringValue<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>stringValue<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">GraphQLObjectValue</span> objectValue<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> entries <span class="token operator">=</span> objectValue<span class="token punctuation">.</span>Fields<span class="token punctuation">.</span><span class="token function">ToDictionary</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Name<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> x <span class="token operator">=></span> _floatScalar<span class="token punctuation">.</span><span class="token function">ParseLiteral</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>entries<span class="token punctuation">.</span>Count <span class="token operator">!=</span> <span class="token number">3</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token function">ThrowLiteralConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> x <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>entries<span class="token punctuation">[</span><span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> y <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>entries<span class="token punctuation">[</span><span class="token string">"y"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token class-name"><span class="token keyword">var</span></span> z <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">double</span><span class="token punctuation">)</span>entries<span class="token punctuation">[</span><span class="token string">"z"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>x<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>y<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>z<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowLiteralConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="2-change-code-classlanguage-textparsevaluecode-to-accept-strings-or-structured-data"><a href="#2-change-code-classlanguage-textparsevaluecode-to-accept-strings-or-structured-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Change <code class="language-text">ParseValue</code> to accept strings or structured data:</h3>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name"><span class="token keyword">string</span></span> vector3InputString<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> vector3Parts <span class="token operator">=</span> vector3InputString<span class="token punctuation">.</span><span class="token function">Split</span><span class="token punctuation">(</span><span class="token char">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> x <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> y <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> z <span class="token operator">=</span> <span class="token keyword">float</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>vector3Parts<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Failed to parse </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">nameof</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> from input '</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">vector3InputString</span><span class="token punctuation">}</span></span><span class="token string">'. Input should be a string of three comma-separated floats in X Y Z order, ex. 1.0,2.0,3.0"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">IDictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span> dictionary<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            <span class="token class-name"><span class="token keyword">var</span></span> x <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToSingle</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"x"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> y <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToSingle</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"y"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name"><span class="token keyword">var</span></span> z <span class="token operator">=</span> Convert<span class="token punctuation">.</span><span class="token function">ToSingle</span><span class="token punctuation">(</span>dictionary<span class="token punctuation">[</span><span class="token string">"z"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>dictionary<span class="token punctuation">.</span>Count <span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token function">ThrowValueConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Vector3</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Failed to parse </span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp"><span class="token keyword">nameof</span><span class="token punctuation">(</span>Vector3<span class="token punctuation">)</span></span><span class="token punctuation">}</span></span><span class="token string"> from object. Input should be an object of three floats named X Y and Z"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowValueConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="3-change-code-classlanguage-textserializecode-to-return-structured-data"><a href="#3-change-code-classlanguage-textserializecode-to-return-structured-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Change <code class="language-text">Serialize</code> to return structured data.</h3>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">Vector3</span> vector3<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span>
        <span class="token punctuation">{</span>
            x <span class="token operator">=</span> vector3<span class="token punctuation">.</span>X<span class="token punctuation">,</span>
            y <span class="token operator">=</span> vector3<span class="token punctuation">.</span>Y<span class="token punctuation">,</span>
            z <span class="token operator">=</span> vector3<span class="token punctuation">.</span>Z
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowSerializationError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="4-change-code-classlanguage-texttoastcode-to-return-an-ast-literal-that-represents-the-data"><a href="#4-change-code-classlanguage-texttoastcode-to-return-an-ast-literal-that-represents-the-data" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Change <code class="language-text">ToAST</code> to return an AST literal that represents the data.</h3>
<p>Since <code class="language-text">Serialize</code> no longer returns a type that can be converted to an AST node, it is
necessary to override this method.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// In Vector3Type</span>

<span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">GraphQLValue<span class="token punctuation">?</span></span> <span class="token function">ToAST</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span><span class="token punctuation">?</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLNullValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">Vector3</span> vector3<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLObjectValue</span>
        <span class="token punctuation">{</span>
            Fields <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">List<span class="token punctuation">&lt;</span>GraphQLObjectField<span class="token punctuation">></span></span>
            <span class="token punctuation">{</span>
                <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLObjectField</span>
                <span class="token punctuation">{</span>
                    Name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLName</span><span class="token punctuation">(</span><span class="token string">"x"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    Value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLFloatValue</span><span class="token punctuation">(</span>vector3<span class="token punctuation">.</span>X<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLObjectField</span>
                <span class="token punctuation">{</span>
                    Name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLName</span><span class="token punctuation">(</span><span class="token string">"y"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    Value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLFloatValue</span><span class="token punctuation">(</span>vector3<span class="token punctuation">.</span>Y<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLObjectField</span>
                <span class="token punctuation">{</span>
                    Name <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLName</span><span class="token punctuation">(</span><span class="token string">"z"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                    Value <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLFloatValue</span><span class="token punctuation">(</span>vector3<span class="token punctuation">.</span>Z<span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token function">ThrowASTConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>With these changes, a literal or variable can be parsed as a string or as a structured object, and
is always returned as a structured object.</p>
<h2 id="valueconverter"><a href="#valueconverter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ValueConverter</h2>
<p>When <code class="language-text">GetArgument&lt;T></code> is called, the argument value is coerced to the requested type via the <code class="language-text">ValueConverter</code>.
No conversion takes place when the requested type matches the type of the object or scalar (the type returned from
<code class="language-text">ParseLiteral</code> or <code class="language-text">ParseValue</code>). But you can also use the value converter to assist with input deserialization.</p>
<p>For instance, you may be using <code class="language-text">IdGraphType</code> within your schema as unique identifiers for your data objects. Pursuant
to the GraphQL specification, these identifiers may be passed as strings such as in the below example:</p>
<div class="gatsby-highlight" data-language="graphql">
      <pre class="language-graphql"><code class="language-graphql"><span class="token punctuation">{</span>
    <span class="token property-query">widget</span> <span class="token punctuation">(</span><span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token string">"3"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token property">name</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>However, your code may use integer identifiers in the data access layer. So when you call <code class="language-text">context.GetArgument&lt;int>("id")</code>,
GraphQL.NET calls the value converter to convert the string to an integer.</p>
<p>The value converter can be extended globally by calling the static method <code class="language-text">Register</code> as follows:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp">ValueConverter<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Vector3<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span>v <span class="token operator">=></span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>X</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>Y</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>Z</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>The above method registers a conversion from the <code class="language-text">Vector3</code> struct to a <code class="language-text">string</code>. Since the registration is static,
it should only be done once per application lifetime. For instance, in a static constructor of your schema.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySchema</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Schema</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token function">MySchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        ValueConverter<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Vector3<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span>v <span class="token operator">=></span> <span class="token interpolation-string"><span class="token string">$"</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>X</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>Y</span><span class="token punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">v<span class="token punctuation">.</span>Z</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h2 id="null-values"><a href="#null-values" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Null values</h2>
<p>Custom scalars process and handle null values during serialization and deserialization. For instance,
let's say you have a database where database ID values of 0 should be represented as GraphQL 'null'
values. You could of course write code within the field resolver to translate the values, or you may
utilize a custom scalar to translate the values for you. The below example of a custom scalar does
this and also rejects external values that are not strings containing integers, and rejects 0 or negative values:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DbIdGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ScalarGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">DbIdGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"DbId"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name">GraphQLStringValue</span> s <span class="token operator">=></span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">?</span> i <span class="token punctuation">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"'</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s<span class="token punctuation">.</span>Value</span><span class="token punctuation">}</span></span><span class="token string">' is not a valid identifier."</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token return-type class-name">GraphQLNullValue</span> _ <span class="token operator">=></span> <span class="token number">0</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowLiteralConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name"><span class="token keyword">string</span></span> s <span class="token operator">=></span> <span class="token keyword">int</span><span class="token punctuation">.</span><span class="token function">TryParse</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">int</span></span> i<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">?</span> i <span class="token punctuation">:</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FormatException</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"'</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">s</span><span class="token punctuation">}</span></span><span class="token string">' is not a valid identifier."</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token number">0</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowValueConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name"><span class="token keyword">int</span></span> i <span class="token operator">=></span> i <span class="token operator">></span> <span class="token number">0</span> <span class="token punctuation">?</span> i<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> i <span class="token operator">==</span> <span class="token number">0</span> <span class="token punctuation">?</span> <span class="token keyword">null</span> <span class="token punctuation">:</span> <span class="token function">ThrowSerializationError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowSerializationError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h2 id="replacing-built-in-scalar-types"><a href="#replacing-built-in-scalar-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Replacing built-in scalar types</h2>
<p>In some cases you may want or need to replace the functionality of the built-in graph types. This can
be accomplished by registering a replacement scalar before the schema has been initialized. Keep in
mind that replacing a built-in type may affect the operation of introspection queries.</p>
<p>In order to replace a built-in scalar graph type, the new scalar graph type must:</p>
<ol>
<li>inherit from the scalar graph type it is replacing; and</li>
<li>have the <code class="language-text">Name</code> property set to the name of the built-in graph type.</li>
</ol>
<p>You may then override any of the members to provide custom implementations. Note that most of the
built-in scalars override <code class="language-text">CanParseLiteral</code>, so it may be necessary to override that method if you
override <code class="language-text">ParseLiteral</code>. Check the source code for the built-in scalar type you are overriding for
further reference.</p>
<p>Below is a sample of how to replace the built-in <code class="language-text">BooleanGraphType</code> so it will accept 0 and non-zero
values to represent <code class="language-text">false</code> and <code class="language-text">true</code>.</p>
<h3 id="1-create-a-new-scalar-graph-type-code-classlanguage-textmybooleangraphtypecode"><a href="#1-create-a-new-scalar-graph-type-code-classlanguage-textmybooleangraphtypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Create a new scalar graph type <code class="language-text">MyBooleanGraphType</code></h3>
<p>Inherit from <code class="language-text">BooleanGraphType</code> and set the name to be <code class="language-text">Boolean</code>.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBooleanGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BooleanGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Boolean"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="2-override-the-methods-as-necessary"><a href="#2-override-the-methods-as-necessary" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Override the methods as necessary</h3>
<p>In this case we must override all of them except <code class="language-text">Serialize</code> and <code class="language-text">IsValidDefault</code>.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBooleanGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BooleanGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Boolean"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name">GraphQLBooleanValue</span> b <span class="token operator">=></span> b<span class="token punctuation">.</span>BoolValue<span class="token punctuation">,</span>
        <span class="token return-type class-name">GraphQLIntValue</span> i <span class="token operator">=></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token function">ParseDoubleAccordingSpec</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token return-type class-name">GraphQLFloatValue</span> f <span class="token operator">=></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token function">ParseDoubleAccordingSpec</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token return-type class-name">GraphQLStringValue</span> s <span class="token operator">=></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token return-type class-name">GraphQLNullValue</span> _ <span class="token operator">=></span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowLiteralConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanParseLiteral</span><span class="token punctuation">(</span><span class="token class-name">GraphQLValue</span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            _ <span class="token operator">=</span> <span class="token function">ParseLiteral</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name"><span class="token keyword">bool</span></span> _ <span class="token operator">=></span> <span class="token keyword">value</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">byte</span></span> b <span class="token operator">=></span> b <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">sbyte</span></span> sb <span class="token operator">=></span> sb <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">short</span></span> s <span class="token operator">=></span> s <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">ushort</span></span> us <span class="token operator">=></span> us <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">int</span></span> i <span class="token operator">=></span> i <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">uint</span></span> ui <span class="token operator">=></span> ui <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">long</span></span> l <span class="token operator">=></span> l <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">ulong</span></span> ul <span class="token operator">=></span> ul <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name">BigInteger</span> bi <span class="token operator">=></span> bi <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">float</span></span> f <span class="token operator">=></span> f <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">double</span></span> d <span class="token operator">=></span> d <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">decimal</span></span> d <span class="token operator">=></span> d <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">,</span>
        <span class="token return-type class-name"><span class="token keyword">string</span></span> s <span class="token operator">=></span> <span class="token keyword">bool</span><span class="token punctuation">.</span><span class="token function">Parse</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowValueConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            _ <span class="token operator">=</span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">GraphQLValue</span> <span class="token function">ToAST</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">Serialize</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token return-type class-name"><span class="token keyword">bool</span></span> b <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLBooleanValue</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQLNullValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token function">ThrowASTConversionError</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="3-register-the-custom-scalar-within-your-schema"><a href="#3-register-the-custom-scalar-within-your-schema" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Register the custom scalar within your schema.</h3>
<p>The final step is to register an instance of the custom scalar within the schema. This can be
done for code-first or schema-first schemas. For code-first schemas, register it within
your constructor via <code class="language-text">RegisterType</code>, as follows:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySchema</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Schema</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">void</span></span> <span class="token function">MySchema</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Query <span class="token operator">=</span> <span class="token range operator">..</span><span class="token range operator">..</span><span class="token punctuation">;</span>

        <span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>For schema-first schemas, register it immediately after calling <code class="language-text">Schema.For</code> to create the schema.
Immediately after calling <code class="language-text">Schema.For</code> the schema is not yet initialized, therefore allowing registration of types.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> schema <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
schema<span class="token punctuation">.</span><span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Now all <code class="language-text">BooleanGraphType</code> references in your schema will utilize the new <code class="language-text">MyBooleanGraphType</code>
registered within the schema. This technique can be used to replace any of the built-in graph types.</p>
<p>Note that if you set the <code class="language-text">ResolvedType</code> property of a field or argument to an instance of a built-in
type, or provide an instance of a built-in type to an applicable constructor, it will not be replaced
with your registered replacement built-in type. For example, consider this code:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"sample"</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">arguments</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArguments</span> <span class="token punctuation">{</span>
        <span class="token comment">// will be replaced with MyBooleanGraphType</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArgument<span class="token punctuation">&lt;</span>BooleanGraphType<span class="token punctuation">></span></span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">"argNewBehavior"</span> <span class="token punctuation">}</span>

        <span class="token comment">// will retain default behavior</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArgument</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">BooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">"argOldBehavior"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>This is by design. However, you can call the <code class="language-text">ReplaceScalar</code> extension method after the schema is
built, which will walk through all the graph types configured on the schema and replace any remaining
references of the "Boolean" scalar graph type with references to your replacement scalar graph type.
The scalar to be replaced is matched based on the name of the scalar.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> schema <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span><span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
schema<span class="token punctuation">.</span><span class="token function">ReplaceScalar</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div></article><div class="content-toolbar"><a href="https://github.com/graphql-dotnet/graphql-dotnet/edit/master/docs2/site/docs/getting-started/custom-scalars.md" rel="noopener noreferrer" target="_blank">Edit this page on GitHub</a></div></div><div class="nav"><nav><ul><li><span>Getting Started</span><nav><ul><li><a class="" href="/docs/getting-started/introduction">Introduction</a></li><li><a class="" href="/docs/getting-started/installation">Installation</a></li><li><a class="" href="/docs/getting-started/graphiql">GraphiQL</a></li><li><a class="" href="/docs/getting-started/altair-graphql">Altair GraphQL</a></li><li><a class="" href="/docs/getting-started/queries">Queries</a></li><li><a class="" href="/docs/getting-started/schema-types">Schema Types</a></li><li><a class="active" href="/docs/getting-started/custom-scalars">Custom Scalars</a></li><li><a class="" href="/docs/getting-started/lists-non-null">Lists and Non-Null</a></li><li><a class="" href="/docs/getting-started/arguments">Arguments</a></li><li><a class="" href="/docs/getting-started/aliases">Aliases</a></li><li><a class="" href="/docs/getting-started/fragments">Fragments</a></li><li><a class="" href="/docs/getting-started/variables">Variables</a></li><li><a class="" href="/docs/getting-started/directives">Directives</a></li><li><a class="" href="/docs/getting-started/mutations">Mutations</a></li><li><a class="" href="/docs/getting-started/interfaces">Interfaces</a></li><li><a class="" href="/docs/getting-started/unions">Unions</a></li><li><a class="" href="/docs/getting-started/subscriptions">Subscriptions</a></li><li><a class="" href="/docs/getting-started/query-validation">Query Validation</a></li><li><a class="" href="/docs/getting-started/query-organization">Query Organization</a></li><li><a class="" href="/docs/getting-started/user-context">User Context</a></li><li><a class="" href="/docs/getting-started/errors">Error Handling</a></li><li><a class="" href="/docs/getting-started/dependency-injection">Dependency Injection</a></li><li><a class="" href="/docs/getting-started/databases">Databases</a></li><li><a class="" href="/docs/getting-started/malicious-queries">Malicious Queries</a></li><li><a class="" href="/docs/getting-started/metadata">Object/Field Metadata</a></li><li><a class="" href="/docs/getting-started/field-middleware">Field Middleware</a></li><li><a class="" href="/docs/getting-started/metrics">Metrics</a></li><li><a class="" href="/docs/getting-started/authorization">Authorization</a></li><li><a class="" href="/docs/getting-started/relay">Relay</a></li><li><a class="" href="/docs/getting-started/global-switches">Global Switches</a></li></ul></nav></li><li><span>Guides</span><nav><ul><li><a class="" href="/docs/guides/serialization">Serialization</a></li><li><a class="" href="/docs/guides/dataloader">Dataloader</a></li><li><a class="" href="/docs/guides/schema-generation">Schema Generation</a></li><li><a class="" href="/docs/guides/known-issues">Known Issues &amp; FAQ</a></li><li><a class="" href="/docs/guides/links">Links</a></li><li><a class="" href="/docs/guides/document-caching">Document Caching</a></li></ul></nav></li><li><span>Migration Guides</span><nav><ul><li><a class="" href="/docs/migrations/migration5">Migration Guide [v4 -&gt; v5]</a></li><li><a class="" href="/docs/migrations/migration4">Migration Guide [v3 -&gt; v4]</a></li><li><a class="" href="/docs/migrations/migration3">Migration Guide [v2 -&gt; v3]</a></li><li><a class="" href="/docs/migrations/migration2">Migration Guide [v0.17.x -&gt; v2]</a></li><li><a class="" href="/docs/migrations/v0_11_0">Migration Guide [v0.11.0]</a></li><li><a class="" href="/docs/migrations/v0_8_0">Migration Guide [v0.8.0]</a></li></ul></nav></li></ul></nav></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-b70a48640f802ef752e4.js","95710047193689":"component---site-pages-landing-js-7a04f3721ec3f8b3df00.js","28613242278168":"component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","162898551421021":"component---src-pages-404-js-dafbfbd345a265f9fe6e.js","60335399758886":"path----28952ff3c5b84b60f25b.js","142629428675168":"path---index-6b1dcdab0a774a86ff50.js","194669561623365":"path---docs-getting-started-introduction-6295ad9245bb5eff620c.js","7936910712040":"path---docs-getting-started-installation-47d40962aa0cbc105411.js","86643674157860":"path---docs-getting-started-graphiql-f33bd2db8b9e17e05b5c.js","53507852050045":"path---docs-getting-started-altair-graphql-432e07418ea18f50bbec.js","143391023720279":"path---docs-getting-started-queries-b10ffed3178bfbf8204b.js","202354100065884":"path---docs-getting-started-schema-types-2dacc97a30bded78e497.js","266142771958950":"path---docs-getting-started-custom-scalars-caf0253f1b22d6ab80b8.js","56185524266781":"path---docs-getting-started-lists-non-null-e685364a0af4c21096f9.js","76576268814232":"path---docs-getting-started-arguments-52ff836595dbe31dedcd.js","202043887933404":"path---docs-getting-started-aliases-70e6a221c3b60856c9ce.js","157702184900489":"path---docs-getting-started-fragments-b78adb5f2a55e1757268.js","44712706562510":"path---docs-getting-started-variables-e625c38a650cae282cd1.js","244442750240678":"path---docs-getting-started-directives-af691758845d406048ad.js","114361466534084":"path---docs-getting-started-mutations-8d3f2e9bee63a429a7c6.js","133838580703967":"path---docs-getting-started-interfaces-23354ec0971c79c7ede8.js","53220472400125":"path---docs-getting-started-unions-00f581913ae18e4f19d7.js","278627754389952":"path---docs-getting-started-subscriptions-7e27284bbc8f8b9457e3.js","107167650384582":"path---docs-getting-started-query-validation-31983a197b4de32bb965.js","11491794978075":"path---docs-getting-started-query-organization-003284bc3d803af3e851.js","171719905287791":"path---docs-getting-started-user-context-9f7b411d442163a92cb0.js","75494656540334":"path---docs-getting-started-errors-b38cddc7d08b30594f01.js","178698305269250":"path---docs-getting-started-dependency-injection-5a5fa645118bf4e587c2.js","75420749601626":"path---docs-getting-started-databases-8c247e11852995057bce.js","55192516056771":"path---docs-getting-started-malicious-queries-8cfc2e56689958d6cad2.js","33904618880309":"path---docs-getting-started-metadata-fa9be91f3cc04771446c.js","131465737246961":"path---docs-getting-started-field-middleware-95accab31314c6ebbb6e.js","185577185973635":"path---docs-getting-started-metrics-0ce35151c9c1d69507e3.js","271764429786961":"path---docs-getting-started-authorization-50c3e41bd97ca2699b0e.js","71981178235569":"path---docs-getting-started-relay-ffee045935c5c5403cd5.js","167079278695343":"path---docs-getting-started-global-switches-bde872387f8659f5a43e.js","970605649915":"path---docs-guides-serialization-18b0fc9aa1534af202e0.js","67274500541493":"path---docs-guides-dataloader-d40d35e1e24a9c1f2b84.js","254760750072238":"path---docs-guides-schema-generation-0387bd7d86b48ed53440.js","260838844694584":"path---docs-guides-known-issues-1d1a44388f58f7c5313a.js","139372590924694":"path---docs-guides-links-23fe4eb9d559d9c8dfe5.js","107626090068759":"path---docs-guides-document-caching-68b59920c8e0d1f70568.js","169038957085601":"path---docs-migrations-migration-5-08482d469c8323541918.js","57783942601805":"path---docs-migrations-migration-4-ddf2740029240c63307d.js","170816503279010":"path---docs-migrations-migration-3-592f267ac70d938bd515.js","87071238410674":"path---docs-migrations-migration-2-12e6d729190fab470be4.js","129554874384426":"path---docs-migrations-v-0-11-0-43992d4826c517cbc95e.js","179521343418354":"path---docs-migrations-v-0-8-0-711ed55bd1278e1d6a97.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-ec37a9b4f58219b99271.js"}/*]]>*/</script><script>/*<![CDATA[*/["/commons-a7cf6837d3c24c1c9d2a.js","/app-b70a48640f802ef752e4.js","/path---docs-getting-started-custom-scalars-caf0253f1b22d6ab80b8.js","/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","/component---src-layouts-index-js-ec37a9b4f58219b99271.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>