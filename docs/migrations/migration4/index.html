<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js" as="script"/><link rel="preload" href="/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js" as="script"/><link rel="preload" href="/path---docs-migrations-migration-4-ddf2740029240c63307d.js" as="script"/><link rel="preload" href="/app-25b650787e17e3ebc069.js" as="script"/><link rel="preload" href="/commons-a7cf6837d3c24c1c9d2a.js" as="script"/><title data-react-helmet="true">GraphQL .NET</title><meta data-react-helmet="true" name="description" content="GraphQL for .NET"/><meta data-react-helmet="true" name="keywords" content="graphql,api,web api,.net,.net core"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:0}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{color:#2c3e50}body,html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-size:16px;overflow:auto}body{margin:0}#___gatsby{overflow:auto}ul{padding:0}li,ul{margin:0}a{color:#3eaf7c;text-decoration:underline}.header{height:60px;border-bottom:1px solid #eaecef}.header ul{padding:20px}.header li{list-style:none;display:inline-block;padding:0 12px}.header li a{color:#2c3e50;text-decoration:none}.footer{height:60px}.footer,.header{-ms-flex:none;flex:none}.page-body{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:calc(100% - 60px)}.content{height:100%;width:100%;overflow-y:hidden;overflow-x:hidden;padding:2em}.content ul{margin:20px 0}.content ul li{margin:0 0 0 30px}.content blockquote{padding:30px;border-left:7px solid #eaecef;margin:0 0 1.45rem}.content pre{margin-bottom:1.45rem}.content-body,.content-toolbar{margin:0 auto;max-width:740px}.content-toolbar{padding:1rem 0}.nav{padding-top:2rem;-ms-flex-order:1;order:1;overflow-y:inherit;overflow-x:hidden;-ms-flex-positive:1;flex-grow:1;border:0;min-width:18rem}.nav li{list-style:none}.nav li span{padding:.25rem 1rem .25rem 1.5rem;font-weight:600;display:block}.nav ul{margin-bottom:15px}.nav ul a{color:#2c3e50;padding:.25rem 1rem .25rem 1.25rem;border-left:.25rem solid transparent;display:inline-block;text-decoration:none;line-height:1.4}.nav ul a:hover{color:#3eaf7c}.nav ul a.active{color:#3eaf7c;border-left:.25rem solid #3eaf7c;text-decoration:none}@media (min-width:768px){#___gatsby,body,html{height:100%;overflow-y:hidden}.page-body{-ms-flex-direction:row;flex-direction:row}.content{overflow-y:auto}.ads,.nav{-ms-flex-order:-1;order:-1}.nav{overflow-y:auto;border-right:1px solid #eaecef}}.landing{margin:1.8rem auto}</style></head><body><div id="___gatsby"><nav class="header"><ul><li><a href="/">GraphQL.NET</a></li><li><a href="/docs/getting-started/introduction">Docs</a></li><li><a href="https://github.com/graphql-dotnet/graphql-dotnet" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></nav><div class="page-body"><div class="content"><article class="content-body"><h1 id="migrating-from-v3x-to-v4x"><a href="#migrating-from-v3x-to-v4x" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from v3.x to v4.x</h1>
<p>See <a href="https://github.com/graphql-dotnet/graphql-dotnet/issues?q=milestone%3A4.0+is%3Aissue+is%3Aclosed">issues</a> and <a href="https://github.com/graphql-dotnet/graphql-dotnet/pulls?q=is%3Apr+milestone%3A4.0+is%3Aclosed">pull requests</a> done in v4.</p>
<h2 id="new-features"><a href="#new-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Features</h2>
<h3 id="improved-performance"><a href="#improved-performance" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Improved Performance</h3>
<p>GraphQL.NET 4.0 has been highly optimized, typically executing queries at least 50% faster while also providing
a 75% memory reduction. Small queries have been measured to run twice as fast as they previously ran. A cached
query executor is also provided, which can reduce execution time another 20% once the query has been parsed
(disabled by default). Variable parsing is also improved to run about 50% faster, and schema build time is
now about 20x faster than previously and requires 1/25th the amount of memory.</p>
<p>See the <a href="https://graphql-dotnet.github.io/docs/guides/document-caching">Document Caching</a> guide to enable
document caching.</p>
<p>To facilitate the performance changes, many changes were made to the API that may affect you if you have
built custom execution strategies, scalars, parser, or similar core components. Please see the complete list
of breaking changes below.</p>
<h3 id="input-object-custom-deserializers-aka-resolver"><a href="#input-object-custom-deserializers-aka-resolver" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Input Object Custom Deserializers (aka resolver)</h3>
<p>You can now add code to <code class="language-text">InputObjectGraphType</code> descendants to build an object from the collected argument
fields. The new <code class="language-text">ParseDictionary</code> method is called when variables are being parsed or <code class="language-text">GetArgument</code> is called,
depending on if the argument is stored within variables or as a literal. The method is passed a dictionary
containing the input object's fields and deserialized values.</p>
<p>By default, for <code class="language-text">InputObjectGraphType&lt;TSourceType></code> implementations, the dictionary is passed to
<code class="language-text">ObjectExtensions.ToObject</code> in order to convert the dictionary to an object of <code class="language-text">TSourceType</code>.
You can override the method to have it return an instance of any appropriate type.</p>
<p>Below is a sample which sets a default value for an unsupplied field (this could be done with a default
value set on the field, of course) and converts the name to uppercase:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HumanInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">HumanInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"HumanInput"</span><span class="token punctuation">;</span>
        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>NonNullGraphType<span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"homePlanet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseDictionary</span><span class="token punctuation">(</span><span class="token class-name">IDictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Human</span>
        <span class="token punctuation">{</span>
            Name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span><span class="token keyword">value</span><span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToUpper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            HomePlanet <span class="token operator">=</span> <span class="token keyword">value</span><span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"homePlanet"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> homePlanet<span class="token punctuation">)</span> <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token keyword">string</span><span class="token punctuation">)</span>homePlanet <span class="token punctuation">:</span> <span class="token string">"Unknown"</span><span class="token punctuation">,</span>
            Id <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Note that pursuant to GraphQL specifications, if a field is optional, not supplied, and has no default,
it will not be in the dictionary.</p>
<p>For untyped <code class="language-text">InputObjectGraphType</code> classes, like shown above, the default behavior of <code class="language-text">ParseDictionary</code>
will be to return the dictionary. <code class="language-text">GetArgument&lt;T></code> will still attempt to convert a dictionary to the
requested type via <code class="language-text">ObjectExtensions.ToObject</code> as it did before.</p>
<h3 id="scalar-null-value-handling"><a href="#scalar-null-value-handling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalar null value handling</h3>
<p>Custom scalars can now handle serialization or deserialization of <code class="language-text">null</code> values. This can be useful if
you have a need to coerce certain internal values to <code class="language-text">null</code>, such as serializing empty strings to <code class="language-text">null</code>.
It can also be used to control deserialization of external <code class="language-text">null</code> values, such as deserializing <code class="language-text">null</code> to
the value zero.</p>
<p>GraphQL nullability semantics are enforced on the external AST representation of the data. For instance,
if a custom scalar converted empty strings to <code class="language-text">null</code> during serialization, an error would occur if a field
resolver tried to return an empty string for a non-null field.</p>
<p>See the <a href="https://graphql-dotnet.github.io/docs/getting-started/custom-scalars">Custom Scalars</a>
documentation page which describes this in detail.</p>
<h3 id="experimental-features--applied-directives"><a href="#experimental-features--applied-directives" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Experimental Features / Applied Directives</h3>
<p>In v4 we added ability to apply directives to the schema elements and expose user-defined meta-information
via introspection. This was one of the most requested features not only in GraphQL.NET, but in the entire
GraphQL ecosystem as a whole. See the <a href="https://graphql-dotnet.github.io/docs/getting-started/directives">Directives</a>
documentation page which describes the new features in detail.</p>
<h3 id="microsoft-specific-dependency-injection-extensions"><a href="#microsoft-specific-dependency-injection-extensions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Microsoft-specific Dependency Injection Extensions</h3>
<p>If you are using the <code class="language-text">Microsoft.Extensions.DependencyInjection</code> package, extension methods are provided within
the <a href="https://www.nuget.org/packages/GraphQL.MicrosoftDI">GraphQL.MicrosoftDI NuGet package</a> for creating a service
provider scope during a field resolver's execution. This is useful when accessing a scoped service with a parallel
execution strategy, as typically scoped services are not multi-threaded compatible. The library also provides a
builder to assist constructing a field resolver that relies on scoped services. Below is a sample of a field resolver
that relies on a scoped service and can run concurrently with other field resolvers:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Category<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> context <span class="token operator">=></span> context<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ListGraphType<span class="token punctuation">&lt;</span>ProductGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">"Products"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">WithScope</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">WithService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MyDbContext<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ResolveAsync</span><span class="token punctuation">(</span><span class="token punctuation">(</span>context<span class="token punctuation">,</span> db<span class="token punctuation">)</span> <span class="token operator">=></span> db<span class="token punctuation">.</span>Products<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>CategoryId <span class="token operator">==</span> context<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ToListAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/dependency-injection">Dependency Injection</a> for more details.</p>
<h3 id="ability-to-sort-introspection-results"><a href="#ability-to-sort-introspection-results" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to Sort Introspection Results</h3>
<p>Introspection results are now sorted based on a configured 'comparer' for a schema. You can configure the comparer
by setting <code class="language-text">ISchema.Comparer</code> to an implementation of <code class="language-text">ISchemaComparer</code>. By default, introspection results are
returned in the order they were defined.</p>
<p>See <a href="#Default-Sort-Order-of-Introspection-Query-Results">Default Sort Order of Introspection Query Results</a> below for a sample
of how this can be used to return introspection results that are sorted alphabetically.</p>
<h3 id="array-pooling"><a href="#array-pooling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Array Pooling</h3>
<p>When returning lists of information from field resolvers, you can choose to rent an array from <code class="language-text">IResolveFieldContext.ArrayPool</code>,
populating it with your results and returning the array. The array will be released after the execution completes. This has
limited uses, since the rented array is not guaranteed to be exactly the requested length, so the array would need to be
wrapped in order to only return the correct number of entries, triggering a memory allocation (albeit a smaller one):</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"> resolve<span class="token punctuation">:</span> context <span class="token operator">=></span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> ints <span class="token operator">=</span> context<span class="token punctuation">.</span>ArrayPool<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Rent</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ints.Length >= 1000</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">1000</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span>
        ints<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token keyword">return</span> ints<span class="token punctuation">.</span><span class="token function">Constrained</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// extension method to return an array or array-like object of a given length</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>It is not recommended to use this feature for interim calculations, as it is better to work directly with <code class="language-text">System.Buffers.ArrayPool&lt;T></code>.</p>
<h3 id="global-switches"><a href="#global-switches" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global Switches</h3>
<p><code class="language-text">GraphQL.GlobalSwitches</code> is a new static class with properties that affect the schema build process:</p>
<ul>
<li><code class="language-text">EnableReadDefaultValueFromAttributes</code> enables or disables setting default values for 'defaultValue' from <code class="language-text">DefaultValueAttribute</code>. Enabled by default.</li>
<li><code class="language-text">EnableReadDeprecationReasonFromAttributes</code> enables or disables setting default values for 'deprecationReason' from <code class="language-text">ObsoleteAttribute</code>. Enabled by default.</li>
<li><code class="language-text">EnableReadDescriptionFromAttributes</code> enables or disables setting default values for 'description' from <code class="language-text">DescriptionAttribute</code>. Enabled by default.</li>
<li><code class="language-text">EnableReadDescriptionFromXmlDocumentation</code> enables or disables setting default values for 'description' from XML documentation. Disabled by default.</li>
<li><code class="language-text">NameValidation</code> configures the validator used when setting the <code class="language-text">Name</code> property on types, arguments, etc. Can be used to disable validation
when the configured <code class="language-text">INameConverter</code> fixes up invalid names. See <code class="language-text">ISchema.NameConverter</code>.</li>
</ul>
<p>It is recommended to configure these options once when your application starts, such as within your <code class="language-text">void Main()</code> method, a static
constructor of your schema, or a similar location.</p>
<h3 id="authorization-extension-methods"><a href="#authorization-extension-methods" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Authorization Extension Methods</h3>
<p>Historically, there are two repositories in <a href="https://github.com/graphql-dotnet">graphql-dotnet</a> org that provide APIs for configuring
authorization requirements.</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/graphql-dotnet/server">server</a></td>
<td><a href="https://www.nuget.org/packages/GraphQL.Server.Authorization.AspNetCore">GraphQL.Server.Authorization.AspNetCore</a></td>
<td>Integration of GraphQL.NET validation subsystem into ASP.NET Core</td>
</tr>
<tr>
<td><a href="https://github.com/graphql-dotnet/authorization">authorization</a></td>
<td><a href="https://www.nuget.org/packages/GraphQL.Authorization">GraphQL.Authorization</a></td>
<td>A toolset for authorizing access to graph types for GraphQL.NET</td>
</tr>
</tbody>
</table>
<p>Authorization itself is not a specific part of the GraphQL.NET repository, so it was quite natural to keep this functionality
in separate repositories. However, this resulted in some code duplication between repositories. In addition, there was constant
confusion about which of the two projects to use. In v4, we began the process of converging the two projects to a common denominator.
Extension methods (see <code class="language-text">AuthorizationExtensions</code>) to configure authorization requirements for GraphQL elements (types, fields, schema)
were moved to GraphQL.NET repository. These methods will be removed from their respective projects after v4 release.</p>
<p>GraphQL.NET will not receive new dependencies, since all methods just read or write meta information. Calling code changes not required.</p>
<h3 id="new-parsing-methods-for-scalars"><a href="#new-parsing-methods-for-scalars" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New parsing methods for scalars</h3>
<p>2 new methods for <code class="language-text">ScalarGraphType</code> have been added in v4:</p>
<ul>
<li><code class="language-text">public bool CanParseLiteral/CanParseValue</code></li>
</ul>
<p>These methods checks for input coercion possibility. They can be overridden for custom scalars
to validate input values without directly getting those values, i.e. without boxing.</p>
<h3 id="ability-to-get-parent-resolve-context-of-any-level"><a href="#ability-to-get-parent-resolve-context-of-any-level" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to get parent resolve context of any level</h3>
<p>New property <code class="language-text">IResolveFieldContext.Parent</code> provides access to the parent context (up to the root).
This may be needed to get the parameters of parent nodes.</p>
<h3 id="other-features"><a href="#other-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Features</h3>
<ul>
<li>New method <code class="language-text">FieldConfig.ArgumentFor</code></li>
<li>New property <code class="language-text">ISchema.ValueConverters</code></li>
<li>New method <code class="language-text">IParentExecutionNode.ApplyToChildren</code></li>
<li><code class="language-text">ExecutionStrategy</code> exposes a number of <code class="language-text">protected virtual</code> methods that can be used to alter the execution
of a document without rewriting the entire class. For instance, overriding <code class="language-text">ShouldIncludeNode</code> provides
the ability to control the set of fields that the strategy executes; overriding <code class="language-text">ProcessNodeUnhandledException</code>
provides a way to customize exception handling, and so on.</li>
<li>With the addition of <code class="language-text">ExecutionContext.ExecutionStrategy</code> and <code class="language-text">IExecutionStrategy.GetSubFields</code>, the
execution strategy now controls the fields that are returned when requested from <code class="language-text">IResolveFieldContext.SubFields</code>.</li>
<li>Schema validation upon initialization and better support for schema traversal via <code class="language-text">ISchemaNodeVisitor</code></li>
</ul>
<h2 id="breaking-changes"><a href="#breaking-changes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h2>
<h3 id="scalar-deserialization-type-enforcement"><a href="#scalar-deserialization-type-enforcement" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalar Deserialization Type Enforcement</h3>
<p>Scalars do not coerce values if passed an incompatible type during deserialization from a variable. Previously, values would pass
through the <code class="language-text">ValueConverter</code> while being deserialized. Now the <code class="language-text">ValueConverter</code> is ignored for deserialization of built-in scalars.
Calling <code class="language-text">GetArgument&lt;T></code> within the field resolver will still call the <code class="language-text">ValueConverter</code> to coerce the input data to the correct type,
but if the document is unable to deserialize successfully, the field resolver will not run.</p>
<p>Here are some of the situations that you may run into with version 4:</p>
<ul>
<li><code class="language-text">StringGraphType</code> does not serialize integers to strings</li>
<li>Numeric scalars such as <code class="language-text">IntGraphType</code> do not deserialize strings to their numeric type</li>
<li>Integer numeric scalars such as <code class="language-text">IntGraphType</code> do not coerce floating-point values to their numeric type</li>
<li><code class="language-text">BooleanGraphType</code> does not deserialize/serialize strings or integers (e.g. "true", "false", 0, 1, etc)</li>
<li><code class="language-text">EnumGraphType</code> is stricter, requiring internal values for serialization, and external values for deserialization</li>
<li><code class="language-text">IdGraphType</code> (which allows any basic type) does not coerce variable values to trimmed strings during deserialization</li>
<li><code class="language-text">IdGraphType</code> does not trim serialized values (but does convert them to strings)</li>
<li><code class="language-text">DateTimeGraphType</code> serializes values to strings instead of letting the JSON serializer do so</li>
</ul>
<p>If you have a schema-first schema, you may run into an issue with enumeration types, since the <code class="language-text">SchemaBuilder</code> uses the name of each
enumeration value as its value also. In other words, you must return a string corresponding to the enumeration value (e.g, <code class="language-text">"Cat"</code> or
<code class="language-text">"Dog"</code>) rather than a matching C# enumeration value (e.g. <code class="language-text">Animal.Cat</code> or <code class="language-text">Animal.Dog</code>). You can configure the <code class="language-text">SchemaBuilder</code> to
match the defined enumeration values to a C# enumeration type in this manner demonstrated below. Then when used as an input type,
the values will be parsed into the matching C# enumeration values, and when used as an output type, you must return the C# enumeration
value (e.g. <code class="language-text">Animal.Cat</code>) or its underlying value (typically an <code class="language-text">int</code>). Below are a few examples of how this is configured:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> schema <span class="token operator">=</span> Schema<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span>definitions<span class="token punctuation">,</span> c <span class="token operator">=></span>
<span class="token punctuation">{</span>
    <span class="token comment">// example 1: define the "Animal" schema enumeration type to use the C# type Animal</span>
    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Include</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animal<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// example 2: define the "AnimalType" schema enumeration type to use the C# type Animal</span>
    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Include</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Animal<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"AnimalType"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// example 3: define the "Animal" schema enumeration type to use the C# type Animal</span>
    c<span class="token punctuation">.</span>Types<span class="token punctuation">.</span><span class="token function">For</span><span class="token punctuation">(</span><span class="token string">"Animal"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Type <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">Animal</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>For situations where it is necessary to revert scalars to previous behavior, you can override the built-in scalar by following the
instructions within the <a href="https://graphql-dotnet.github.io/docs/getting-started/custom-scalars">Custom Scalars</a> documentation page.</p>
<p>Below is a sample replacement for the <code class="language-text">BooleanGraphType</code> which will restore the previous behavior exactly
as it was in version 3.x.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyBooleanGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">BooleanGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Boolean"</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">object</span></span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">null</span> <span class="token operator">=></span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        _ <span class="token operator">=></span> ValueConverter<span class="token punctuation">.</span><span class="token function">ConvertTo</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name"><span class="token keyword">bool</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">??</span> <span class="token function">ThrowValueConversionException</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">CanParseValue</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">try</span>
        <span class="token punctuation">{</span>
            _ <span class="token operator">=</span> <span class="token function">ParseValue</span><span class="token punctuation">(</span><span class="token keyword">value</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">catch</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Code-first: add the following line of code to your schema's constructor</span>
<span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Schema-first: add the following line of code after your schema is built, before it is initialized</span>
schema<span class="token punctuation">.</span><span class="token function">RegisterType</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">MyBooleanGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="custom-scalar-cleanup"><a href="#custom-scalar-cleanup" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Custom Scalar Cleanup</h3>
<p>All of the code necessary for a proper custom scalar implementation has been moved from the <code class="language-text">ValueConverter</code> and <code class="language-text">IAstNodeConverter</code>
directly into the scalar itself. Some changes will be necessary for custom scalars as follows:</p>
<p><code class="language-text">IAstNodeConverter</code> has been completely removed along with the properties relating to it on the <code class="language-text">Schema</code>. Code that had been configured
for a custom scalar may need to be moved into the new <code class="language-text">ToAST</code> virtual member of the custom scalar. <code class="language-text">ValueNode</code> implementations are not
recommended; the <code class="language-text">ToAST</code> member should return one of the base value node types present in the library, such as <code class="language-text">StringValue</code> or <code class="language-text">IntValue</code>.
If the <code class="language-text">Serialize</code> method returns a basic .NET type (such as <code class="language-text">int</code> or <code class="language-text">string</code>), the default <code class="language-text">ToAST</code> implementation should suffice.</p>
<p>Code within <code class="language-text">ValueConverter</code> registrations should be moved directly into the <code class="language-text">ParseLiteral</code> and/or <code class="language-text">ParseValue</code> methods. Having a
<code class="language-text">ValueConverter</code> registration should no longer be necessary for custom scalars.</p>
<p><code class="language-text">ParseLiteral</code> and <code class="language-text">ParseValue</code> must handle null values (<code class="language-text">NullValue</code> for <code class="language-text">ParseLiteral</code> and <code class="language-text">null</code> for <code class="language-text">ParseValue</code>). Typically
this involves returning <code class="language-text">null</code> for each of these cases.</p>
<p><code class="language-text">ParseLiteral</code>, <code class="language-text">ParseValue</code> and <code class="language-text">Serialize</code> must throw an exception if the value cannot be parsed. Previously, returning <code class="language-text">null</code> would
indicate a conversion failure. <code class="language-text">ThrowLiteralConversionError</code>, <code class="language-text">ThrowValueConversionError</code> and <code class="language-text">ThrowSerializationError</code> convenience
methods are provided for this purpose but any exception is valid to throw.</p>
<p><code class="language-text">Serialize</code>'s default behavior still calls <code class="language-text">ParseValue</code>. With the other changes, it should be verified if this is still valid
for the custom scalar.</p>
<p>If <code class="language-text">ToAST</code> is overridden, it must process a value of <code class="language-text">null</code> (typically by returning a new instance of <code class="language-text">NullValue</code>) and throw an
exception if there are serialization errors. The <code class="language-text">ThrowASTConversionError</code> convenience method is provided for this purpose but
any exception is valid to throw.</p>
<p>You may wish to add implementations for the new <code class="language-text">CanParseValue</code>, <code class="language-text">CanParseLiteral</code> and <code class="language-text">IsValidDefault</code> methods. This is not necessary
as the default implementations will call <code class="language-text">ParseValue</code>, <code class="language-text">ParseLiteral</code> and <code class="language-text">ToAST</code> respectively, returning <code class="language-text">true</code> unless the method
throws an exception. Adding a custom implementation of <code class="language-text">CanParseLiteral</code> can improve performance if <code class="language-text">ParseLiteral</code> causes memory allocation / boxing.
<code class="language-text">CanParseValue</code> is not used by the framework at this time, and <code class="language-text">ToAST</code> is only called during schema initialization and schema printing.</p>
<h3 id="schema-configuration-options-moved"><a href="#schema-configuration-options-moved" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Schema Configuration Options Moved</h3>
<p><code class="language-text">NameConverter</code>, <code class="language-text">SchemaFilter</code> and <code class="language-text">FieldMiddleware</code> have been removed from <code class="language-text">ExecutionOptions</code> and are now properties on <code class="language-text">Schema</code>.
These properties can be set in the constructor of the <code class="language-text">Schema</code> instance, or within your DI composition root, or at any time before
any query is executed. Once a query has been executed, changes to these fields is not allowed, and adding middleware via the field middleware
builder has no effect.</p>
<h3 id="middleware-builders"><a href="#middleware-builders" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Middleware Builders</h3>
<ul>
<li>The signature of <code class="language-text">IFieldMiddlewareBuilder.Use</code> has been changed to remove the schema from delegate. Since the schema is now known, there is no
need for it to be passed to the middleware builder.</li>
<li>The middleware <code class="language-text">Use&lt;T></code> extension method has been removed. Please use the <code class="language-text">Use</code> method with a middleware instance instead.</li>
</ul>
<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/field-middleware">Field Middleware</a> for more information.</p>
<h3 id="dependency-injection--getrequiredservice"><a href="#dependency-injection--getrequiredservice" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency Injection / GetRequiredService</h3>
<p><code class="language-text">GraphQL.Utilities.ServiceProviderExtensions</code> has been made internal. This affects usages of its extension method <code class="language-text">GetRequiredService</code>.
Instead, reference the <code class="language-text">Microsoft.Extensions.DependencyInjection.Abstractions</code> NuGet package and use the extension method from the
<code class="language-text">Microsoft.Extensions.DependencyInjection.ServiceProviderServiceExtensions</code> class.</p>
<h3 id="default-sort-order-of-introspection-query-results"><a href="#default-sort-order-of-introspection-query-results" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Default Sort Order of Introspection Query Results</h3>
<p>By default fields returned by introspection query are no longer sorted by their names. <code class="language-text">LegacyV3SchemaComparer</code> can be used to switch to the old behavior.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">/// &lt;summary></span>
<span class="token comment">/// Default schema comparer for GraphQL.NET v3.x.x.</span>
<span class="token comment">/// By default only fields are ordered by their names within enclosing type.</span>
<span class="token comment">/// &lt;/summary></span>
<span class="token keyword">public</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">LegacyV3SchemaComparer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DefaultSchemaComparer</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">FieldByNameComparer</span> _instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FieldByNameComparer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token keyword">sealed</span> <span class="token keyword">class</span> <span class="token class-name">FieldByNameComparer</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IComparer<span class="token punctuation">&lt;</span>IFieldType<span class="token punctuation">></span></span></span>
    <span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Compare</span><span class="token punctuation">(</span><span class="token class-name">IFieldType</span> x<span class="token punctuation">,</span> <span class="token class-name">IFieldType</span> y<span class="token punctuation">)</span> <span class="token operator">=></span> x<span class="token punctuation">.</span>Name<span class="token punctuation">.</span><span class="token function">CompareTo</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>Name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">/// &lt;inheritdoc/></span>
    <span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name">IComparer<span class="token punctuation">&lt;</span>IFieldType<span class="token punctuation">></span></span> <span class="token function">FieldComparer</span><span class="token punctuation">(</span><span class="token class-name">IGraphType</span> parent<span class="token punctuation">)</span> <span class="token operator">=></span> _instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

schema<span class="token punctuation">.</span>Comparer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">LegacyV3SchemaComparer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="code-classlanguage-textiresolvefieldcontextcode-re-use"><a href="#code-classlanguage-textiresolvefieldcontextcode-re-use" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">IResolveFieldContext</code> Re-use</h3>
<p>The <code class="language-text">IResolveFieldContext</code> instance passed to field resolvers is re-used at the completion of the resolver. Be sure not to
use this instance once the resolver finishes executing. To preserve a copy of the context, call <code class="language-text">.Copy()</code> on the context
to create a copy that is not re-used. Note that it is safe to use the field context within asynchronous field resolvers and
data loaders. Once the asynchronous field resolver or data loader returns its final result, the context will be cleared and may be re-used.
Also, any calls to the configured <code class="language-text">UnhandledExceptionDelegate</code> will receive a field context copy that will not be re-used,
so it is safe to preserve these instances without calling <code class="language-text">.Copy()</code>.</p>
<p>In version 4.7 and newer, the context will not be re-used if the result of the resolver is an <code class="language-text">IEnumerable</code>, making it safe
to return LINQ enumerables that are based on the context source.</p>
<h3 id="subscriptions-moved-to-separate-project"><a href="#subscriptions-moved-to-separate-project" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Subscriptions Moved to Separate Project</h3>
<p>The implementation for subscriptions, contained within <code class="language-text">SubscriptionExecutionStrategy</code>, has been moved into the
<a href="https://www.nuget.org/packages/GraphQL.SystemReactive/"><code class="language-text">GraphQL.SystemReactive</code></a> NuGet package. The default document executer
will now throw a <code class="language-text">NotSupportedException</code> when attempting to execute a subscription. Please import the NuGet package and use the
<code class="language-text">SubscriptionDocumentExecuter</code> instead. If you have a custom document executer, you can override <code class="language-text">SelectExecutionStrategy</code> in
order to select the <code class="language-text">SubscriptionExecutionStrategy</code> instance for subscriptions.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IExecutionStrategy</span> <span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span><span class="token class-name">ExecutionContext</span> context<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> context<span class="token punctuation">.</span>Operation<span class="token punctuation">.</span>OperationType <span class="token keyword">switch</span>
    <span class="token punctuation">{</span>
        OperationType<span class="token punctuation">.</span>Subscription <span class="token operator">=></span> SubscriptionExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>
        _ <span class="token operator">=></span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="dataloader-moved-to-separate-project"><a href="#dataloader-moved-to-separate-project" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DataLoader Moved to Separate Project</h3>
<p>The implementation for data loaders, contained within the <code class="language-text">GraphQL.DataLoader</code> namespace, has been moved into the
<a href="https://www.nuget.org/packages/GraphQL.DataLoader"><code class="language-text">GraphQL.DataLoader</code></a> NuGet package. Please import the NuGet
package if you use data loaders. No code changes are necessary.</p>
<h3 id="code-classlanguage-textexecutionoptionsenablemetricscode-is-disabled-by-default"><a href="#code-classlanguage-textexecutionoptionsenablemetricscode-is-disabled-by-default" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ExecutionOptions.EnableMetrics</code> is disabled by default</h3>
<p>To enable metrics, please set the option to <code class="language-text">true</code> before executing the query.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> schema<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options <span class="token operator">=></span>
<span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>Query <span class="token operator">=</span> <span class="token string">"{ hero { id name } }"</span><span class="token punctuation">;</span>
    options<span class="token punctuation">.</span>EnableMetrics <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="graphql-member-descriptions"><a href="#graphql-member-descriptions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>GraphQL Member Descriptions</h3>
<p>To improve performance, by default GraphQL.NET 4.0 does not pull descriptions for types/fields/etc from XML comments as it
did in 3.x. To re-enable that functionality, see <a href="#Global-Switches">Global Switches</a> above.</p>
<h3 id="changes-to-code-classlanguage-textiresolvefieldcontextargumentscode"><a href="#changes-to-code-classlanguage-textiresolvefieldcontextargumentscode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Changes to <code class="language-text">IResolveFieldContext.Arguments</code></h3>
<p><code class="language-text">IResolveFieldContext.Arguments</code> now returns an <code class="language-text">IDictionary&lt;string, ArgumentValue></code> instead of <code class="language-text">IDictionary&lt;string, object></code> so that it
can be determined if the value returned is a default value or if it is a specified literal or variable.</p>
<p><code class="language-text">IResolveFieldContext.HasArgument</code> now returns <code class="language-text">false</code> when <code class="language-text">GetArgument</code> returns a field default value. Note that if a variable is specified,
and the variable resolves to its default value, then <code class="language-text">HasArgument</code> returns <code class="language-text">true</code> (since the field argument has successfully resolved to a variable
specified by the query).</p>
<h3 id="metadata-is-not-thread-safe"><a href="#metadata-is-not-thread-safe" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Metadata is Not Thread Safe</h3>
<p><code class="language-text">IProvideMetadata.Metadata</code> is now a <code class="language-text">Dictionary&lt;string, object></code> instead of <code class="language-text">ConcurrentDictionary&lt;string, object></code>, and is not thread safe anymore.
If you need to write metadata during execution of field resolvers, lock on the graph type before accessing the dictionary. Do not lock on the
<code class="language-text">Metadata</code> property because there can be concurrency issues accessing the field.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">lock</span> <span class="token punctuation">(</span>field<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">int</span></span> <span class="token keyword">value</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>field<span class="token punctuation">.</span>Metadata<span class="token punctuation">.</span><span class="token function">TryGetValue</span><span class="token punctuation">(</span><span class="token string">"counter"</span><span class="token punctuation">,</span> <span class="token keyword">out</span> <span class="token class-name"><span class="token keyword">var</span></span> valueObject<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">value</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>valueObject<span class="token punctuation">;</span>
    field<span class="token punctuation">.</span>Metadata<span class="token punctuation">[</span><span class="token string">"counter"</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">value</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="ability-to-map-clr-types-to-graphtypes"><a href="#ability-to-map-clr-types-to-graphtypes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ability to map CLR types to GraphTypes</h3>
<p>Strictly speaking, this feature was available before via <code class="language-text">GraphTypeTypeRegistry</code>, but it had a significant
drawbacks, since the mapping was static and did not allow registering the same CLR type both as input and output.
In v4 <code class="language-text">GraphTypeTypeRegistry</code> was completely removed and the <code class="language-text">ISchema.RegisterTypeMapping(Type, Type)</code>
method was added instead (also there are several extension methods).</p>
<p>Consider the following example:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Money</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Amount <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Currency <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Account</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Money</span> Saldo <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Account<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Saldo<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>On the <code class="language-text">Field(x => x.Saldo)</code> line when parsing an expression GraphQL.NET should somehow infer
that the <code class="language-text">Money</code> CLR type corresponds to the <code class="language-text">MoneyType</code> GraphType. In fact, this cannot be done
without specifying additional information from the caller. GraphQL.NET can only infer some primitive
CLR types (<code class="language-text">int</code>, <code class="language-text">string</code>, <code class="language-text">DateTime</code>, <code class="language-text">Guid</code>, etc.) that match built-in scalars.</p>
<p>Type registration is used for the hint:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp">GraphTypeTypeRegistry<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Register</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// static method before v4</span>
schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// instance method on `ISchema` after v4</span></code></pre>
      </div>
<p>Note that since v4 it's possible to register both input and output GraphType for the same CLR type.
In this case, GraphQL.NET will choose the desired GraphType depending on the context.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Money</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">decimal</span></span> Amount <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Currency <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MoneyType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MoneyInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>Money<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MoneyInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Amount<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Description</span><span class="token punctuation">(</span><span class="token string">"Total amount"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DefaultValue</span><span class="token punctuation">(</span><span class="token number">100m</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Currency<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">DefaultValue</span><span class="token punctuation">(</span><span class="token string">"USD"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Money<span class="token punctuation">,</span> MoneyInputType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>An alternative way to define the mapping is to use the new properties in the <code class="language-text">GraphQLMetadata</code> attribute.
Consider the following example:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">GraphQLMetadata</span><span class="token attribute-arguments"><span class="token punctuation">(</span>InputType <span class="token operator">=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">FilterInputGraphType</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Filter</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Key <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Value <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContainerRequest</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IList<span class="token punctuation">&lt;</span>Filter<span class="token punctuation">></span></span> Filters <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> ClientId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> AppId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterInputGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>Filter<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">FilterInputGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"FilterInput"</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInputType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">InputObjectGraphType<span class="token punctuation">&lt;</span>ContainerRequest<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyInputType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Input"</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Filters<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// when building this field, its type is implicitly inferred to list of FilterInputGraphType</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>ClientId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>AppId<span class="token punctuation">,</span> <span class="token named-parameter punctuation">nullable</span><span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>In this case, a call to the registration method is not required, since the schema
will use information from the provided attribute.</p>
<p>Keep in mind that you can register type mappings even for built-in/primitive types if you want to change their behavior:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp">schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> MyIntGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
schema<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">RegisterTypeMapping</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> MySpecialFormattedStringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>If you have dynamic code that relies on a call to <code class="language-text">GraphTypeTypeRegistry.Get&lt;T></code> then you will need to instead utilize
a graph type of <code class="language-text">GraphQLClrOutputTypeReference&lt;T></code> or <code class="language-text">GraphQLClrInputTypeReference&lt;T></code> where <code class="language-text">T</code> is the CLR type.
The type reference will be replaced with the proper graph type during schema initialization.</p>
<h3 id="classes-for-automatic-graphtype-registration-by-default-use-all-properties-of-the-clr-type"><a href="#classes-for-automatic-graphtype-registration-by-default-use-all-properties-of-the-clr-type" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classes for automatic GraphType registration by default use all properties of the CLR type</h3>
<p>In v4 <code class="language-text">AutoRegisteringObjectGraphType&lt;TSourceType></code> and <code class="language-text">AutoRegisteringInputObjectGraphType&lt;TSourceType></code>
classes by default use all properties from the provided <code class="language-text">TSourceType</code> to generate GraphType's fields (previously they
may skip unmatched properties). If no matching is found for some of the properties, then an exception will be thrown
during schema initialization.</p>
<p>You have multiple options to fix this.</p>
<ol>
<li>Add all necessary type mappings with <code class="language-text">ISchema.RegisterTypeMapping</code> method.</li>
<li>Or pass the unwanted properties into the <code class="language-text">excludedProperties</code> parameter of the constructor if you create a type via <code class="language-text">new</code> operator.</li>
</ol>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp">myField<span class="token punctuation">.</span>ResolvedType <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>SecretCode<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<ol start="3">
<li>Alternatively, you can inherit from these classes and override the <code class="language-text">GetRegisteredProperties</code> method.</li>
</ol>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAutoType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>PropertyInfo<span class="token punctuation">></span></span> <span class="token function">GetRegisteredProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SomeClassWithManyProperties</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">GetProperties</span><span class="token punctuation">(</span>BindingFlags<span class="token punctuation">.</span>Public <span class="token operator">|</span> BindingFlags<span class="token punctuation">.</span>Instance<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>p <span class="token operator">=></span> Attribute<span class="token punctuation">.</span><span class="token function">IsDefined</span><span class="token punctuation">(</span>p<span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">ForExportAttribute</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<ol start="4">
<li>Or even compose 2 and 3 approaches.</li>
</ol>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAutoType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>SomeClassWithManyProperties<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyAutoType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>Address<span class="token punctuation">,</span> x <span class="token operator">=></span> x<span class="token punctuation">.</span>SecretCode<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="code-classlanguage-textiresolvefieldcontextfieldnamecode-and-code-classlanguage-textiresolvefieldcontextreturntypecode"><a href="#code-classlanguage-textiresolvefieldcontextfieldnamecode-and-code-classlanguage-textiresolvefieldcontextreturntypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">IResolveFieldContext.FieldName</code> and <code class="language-text">IResolveFieldContext.ReturnType</code></h3>
<p>These properties have been removed. Use <code class="language-text">IResolveFieldContext.FieldAst.Name</code> and
<code class="language-text">IResolveFieldContext.FieldDefinition.ResolvedType</code> instead.</p>
<h3 id="code-classlanguage-textgraphqlmetadataattributetypecode---code-classlanguage-textgraphqlmetadataattributeresolvertypecode"><a href="#code-classlanguage-textgraphqlmetadataattributetypecode---code-classlanguage-textgraphqlmetadataattributeresolvertypecode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">GraphQLMetadataAttribute.Type</code> -> <code class="language-text">GraphQLMetadataAttribute.ResolverType</code></h3>
<p>This property was renamed. If you have explicitly set this property in an attribute or used it
directly anywhere, then just change its name. If you did not explicitly set this property, the
default continues to be <code class="language-text">ResolverType.Resolver</code>.</p>
<h3 id="no-more-static-predefined-directives"><a href="#no-more-static-predefined-directives" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>No more static predefined directives</h3>
<p><code class="language-text">DirectiveGraphType.Deprecated</code>, <code class="language-text">DirectiveGraphType.Include</code> and <code class="language-text">DirectiveGraphType.Skip</code> static properties were moved
into corresponding virtual properties within <code class="language-text">SchemaDirectives</code> class. This is done in order to be able to independently change
the directives implementation without mutual influence on the schemas using them.</p>
<h3 id="api-cleanup"><a href="#api-cleanup" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>API Cleanup</h3>
<ul>
<li><code class="language-text">GraphQL.Instrumentation.StatsReport</code> and its associated classes have been removed. Please copy the source code into
your project if you require these classes.</li>
<li><code class="language-text">LightweightCache.First</code> method has been removed.</li>
<li><code class="language-text">IGraphType.CollectTypes</code> method has been removed.</li>
<li><code class="language-text">TypeExtensions.As</code> method has been removed</li>
<li><code class="language-text">ExecutionHelper.SubFieldsFor</code> and <code class="language-text">ExecutionHelper.DoesFragmentConditionMatch</code> methods have been removed.</li>
<li><code class="language-text">ExecutionHelper.GetVariableValue</code> has been removed, and the signature for <code class="language-text">ExecutionHelper.CoerceValue</code> has changed.</li>
<li>All methods inside <code class="language-text">ExecutionHelper</code> except <code class="language-text">CoerceValue</code> and <code class="language-text">GetArgumentValues</code> have been moved into protected
methods within <code class="language-text">ExecutionStrategy</code>. Method signatures may have changed a very little.</li>
<li><code class="language-text">RootExecutionNode</code>'s constructor requires the root field's selection set, but <code class="language-text">null</code> can be provided if this value
is not needed by the execution strategy.</li>
<li><code class="language-text">UnhandledExceptionContext.Context</code> is now of type <code class="language-text">IExecutionContext</code>, returning a read-only view of the execution context.</li>
<li><code class="language-text">NodeExtensions</code>, <code class="language-text">AstNodeExtensions</code> classes have been removed.</li>
<li><code class="language-text">CoreToVanillaConverter</code> class became <code class="language-text">static</code> and most of its members have been removed.</li>
<li><code class="language-text">GraphQL.Language.AST.Field.MergeSelectionSet</code> method has been removed.</li>
<li><code class="language-text">CoreToVanillaConverter.Convert</code> method now requires only one <code class="language-text">GraphQLDocument</code> argument.</li>
<li><code class="language-text">GraphTypesLookup</code> has been renamed to <code class="language-text">SchemaTypes</code> with a significant decrease in public APIs</li>
<li><code class="language-text">GraphTypesLookup.Create</code> has been removed; use the <code class="language-text">SchemaTypes</code> constructor instead.</li>
<li><code class="language-text">TypeCollectionContext</code> class is now internal, also all methods with this parameter in <code class="language-text">GraphTypesLookup</code> (now <code class="language-text">SchemaTypes</code>) are private.</li>
<li><code class="language-text">GraphTypesLookup.ApplyTypeReferences</code> is now private.</li>
<li><code class="language-text">IHaveDefaultValue.Type</code> has been moved to <code class="language-text">IProvideResolvedType.Type</code></li>
<li><code class="language-text">ErrorLocation</code> struct became <code class="language-text">readonly</code>.</li>
<li><code class="language-text">DebugNodeVisitor</code> class has been removed.</li>
<li>Most methods and classes within <code class="language-text">OverlappingFieldsCanBeMerged</code> are now private.</li>
<li><code class="language-text">EnumerableExtensions.Apply</code> for dictionaries has been removed.</li>
<li><code class="language-text">ISubscriptionExecuter</code> has been removed.</li>
<li><code class="language-text">EnterLeaveListener</code> has been removed and the signatures of <code class="language-text">INodeVisitor.Enter</code> and <code class="language-text">INodeVisitor.Leave</code> have
changed. <code class="language-text">NodeVisitors</code> class has been added in its place.</li>
<li><code class="language-text">TypeInfo.GetAncestors()</code> has been changed to <code class="language-text">TypeInfo.GetAncestor(int index)</code></li>
<li>Various methods within <code class="language-text">StringUtils</code> have been removed; please use extension methods within <code class="language-text">StringExtensions</code> instead.</li>
<li><code class="language-text">ISchema.FindDirective</code>, <code class="language-text">ISchema.RegisterDirective</code>, <code class="language-text">ISchema.RegisterDirectives</code> methods were moved into <code class="language-text">SchemaDirectives</code> class</li>
<li><code class="language-text">ISchema.FindType</code> method was moved into <code class="language-text">SchemaTypes[string typeName]</code> indexer</li>
<li>Some of the <code class="language-text">ISchemaNodeVisitor</code> methods have been changes to better support schema traversal</li>
<li><code class="language-text">SourceLocation</code>, <code class="language-text">NameNode</code> and <code class="language-text">BasicVisitor</code> have been changed to a <code class="language-text">readonly struct</code>.</li>
<li><code class="language-text">ObjectExtensions.GetInterface</code> has been removed along with two overloads of <code class="language-text">GetPropertyValue</code>.</li>
<li><code class="language-text">void INode.Visit&lt;TState>(System.Action&lt;INode, TState> action, TState state)</code> method has been added.</li>
<li>Various <code class="language-text">IEnumerable&lt;T></code> properties on schema and graph types have been changed to custom collections:
<code class="language-text">SchemaDirectives</code>, <code class="language-text">SchemaTypes</code>, <code class="language-text">TypeFields</code>, <code class="language-text">PossibleTypes</code>, <code class="language-text">Interfaces</code> and <code class="language-text">ResolvedInterfaces</code></li>
<li><code class="language-text">INode.IsEqualTo</code> and related methods have been removed.</li>
<li><code class="language-text">ApolloTracing.ConvertTime</code> is now private and <code class="language-text">ResolverTrace.Path</code> does not initialize an empty list when created.</li>
<li><code class="language-text">SchemaBuilder.RegisterType</code> and <code class="language-text">SchemaBuilder.RegisterTypes</code> methods have been removed, use <code class="language-text">ISchema.RegisterType</code> on the builded schema instead.</li>
<li><code class="language-text">SchemaBuilder.Directives</code> and <code class="language-text">SchemaBuilder.RegisterDirectiveVisitor</code> have been removed, use <code class="language-text">ISchema.RegisterVisitor</code> on the builded schema instead.</li>
<li><code class="language-text">SchemaPrinter.IsBuiltInScalar</code>, <code class="language-text">SchemaPrinter.IsSpecDirective</code>, <code class="language-text">SchemaPrinter.IsIntrospectionType</code>, <code class="language-text">SchemaPrinter.IsDefinedType</code> methods have been removed from public API</li>
<li><code class="language-text">SchemaPrinterOptions.CustomScalars</code> property has been removed</li>
<li><code class="language-text">ValidationContext.Print(INode node)</code> and <code class="language-text">ValidationContext.Print(IGraphType type)</code> methods have been removed</li>
<li><code class="language-text">Directives.HasDuplicates</code> property has been removed</li>
<li><code class="language-text">KnownDirectives</code> validation rule has been renamed to <code class="language-text">KnownDirectivesInAllowedLocations</code> and now also generates <code class="language-text">5.7.2</code> validation error number</li>
<li><code class="language-text">AstPrinter</code> supporting classes have been removed; the static method <code class="language-text">AstPrinter.Print(INode node)</code> is the only exposed member.</li>
<li><code class="language-text">Language.AST.Fields</code> was replaced with <code class="language-text">Dictionary&lt;string, Field></code></li>
<li><code class="language-text">IResolveFieldContext.Fragments</code> was removed; use <code class="language-text">IResolveFieldContext.Document.Fragments</code> instead</li>
<li><code class="language-text">ExecutionContext.Fragments</code> was removed; use <code class="language-text">ExecutionContext.Document.Fragments</code> instead</li>
<li><code class="language-text">AbstractGraphTypeExtensions.GetTypeOf</code> was removed; use <code class="language-text">AbstractGraphTypeExtensions.GetObjectType</code> instead</li>
<li><code class="language-text">TypeConfig.FieldFor(string, IServiceProvider)</code> and <code class="language-text">TypeConfig.SubscriptionFieldFor(string, IServiceProvider)</code>
methods were merged into single <code class="language-text">TypeConfig.FieldFor(string)</code> method and just return the required configuration without its initialization</li>
</ul>
<h3 id="other-breaking-changes-including-but-not-limited-to"><a href="#other-breaking-changes-including-but-not-limited-to" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Breaking Changes (including but not limited to)</h3>
<ul>
<li>GraphQL.NET now uses GraphQL-Parser v7 with new memory model taking advantage of <code class="language-text">System.Memory</code> APIs.</li>
<li>When used, Apollo tracing will now convert the starting timestamp to UTC so that <code class="language-text">StartTime</code> and <code class="language-text">EndTime</code> are properly serialized as UTC values.</li>
<li><code class="language-text">Connection&lt;TNode, TEdge>.TotalCount</code> has been changed from an <code class="language-text">int</code> to an <code class="language-text">int?</code>. This allows for returning <code class="language-text">null</code> indicating that the total count is unknown.</li>
<li><code class="language-text">InputObjectGraphType.ParseDictionary</code> has been added so that customized deserialization behavior can be specified for input objects (aka input resolvers).
If <code class="language-text">InputObjectGraphType&lt;T></code> is used, and <code class="language-text">GetArgument&lt;T></code> is called with the same type, no behavior changes will occur by default.
If <code class="language-text">InputObjectGraphType&lt;T></code> is used, but <code class="language-text">GetArgument&lt;T></code> is called with a different type, coercion may fail. Override <code class="language-text">ParseDictionary</code>
to force resolving the input object to the correct type. See <a href="#input-object-custom-deserializers-aka-resolver">Input Object Custom Deserializers</a> above.</li>
<li><code class="language-text">ExecutionResult.Data</code> format breaking changes.
Both <code class="language-text">GraphQL.NewtonsoftJson</code> and <code class="language-text">GraphQL.SystemTextJson</code> serializers received the necessary changes to produce the same JSON as before.
However, consumers using <code class="language-text">ExecutionResult</code> instances directly most likely will not work correctly.
Call <code class="language-text">((ExecutionNode)result.Data).ToValue()</code> to return the data in the same format as 3.x (as a dictionary).</li>
<li>Most <code class="language-text">ExecutionStrategy</code> methods are now <code class="language-text">protected</code></li>
<li><code class="language-text">ObjectExecutionNode.SubFields</code> property type was changed from <code class="language-text">Dictionary&lt;string, ExecutionNode></code> to <code class="language-text">ExecutionNode[]</code></li>
<li><code class="language-text">ExecutionNode.IsResultSet</code> has been removed</li>
<li><code class="language-text">ExecutionNode.Source</code> is read-only; additional derived classes have been added for subscriptions</li>
<li><code class="language-text">NameValidator.ValidateName</code> accepts an enum instead of a string for its second argument</li>
<li><code class="language-text">NameValidator.ValidateNameOnSchemaInitialize</code> has been made internal and <code class="language-text">ValidationOnSchemaInitialize</code> has been removed</li>
<li><code class="language-text">ExecutionNode.PropagateNull</code> must be called before <code class="language-text">ExecutionNode.ToValue</code>; see reference implementation</li>
<li><code class="language-text">IDocumentValidator.ValidateAsync</code> does not take <code class="language-text">originalQuery</code> parameter; use <code class="language-text">Document.OriginalQuery</code> instead</li>
<li><code class="language-text">IDocumentValidator.ValidateAsync</code> now returns <code class="language-text">(IValidationResult validationResult, Variables variables)</code> tuple instead of single <code class="language-text">IValidationResult</code> before</li>
<li><code class="language-text">GraphQLExtensions.IsValidLiteralValue</code> now returns <code class="language-text">string</code> instead of <code class="language-text">string[]</code> and is a member of <code class="language-text">ValidationContext</code>.</li>
</ul></article><div class="content-toolbar"><a href="https://github.com/graphql-dotnet/graphql-dotnet/edit/master/docs2/site/docs/migrations/migration4.md" rel="noopener noreferrer" target="_blank">Edit this page on GitHub</a></div></div><div class="nav"><nav><ul><li><span>Getting Started</span><nav><ul><li><a class="" href="/docs/getting-started/introduction">Introduction</a></li><li><a class="" href="/docs/getting-started/installation">Installation</a></li><li><a class="" href="/docs/getting-started/graphiql">GraphiQL</a></li><li><a class="" href="/docs/getting-started/altair-graphql">Altair GraphQL</a></li><li><a class="" href="/docs/getting-started/queries">Queries</a></li><li><a class="" href="/docs/getting-started/schema-types">Schema Types</a></li><li><a class="" href="/docs/getting-started/custom-scalars">Custom Scalars</a></li><li><a class="" href="/docs/getting-started/lists-non-null">Lists and Non-Null</a></li><li><a class="" href="/docs/getting-started/arguments">Arguments</a></li><li><a class="" href="/docs/getting-started/aliases">Aliases</a></li><li><a class="" href="/docs/getting-started/fragments">Fragments</a></li><li><a class="" href="/docs/getting-started/variables">Variables</a></li><li><a class="" href="/docs/getting-started/directives">Directives</a></li><li><a class="" href="/docs/getting-started/mutations">Mutations</a></li><li><a class="" href="/docs/getting-started/interfaces">Interfaces</a></li><li><a class="" href="/docs/getting-started/unions">Unions</a></li><li><a class="" href="/docs/getting-started/subscriptions">Subscriptions</a></li><li><a class="" href="/docs/getting-started/query-validation">Query Validation</a></li><li><a class="" href="/docs/getting-started/query-organization">Query Organization</a></li><li><a class="" href="/docs/getting-started/user-context">User Context</a></li><li><a class="" href="/docs/getting-started/errors">Error Handling</a></li><li><a class="" href="/docs/getting-started/dependency-injection">Dependency Injection</a></li><li><a class="" href="/docs/getting-started/databases">Databases</a></li><li><a class="" href="/docs/getting-started/malicious-queries">Malicious Queries</a></li><li><a class="" href="/docs/getting-started/metadata">Object/Field Metadata</a></li><li><a class="" href="/docs/getting-started/field-middleware">Field Middleware</a></li><li><a class="" href="/docs/getting-started/metrics">Metrics</a></li><li><a class="" href="/docs/getting-started/authorization">Authorization</a></li><li><a class="" href="/docs/getting-started/relay">Relay</a></li><li><a class="" href="/docs/getting-started/global-switches">Global Switches</a></li></ul></nav></li><li><span>Guides</span><nav><ul><li><a class="" href="/docs/guides/serialization">Serialization</a></li><li><a class="" href="/docs/guides/dataloader">Dataloader</a></li><li><a class="" href="/docs/guides/schema-generation">Schema Generation</a></li><li><a class="" href="/docs/guides/known-issues">Known Issues &amp; FAQ</a></li><li><a class="" href="/docs/guides/links">Links</a></li><li><a class="" href="/docs/guides/document-caching">Document Caching</a></li></ul></nav></li><li><span>Migration Guides</span><nav><ul><li><a class="" href="/docs/migrations/migration7">Migration Guide [v5 -&gt; v7]</a></li><li><a class="" href="/docs/migrations/migration5">Migration Guide [v4 -&gt; v5]</a></li><li><a class="active" href="/docs/migrations/migration4">Migration Guide [v3 -&gt; v4]</a></li><li><a class="" href="/docs/migrations/migration3">Migration Guide [v2 -&gt; v3]</a></li><li><a class="" href="/docs/migrations/migration2">Migration Guide [v0.17.x -&gt; v2]</a></li><li><a class="" href="/docs/migrations/v0_11_0">Migration Guide [v0.11.0]</a></li><li><a class="" href="/docs/migrations/v0_8_0">Migration Guide [v0.8.0]</a></li></ul></nav></li></ul></nav></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-25b650787e17e3ebc069.js","95710047193689":"component---site-pages-landing-js-7a04f3721ec3f8b3df00.js","28613242278168":"component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","162898551421021":"component---src-pages-404-js-dafbfbd345a265f9fe6e.js","60335399758886":"path----f30409f551ede979d792.js","142629428675168":"path---index-6b1dcdab0a774a86ff50.js","194669561623365":"path---docs-getting-started-introduction-6eec16ba80ab9791beb7.js","7936910712040":"path---docs-getting-started-installation-47d40962aa0cbc105411.js","86643674157860":"path---docs-getting-started-graphiql-f33bd2db8b9e17e05b5c.js","53507852050045":"path---docs-getting-started-altair-graphql-432e07418ea18f50bbec.js","143391023720279":"path---docs-getting-started-queries-5328754a7f87dd890944.js","202354100065884":"path---docs-getting-started-schema-types-196426a4b41fc9698baa.js","266142771958950":"path---docs-getting-started-custom-scalars-90d34229c4ed8325da7f.js","56185524266781":"path---docs-getting-started-lists-non-null-e685364a0af4c21096f9.js","76576268814232":"path---docs-getting-started-arguments-f239e855c1c0b617feec.js","202043887933404":"path---docs-getting-started-aliases-70e6a221c3b60856c9ce.js","157702184900489":"path---docs-getting-started-fragments-b78adb5f2a55e1757268.js","44712706562510":"path---docs-getting-started-variables-e625c38a650cae282cd1.js","244442750240678":"path---docs-getting-started-directives-a595151c86612aaa8096.js","114361466534084":"path---docs-getting-started-mutations-4e7a8b45e0eba80b5ed4.js","133838580703967":"path---docs-getting-started-interfaces-0a406b155ee54eabdea5.js","53220472400125":"path---docs-getting-started-unions-00f581913ae18e4f19d7.js","278627754389952":"path---docs-getting-started-subscriptions-f4922cb5e8ce728f70a5.js","107167650384582":"path---docs-getting-started-query-validation-31983a197b4de32bb965.js","11491794978075":"path---docs-getting-started-query-organization-b1f0ec6fc2081814e0be.js","171719905287791":"path---docs-getting-started-user-context-e70898275b60df8b8511.js","75494656540334":"path---docs-getting-started-errors-01f1d83f3a0925194981.js","178698305269250":"path---docs-getting-started-dependency-injection-bda451595dcf05295b70.js","75420749601626":"path---docs-getting-started-databases-8c247e11852995057bce.js","55192516056771":"path---docs-getting-started-malicious-queries-185e69437d513265402a.js","33904618880309":"path---docs-getting-started-metadata-73a21a665ef90a6bb712.js","131465737246961":"path---docs-getting-started-field-middleware-cac25ce3d7089d0c6765.js","185577185973635":"path---docs-getting-started-metrics-aa1d9bade38981a564aa.js","271764429786961":"path---docs-getting-started-authorization-50c3e41bd97ca2699b0e.js","71981178235569":"path---docs-getting-started-relay-ffee045935c5c5403cd5.js","167079278695343":"path---docs-getting-started-global-switches-70c4cf342a0d92f21259.js","970605649915":"path---docs-guides-serialization-18b0fc9aa1534af202e0.js","67274500541493":"path---docs-guides-dataloader-e71508790d18d3d143bb.js","254760750072238":"path---docs-guides-schema-generation-0387bd7d86b48ed53440.js","260838844694584":"path---docs-guides-known-issues-68c2998e96362f3066b0.js","139372590924694":"path---docs-guides-links-23fe4eb9d559d9c8dfe5.js","107626090068759":"path---docs-guides-document-caching-dbcd362bef4c638df8f2.js","171986746120192":"path---docs-migrations-migration-7-6b01f2e04b2cc606157c.js","169038957085601":"path---docs-migrations-migration-5-3cefac06106f7ee1d466.js","57783942601805":"path---docs-migrations-migration-4-ddf2740029240c63307d.js","170816503279010":"path---docs-migrations-migration-3-592f267ac70d938bd515.js","87071238410674":"path---docs-migrations-migration-2-12e6d729190fab470be4.js","129554874384426":"path---docs-migrations-v-0-11-0-43992d4826c517cbc95e.js","179521343418354":"path---docs-migrations-v-0-8-0-711ed55bd1278e1d6a97.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js"}/*]]>*/</script><script>/*<![CDATA[*/["/commons-a7cf6837d3c24c1c9d2a.js","/app-25b650787e17e3ebc069.js","/path---docs-migrations-migration-4-ddf2740029240c63307d.js","/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","/component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>