<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js" as="script"/><link rel="preload" href="/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js" as="script"/><link rel="preload" href="/path---docs-migrations-migration-3-592f267ac70d938bd515.js" as="script"/><link rel="preload" href="/app-25b650787e17e3ebc069.js" as="script"/><link rel="preload" href="/commons-a7cf6837d3c24c1c9d2a.js" as="script"/><title data-react-helmet="true">GraphQL .NET</title><meta data-react-helmet="true" name="description" content="GraphQL for .NET"/><meta data-react-helmet="true" name="keywords" content="graphql,api,web api,.net,.net core"/><style type="text/css">
    .anchor {
      float: left;
      padding-right: 4px;
      margin-left: -20px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var offset = element.offsetTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><style id="gatsby-inlined-css">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:112.5%/1.45em georgia,serif;box-sizing:border-box;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{color:rgba(0,0,0,.8);font-family:georgia,serif;font-weight:400;word-wrap:break-word;-webkit-font-kerning:normal;font-kerning:normal;-ms-font-feature-settings:"kern","liga","clig","calt";-webkit-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt","kern"}img{max-width:100%;margin:0 0 1.45rem;padding:0}h1{font-size:2.25rem}h1,h2{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{margin:0 0 1.45rem;padding:0;color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;text-rendering:optimizeLegibility;line-height:1.1}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{margin:0 0 1.45rem 1.45rem;padding:0;list-style-position:outside;list-style-image:none}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{padding:0;font-size:.85rem;line-height:1.42;background:rgba(0,0,0,.04);border-radius:3px;overflow:auto;word-wrap:normal;padding:1.45rem}pre,table{margin:0 0 1.45rem}table{padding:0;font-size:1rem;line-height:1.45rem;border-collapse:collapse;width:100%}fieldset{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{margin:0 0 calc(1.45rem - 1px);padding:0;background:rgba(0,0,0,.2);border:none;height:1px}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-left:1.45rem;margin-bottom:.725rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{border-bottom:1px solid rgba(0,0,0,.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:0;padding-top:.2em;padding-bottom:.2em}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{letter-spacing:-.2em;content:" "}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{background:#073642}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{background:#073642}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{color:#657b83;background:#eee8d5}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{color:#2c3e50}body,html{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;font-size:16px;overflow:auto}body{margin:0}#___gatsby{overflow:auto}ul{padding:0}li,ul{margin:0}a{color:#3eaf7c;text-decoration:underline}.header{height:60px;border-bottom:1px solid #eaecef}.header ul{padding:20px}.header li{list-style:none;display:inline-block;padding:0 12px}.header li a{color:#2c3e50;text-decoration:none}.footer{height:60px}.footer,.header{-ms-flex:none;flex:none}.page-body{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;height:calc(100% - 60px)}.content{height:100%;width:100%;overflow-y:hidden;overflow-x:hidden;padding:2em}.content ul{margin:20px 0}.content ul li{margin:0 0 0 30px}.content blockquote{padding:30px;border-left:7px solid #eaecef;margin:0 0 1.45rem}.content pre{margin-bottom:1.45rem}.content-body,.content-toolbar{margin:0 auto;max-width:740px}.content-toolbar{padding:1rem 0}.nav{padding-top:2rem;-ms-flex-order:1;order:1;overflow-y:inherit;overflow-x:hidden;-ms-flex-positive:1;flex-grow:1;border:0;min-width:18rem}.nav li{list-style:none}.nav li span{padding:.25rem 1rem .25rem 1.5rem;font-weight:600;display:block}.nav ul{margin-bottom:15px}.nav ul a{color:#2c3e50;padding:.25rem 1rem .25rem 1.25rem;border-left:.25rem solid transparent;display:inline-block;text-decoration:none;line-height:1.4}.nav ul a:hover{color:#3eaf7c}.nav ul a.active{color:#3eaf7c;border-left:.25rem solid #3eaf7c;text-decoration:none}@media (min-width:768px){#___gatsby,body,html{height:100%;overflow-y:hidden}.page-body{-ms-flex-direction:row;flex-direction:row}.content{overflow-y:auto}.ads,.nav{-ms-flex-order:-1;order:-1}.nav{overflow-y:auto;border-right:1px solid #eaecef}}.landing{margin:1.8rem auto}</style></head><body><div id="___gatsby"><nav class="header"><ul><li><a href="/">GraphQL.NET</a></li><li><a href="/docs/getting-started/introduction">Docs</a></li><li><a href="https://github.com/graphql-dotnet/graphql-dotnet" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></nav><div class="page-body"><div class="content"><article class="content-body"><h1 id="migrating-from-v2x-to-v3x"><a href="#migrating-from-v2x-to-v3x" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from v2.x to v3.x</h1>
<h2 id="new-features"><a href="#new-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Features</h2>
<h3 id="support-for-additional-scalar-types-and-conversions-built-in"><a href="#support-for-additional-scalar-types-and-conversions-built-in" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Support for additional scalar types and conversions built-in</h3>
<p>These .Net types now are automatically mapped to corresponding built-in custom scalar types:</p>
<ul>
<li>Byte</li>
<li>SByte</li>
<li>Short</li>
<li>UShort</li>
<li>UInt</li>
<li>ULong</li>
<li>Guid (maps to <code class="language-text">IdGraphType</code> by default; also supports <code class="language-text">GuidGraphType</code>)</li>
<li>BigInt</li>
</ul>
<p>There is also support for converting base-64 encoded strings to byte arrays. See
the <a href="../guides/known-issues#can-custom-scalars-serialize-non-null-data-to-a-null-value-and-vice-versa">FAQ</a>
and the <code class="language-text">ValueConverter</code> class for more details.</p>
<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/schema-types">Schema Types</a> for more details.</p>
<h3 id="other-new-features"><a href="#other-new-features" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other new features</h3>
<ul>
<li>Based on .Net Standard 2.0, supporting .Net Core applications</li>
<li>Supports scoped services (see below under <a href="#dependency-injection">Dependency Injection</a>)</li>
<li>Supports the <code class="language-text">System.Text.Json</code> package for JSON serialization, in addition to the <code class="language-text">Newtonsoft.Json</code> package</li>
<li>Data loaders work with serial execution strategies and can be chained together</li>
<li>Name converters can be configured to use a different function for field names versus argument names</li>
<li>Field builders can take an optional configuration action parameter</li>
<li>Support for auto-registering input object graph types via <code class="language-text">AutoRegisteringInputObjectGraphType</code></li>
<li>Added codes to <code class="language-text">ExecutionError</code>s</li>
<li>Document processing exceptions can be logged or modified (see below under <a href="#exception-handling">Exception Handling</a>)</li>
<li>Enhanced validation of graphs built-in</li>
<li>Supports filtering of schema introspection requests - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/1179">here</a></li>
<li>Supports federated schemas - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/1233">here</a></li>
<li>Supports schema 'description' property - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/1613">here</a></li>
<li>Supports comment nodes - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/1617">here</a></li>
<li>Supports result 'extensions' - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/1611">here</a></li>
<li>Ability to limit maximum number of asynchronous field resolvers executing simultaneously - see details <a href="https://github.com/graphql-dotnet/graphql-dotnet/issues/1239">here</a></li>
</ul>
<h2 id="breaking-changes"><a href="#breaking-changes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h2>
<h3 id="net-compatibility"><a href="#net-compatibility" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>.NET compatibility</h3>
<p>This project now requires the .NET Standard 2.0 and breaks compatibility with applications based on
.NET Framework 4.6 and earlier. See <a href="https://docs.microsoft.com/en-us/dotnet/standard/net-standard">https://docs.microsoft.com/en-us/dotnet/standard/net-standard</a> for a list of
frameworks that support .Net Standard 2.0.</p>
<h3 id="naming"><a href="#naming" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Naming</h3>
<p>By default, the <code class="language-text">GraphType.Name</code> property now is initialized in constructor and is the same as the name of the .NET type
unless the name of .NET type ends in <em>GraphType</em>. In this case, the <em>GraphType</em> suffix is truncated and <code class="language-text">GraphType.Name</code>
is set to this value.</p>
<p>Examples:</p>
<table>
<thead>
<tr>
<th>.NET GraphType Name</th>
<th>Default Name</th>
</tr>
</thead>
<tbody>
<tr>
<td>MoneyType</td>
<td>MoneyType</td>
</tr>
<tr>
<td>MoneyGraphType</td>
<td>Money</td>
</tr>
</tbody>
</table>
<p>You can always set your own type name either in the constructor or externally. The result of this change is that it is no
longer possible to have Graph Types with unspecified (<code class="language-text">null</code>) or invalid names. This allows to avoid a number of errors
and incomprehensible behavior at runtime.</p>
<h3 id="dependency-injection"><a href="#dependency-injection" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Dependency Injection</h3>
<p>The previous <code class="language-text">IDependencyResolver</code> interface and <code class="language-text">FuncDependencyResolver</code> class have been replaced by the
.Net Standard <code class="language-text">IServiceProvider</code> interface and the new <code class="language-text">FuncServiceProvider</code> class.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">//public Schema(IDependencyResolver dependencyResolver)</span>
<span class="token keyword">public</span> <span class="token function">Schema</span><span class="token punctuation">(</span><span class="token class-name">IServiceProvider</span> serviceProvider<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Also, the <code class="language-text">Schema.DependencyResolver</code> property has been removed and not replaced. If you need to access the service provider
from your graphs, you can include <code class="language-text">IServiceProvider</code> in the constructor of the graph type. Your DI container will pass
a reference to the service provider. For singleton schemas, this will be the root service provider, from which you can
obtain other singleton or transient services. For scoped schemas with scoped graph types, this will be the service provider
for the current executing scope. Casting <code class="language-text">Schema</code> to <code class="language-text">IServiceProvider</code> is also possible, but not recommended, and will
yield similar results.</p>
<p>If you wish to access a scoped service from within a resolver and want to use a singleton schema (as is recommended), you
can pass a scoped service provider to <code class="language-text">ExecutionOptions.RequestServices</code>, which can then be used to resolve scoped
services. For ASP.NET Core projects, you can set this equal to <code class="language-text">HttpContext.RequestServices</code>. Be aware that if you
are using a parallel execution strategy (default for 'query' requests), using scoped services within field resolvers can
introduce thread safety issues; you may need to use a serial execution strategy or manually create a scope within each
field resolver.</p>
<p>See the <a href="https://graphql-dotnet.github.io/docs/getting-started/dependency-injection">Dependency Injection documentation</a> for
more details, including service lifetime guidelines and restrictions when registering your schema and graph types.</p>
<h3 id="json-parsing-and-serialization"><a href="#json-parsing-and-serialization" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Json parsing and serialization</h3>
<p>Version 2.x relied on the Newtonsoft.Json library for parsing of input variables and serialization of response data.
As the Newtonsoft.Json dependency has now been removed, a third-party library will be required within your application
to parse and serialize json data. The <a href="https://www.nuget.org/packages/GraphQL.SystemTextJson/">GraphQL.SystemTextJson</a> and
<a href="https://www.nuget.org/packages/GraphQL.NewtonsoftJson/">GraphQL.NewtonsoftJson</a> nuget packages include the necessary
components to assist in this regard. Below are examples of the changes required:</p>
<p>Version 3.0 sample, using the <code class="language-text">Newtonsoft.Json</code> package:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">Newtonsoft<span class="token punctuation">.</span>Json</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">ExecuteAsync</span><span class="token punctuation">(</span><span class="token class-name">HttpContext</span> context<span class="token punctuation">,</span> <span class="token class-name">ISchema</span> schema<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name">GraphQLRequest</span> request<span class="token punctuation">;</span>
    <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StreamReader</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Body<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">using</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> jsonReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonTextReader</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> ser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        request <span class="token operator">=</span> ser<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>GraphQLRequest<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>jsonReader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name"><span class="token keyword">var</span></span> executer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DocumentExecuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> executer<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options <span class="token operator">=></span>
    <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>Schema <span class="token operator">=</span> schema<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>Query <span class="token operator">=</span> request<span class="token punctuation">.</span>Query<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>OperationName <span class="token operator">=</span> request<span class="token punctuation">.</span>OperationName<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>Inputs <span class="token operator">=</span> request<span class="token punctuation">.</span>Variables<span class="token punctuation">.</span><span class="token function">ToInputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>ContentType <span class="token operator">=</span> <span class="token string">"application/json"</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>StatusCode <span class="token operator">=</span> result<span class="token punctuation">.</span>Errors<span class="token punctuation">?.</span><span class="token function">Any</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span> <span class="token punctuation">?</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>HttpStatusCode<span class="token punctuation">.</span>BadRequest <span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>HttpStatusCode<span class="token punctuation">.</span>OK<span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQL<span class="token punctuation">.</span>NewtonsoftJson<span class="token punctuation">.</span>DocumentWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> writer<span class="token punctuation">.</span><span class="token function">WriteAsync</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>Body<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GraphQLRequest</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> OperationName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Query <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Newtonsoft<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>Linq<span class="token punctuation">.</span>JObject</span> Variables <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Version 3.0 sample, using the <code class="language-text">System.Text.Json</code> package:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>Json</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">ExecuteAsync</span><span class="token punctuation">(</span><span class="token class-name">HttpContext</span> context<span class="token punctuation">,</span> <span class="token class-name">ISchema</span> schema<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> request <span class="token operator">=</span> <span class="token keyword">await</span> JsonSerializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">DeserializeAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>GraphQLRequest<span class="token punctuation">></span></span></span>
    <span class="token punctuation">(</span>
        context<span class="token punctuation">.</span>Request<span class="token punctuation">.</span>Body<span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">JsonSerializerOptions</span> <span class="token punctuation">{</span> PropertyNameCaseInsensitive <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name"><span class="token keyword">var</span></span> executer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DocumentExecuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> executer<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options <span class="token operator">=></span>
    <span class="token punctuation">{</span>
        options<span class="token punctuation">.</span>Schema <span class="token operator">=</span> schema<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>Query <span class="token operator">=</span> request<span class="token punctuation">.</span>Query<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>OperationName <span class="token operator">=</span> request<span class="token punctuation">.</span>OperationName<span class="token punctuation">;</span>
        options<span class="token punctuation">.</span>Inputs <span class="token operator">=</span> request<span class="token punctuation">.</span>Variables<span class="token punctuation">.</span><span class="token function">ToInputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>ContentType <span class="token operator">=</span> <span class="token string">"application/json"</span><span class="token punctuation">;</span>
    context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>StatusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>

    <span class="token class-name"><span class="token keyword">var</span></span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQL<span class="token punctuation">.</span>SystemTextJson<span class="token punctuation">.</span>DocumentWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> writer<span class="token punctuation">.</span><span class="token function">WriteAsync</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>Response<span class="token punctuation">.</span>Body<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GraphQLRequest</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> OperationName <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Query <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">JsonConverter</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">GraphQL<span class="token punctuation">.</span>SystemTextJson<span class="token punctuation">.</span>ObjectDictionaryConverter</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span> Variables <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>This is just a simplified example of the changes necessary. Note that typically the <code class="language-text">DocumentExecuter</code> and <code class="language-text">DocumentWriter</code>
are registered as singletons within the dependency injection container, as they can safely be shared between requests.</p>
<p>If you continue to use the <code class="language-text">Newtonsoft.Json</code> converter, please note that ASP.NET Core 3.0 disallows synchronous IO by default,
which is required by the converter. You will need to make a change in the <code class="language-text">ConfigureServices</code> section of <code class="language-text">Startup.cs</code> as
follows:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// kestrel</span>
services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>KestrelServerOptions<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>options <span class="token operator">=></span>
<span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>AllowSynchronousIO <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// IIS</span>
services<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Configure</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IISServerOptions<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>options <span class="token operator">=></span>
<span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>AllowSynchronousIO <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>Please note that if you use a <code class="language-text">NameConverter</code> other than the default <code class="language-text">CamelCaseNameConverter</code>, you may need to configure
your json serializer also to not convert object properties to camel case. For example, with the <code class="language-text">System.Text.Json</code> converter,
you need to set <code class="language-text">JsonSerializerOptions.PropertyNamingPolicy = null;</code> as follows:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">GraphQL<span class="token punctuation">.</span>SystemTextJson<span class="token punctuation">.</span>DocumentWriter</span><span class="token punctuation">(</span>options <span class="token operator">=></span> <span class="token punctuation">{</span>
    options<span class="token punctuation">.</span>PropertyNamingPolicy <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<h3 id="usercontext"><a href="#usercontext" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>UserContext</h3>
<p>The definition of the <code class="language-text">UserContext</code> object throughout the library has changed to a <code class="language-text">IDictionary&lt;string, object></code>.
Custom user context classes will need to inherit from <code class="language-text">Dictionary&lt;string, object></code> or otherwise support the interface.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">//class MyContext</span>
<span class="token keyword">class</span> <span class="token class-name">MyContext</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">Dictionary<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">DbContext</span> MyDbContext <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>If you are going to use GraphQL.NET in an ASP.NET Core application, then you may be interested in the
<a href="https://github.com/graphql-dotnet/server">server</a> project. It already implements all the necessary integration
with GraphQL.NET via the custom ASP.NET Core middleware.</p>
<h3 id="document-listeners"><a href="#document-listeners" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Document Listeners</h3>
<p>The <code class="language-text">DocumentExecutionListenerBase&lt;T></code> class and <code class="language-text">IDocumentExecutionListener&lt;T></code> interface have been removed;
please implement the <code class="language-text">IDocumentExecutionListener</code> interface when creating a custom document listener. You
can also inherit from the <code class="language-text">DocumentExecutionListenerBase</code> class to provide default implementations of events.</p>
<p>The methods definitions have also changed from passing <code class="language-text">userContext</code> and <code class="language-text">cancellationToken</code> parameters to a
single parameter <code class="language-text">context</code> of type <code class="language-text">IExecutionContext</code>. The context has properties for accessing the user context,
cancellation token, metrics, execution errors, and other information about the executing request.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">//class MyListener : DocumentExecutionListenerBase&lt;MyContext></span>
<span class="token keyword">class</span> <span class="token class-name">MyListener</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DocumentExecutionListenerBase</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//public virtual Task AfterValidationAsync(MyContext userContext, IValidationResult validationResult, CancellationToken token)</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">Task</span> <span class="token function">AfterValidationAsync</span><span class="token punctuation">(</span><span class="token class-name">IExecutionContext</span> context<span class="token punctuation">,</span> <span class="token class-name">IValidationResult</span> validationResult<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> myContext <span class="token operator">=</span> <span class="token punctuation">(</span>MyContext<span class="token punctuation">)</span>context<span class="token punctuation">.</span>userContext<span class="token punctuation">;</span>

        <span class="token comment">// log validation error</span>

        <span class="token keyword">return</span> Task<span class="token punctuation">.</span>CompletedTask<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="iresolvefieldcontext-and-iresolveconnectioncontext"><a href="#iresolvefieldcontext-and-iresolveconnectioncontext" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>IResolveFieldContext and IResolveConnectionContext</h3>
<p>Field resolver methods now pass a reference to an <code class="language-text">IResolveFieldContext</code> interface, rather than a
<code class="language-text">ResolveFieldContext</code> class. Inline lambda functions are typically unaffected, but if you define your
resolvers separately, you will need to change the function signature.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">class</span> <span class="token class-name">MyGraphType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">MyGraphType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token function">Field</span><span class="token punctuation">(</span><span class="token string">"Name"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> x <span class="token operator">=></span> <span class="token string">"John Doe"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">Field</span><span class="token punctuation">(</span><span class="token string">"Children"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> GetChildren<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//public IEnumerable&lt;string> GetChildren(ResolveFieldContext context)</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span> <span class="token function">GetChildren</span><span class="token punctuation">(</span><span class="token class-name">IResolveFieldContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span> <span class="token string">"Jack"</span><span class="token punctuation">,</span> <span class="token string">"Jill"</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Also please note that all <code class="language-text">IResolveFieldContext</code> and similar interfaces and classes have moved from
the <code class="language-text">GraphQL.Types</code> namespace to the <code class="language-text">GraphQL</code> namespace. You may need to add a <code class="language-text">using GraphQL;</code>
statement to some of your files.</p>
<p>There are also several new properties of <code class="language-text">IResolveFieldContext</code> that were not present on the prior
<code class="language-text">ResolveFieldContext</code> class, such as <code class="language-text">RequestServices</code> and <code class="language-text">ResponsePath</code>, and the constructor of
the <code class="language-text">ResolveFieldContext</code> class has changed. Custom implementations will need to implement the
new properties. Please see the <code class="language-text">IResolveFieldContext</code> interface for a complete list of properties
that are required to be implemented.</p>
<h3 id="connection-builders"><a href="#connection-builders" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Connection Builders</h3>
<p>The connection builders have changed slightly. Please see <a href="https://graphql-dotnet.github.io/docs/getting-started/relay">https://graphql-dotnet.github.io/docs/getting-started/relay</a> for current implementation details.</p>
<h3 id="field-middleware"><a href="#field-middleware" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Field Middleware</h3>
<p>Field Middleware must be registered in the dependency injection container in order to be instantiated.
You also need to implement the <code class="language-text">IFieldMiddleware</code> interface on your custom middleware classes, and change
the signature for the <code class="language-text">Resolve</code> method to accept <code class="language-text">IResolveFieldContext</code>.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">//class MyMiddleware</span>
<span class="token keyword">class</span> <span class="token class-name">MyMiddleware</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IFieldMiddleware</span></span>
<span class="token punctuation">{</span>
    <span class="token comment">//public async Task&lt;object> Resolve(ResolveFieldContext context, FieldMiddlewareDelegate next)</span>
    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">></span></span> <span class="token function">Resolve</span><span class="token punctuation">(</span><span class="token class-name">IResolveFieldContext</span> context<span class="token punctuation">,</span> <span class="token class-name">FieldMiddlewareDelegate</span> next<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// your code here</span>
        <span class="token class-name"><span class="token keyword">var</span></span> ret <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">next</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// your code here</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>Please note that the delegate definition for <code class="language-text">FieldMiddlewareDelegate</code> has changed as follows:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// version 2.4.0</span>
<span class="token keyword">public</span> <span class="token keyword">delegate</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">></span></span> <span class="token function">FieldMiddlewareDelegate</span><span class="token punctuation">(</span><span class="token class-name">ResolveFieldContext</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// version 3.0</span>
<span class="token keyword">public</span> <span class="token keyword">delegate</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">object</span><span class="token punctuation">></span></span> <span class="token function">FieldMiddlewareDelegate</span><span class="token punctuation">(</span><span class="token class-name">IResolveFieldContext</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>You also must ensure that your schema implements <code class="language-text">IServiceProvider</code>. This is handled
automatically if you inherit from <code class="language-text">Schema</code>.</p>
<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/field-middleware">Field Middleware</a> for more details,
including guidelines and restrictions on service lifetimes of middleware registered through your DI framework.</p>
<h3 id="data-loaders"><a href="#data-loaders" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Data Loaders</h3>
<p>Data loaders now return an <code class="language-text">IDataLoaderResult&lt;T></code> rather than a <code class="language-text">Task&lt;T></code>. Field resolver signatures may need to change
as a result. Lambda functions passed to field builders' <code class="language-text">ResolveAsync</code> method should not need to change.</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Order<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IDataLoaderContextAccessor</span> _accessor<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">IUsersStore</span> _users<span class="token punctuation">;</span>

    <span class="token comment">// Inject the IDataLoaderContextAccessor to access the current DataLoaderContext</span>
    <span class="token keyword">public</span> <span class="token function">OrderType</span><span class="token punctuation">(</span><span class="token class-name">IDataLoaderContextAccessor</span> accessor<span class="token punctuation">,</span> <span class="token class-name">IUsersStore</span> users<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _accessor <span class="token operator">=</span> accessor<span class="token punctuation">;</span>
        _users <span class="token operator">=</span> users<span class="token punctuation">;</span>

        <span class="token range operator">..</span><span class="token punctuation">.</span>

        <span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>UserType<span class="token punctuation">,</span> User<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token string">"User"</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ResolveAsync</span><span class="token punctuation">(</span>ResolveUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//public Task&lt;User> ResolveUser(IResolveFieldContext context)</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IDataLoaderResult<span class="token punctuation">&lt;</span>User<span class="token punctuation">></span></span> <span class="token function">ResolveUser</span><span class="token punctuation">(</span><span class="token class-name">IResolveFieldContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Get or add a batch loader with the key "GetUsersById"</span>
        <span class="token comment">// The loader will call GetUsersByIdAsync for each batch of keys</span>
        <span class="token class-name"><span class="token keyword">var</span></span> loader <span class="token operator">=</span> _accessor<span class="token punctuation">.</span>Context<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetOrAddBatchLoader</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span> User<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"GetUsersById"</span><span class="token punctuation">,</span> users<span class="token punctuation">.</span>GetUsersByIdAsync<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Add this UserId to the pending keys to fetch</span>
        <span class="token comment">// The task will complete once the GetUsersByIdAsync() returns with the batched results</span>
        <span class="token keyword">return</span> loader<span class="token punctuation">.</span><span class="token function">LoadAsync</span><span class="token punctuation">(</span>context<span class="token punctuation">.</span>Source<span class="token punctuation">.</span>UserId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<p>If you need to process the data loader result before it is returned, additional refactoring will need to be done.
The data loader also now supports chained data loaders, and asynchronous code prior to queuing the data loader. See
<a href="https://graphql-dotnet.github.io/docs/guides/dataloader">Data loader documentation</a> for more details.</p>
<h3 id="dategraphtype-parsing-changes"><a href="#dategraphtype-parsing-changes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>DateGraphType parsing changes</h3>
<p>In 2.x, the <code class="language-text">DateGraphType</code> will always serialize to a date in the format of <code class="language-text">yyyy-MM-dd</code>, ignoring any time
component of the <code class="language-text">DateTime</code> value. As an input type it would accept any date/time format accepted by the
<code class="language-text">DateTime.Parse</code> method. This allowed for ambiguous dates such as '09-10-2015', which has a different meaning
depending on locale.</p>
<p>In 3.x, the output date format has not changed, but will throw an error if the <code class="language-text">DateTime</code> value has a time
component. The input date format now only accepts a format of <code class="language-text">yyyy-MM-dd</code>. Any other format will trigger
an input error. Note that the <code class="language-text">DateTime.Kind</code> property for returned dates is set to <code class="language-text">DateTimeKind.Utc</code>.</p>
<h3 id="executionstrategy-changes"><a href="#executionstrategy-changes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ExecutionStrategy changes</h3>
<p>If you utilize data loaders along with a custom implementation of <code class="language-text">IExecutionStrategy</code> (typically inheriting
from <code class="language-text">ExecutionStrategy</code>), you must change the implementation to monitor for <code class="language-text">IDataLoaderResult</code> returned
values, and execute <code class="language-text">GetResultAsync</code> at the appropriate time to retrieve the actual value asynchronously.
If the field resolver returns a <code class="language-text">Task&lt;IDataLoaderResult></code>, the execution strategy should start the task as
usual, only queuing the data loader once the <code class="language-text">IDataLoaderResult</code> has been returned. Note that
<code class="language-text">await IDataLoaderResult.GetResultAsync()</code> may return another <code class="language-text">IDataLoaderResult</code> which must again
be queued to execute at the proper time.</p>
<p>To accommodate these changes, the <code class="language-text">ExecuteNodeAsync</code> method has been split into three methods; the new methods
are <code class="language-text">CompleteDataLoaderNodeAsync</code> and <code class="language-text">CompleteNode</code>. Please refer to the reference implementation of
<code class="language-text">ParallelExecutionStrategy</code> for an example.</p>
<h3 id="exception-handling"><a href="#exception-handling" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Exception Handling</h3>
<p>Exceptions have been split into three categories: schema errors, input errors, and processing errors. For instance,
if an invalid query was passed to the <code class="language-text">DocumentExecuter</code>, it would be considered an input error, and a <code class="language-text">SyntaxError</code>
would be thrown. Or if an invalid enum string was passed as a variable to a query, an <code class="language-text">InvalidValueError</code> would be
thrown. All validation rules that fail their respective tests are treated as input errors.</p>
<p>In 2.x, most schema errors would throw an exception of the <code class="language-text">ExecutionError</code> type. This has been changed; now
the thrown error is a native exception -- for instance, an <code class="language-text">ArgumentOutOfRange</code> exception would be thrown when
trying to add a field to a type with the same name as one that already exists. Many of these exceptions
occur prior to executing a document; however, some occur during the schema initialization within the
<code class="language-text">DocumentExecuter</code> and are then treated as processing errors.</p>
<p>In 3.x, <code class="language-text">ExecutionError</code> (and derived classes) are returned directly from the <code class="language-text">DocumentExecuter</code> for parsing
and validation errors (input errors). Field resolvers and middleware can also return input errors by
throwing an <code class="language-text">ExecutionError</code> exception.</p>
<p>Processing errors are now able to be caught within an optional <code class="language-text">UnhandledExceptionDelegate</code> and processed,
logged or masked as desired. By default, processing errors are masked and encapsulated in an <code class="language-text">UnhandledError</code>
and returned within the <code class="language-text">ExecutionResult</code>. Alternatively, processing errors can be thrown back to the caller
of the <code class="language-text">DocumentExecuter</code> by setting <code class="language-text">ThrowOnUnhandledException</code> to <code class="language-text">true</code>.</p>
<p>See <a href="https://graphql-dotnet.github.io/docs/getting-started/errors">Error handling documentation</a> for more details,
samples, and a full list of exception types and codes.</p>
<h3 id="subscriptionexecuter-removal"><a href="#subscriptionexecuter-removal" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>SubscriptionExecuter removal</h3>
<p>The <code class="language-text">SubscriptionExecuter</code> class, previously marked as obsolete, has been removed. Use the <code class="language-text">DocumentExecuter</code>
in its place.</p>
<h3 id="nameconverter"><a href="#nameconverter" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>NameConverter</h3>
<p>The <code class="language-text">ExecutionOptions.FieldNameConverter</code> property has been replaced by the <code class="language-text">NameConverter</code> property, and the
corresponding class names have changed as well. Static instance members have been added to the included
name converters. Below is a sample of the required change when using <code class="language-text">PascalCaseFieldNameConverter</code>:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token class-name"><span class="token keyword">var</span></span> executer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">DocumentExecuter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> executer<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options <span class="token operator">=></span> <span class="token punctuation">{</span>

	<span class="token range operator">..</span><span class="token punctuation">.</span>

  <span class="token comment">//options.FieldNameConverter = new PascalCaseFieldNameConverter();</span>
  options<span class="token punctuation">.</span>NameConverter <span class="token operator">=</span> PascalCaseNameConverter<span class="token punctuation">.</span>Instance<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
      </div>
<p>If you have written a custom name converter, you must now implement <code class="language-text">INameConverter</code> rather than
<code class="language-text">IFieldNameConverter</code>, which has two methods, <code class="language-text">NameForField</code> and <code class="language-text">NameForArgument</code>, rather than
only <code class="language-text">NameFor</code>. There is also no need to check for introspection types, as GraphQL.NET will
handle this automatically. Below is a sample of the changes required:</p>
<div class="gatsby-highlight" data-language="csharp">
      <pre class="language-csharp"><code class="language-csharp"><span class="token comment">// version 2.4.x</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConverter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IFieldNameConverter</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">Type<span class="token punctuation">[</span><span class="token punctuation">]</span></span> IntrospectionTypes <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">SchemaIntrospection</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">NameFor</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> field<span class="token punctuation">,</span> <span class="token class-name">Type</span> parentType<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">isIntrospectionType</span><span class="token punctuation">(</span>parentType<span class="token punctuation">)</span> <span class="token punctuation">?</span> field<span class="token punctuation">.</span><span class="token function">ToCamelCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> field<span class="token punctuation">.</span><span class="token function">ToPascalCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">isIntrospectionType</span><span class="token punctuation">(</span><span class="token class-name">Type</span> type<span class="token punctuation">)</span> <span class="token operator">=></span> IntrospectionTypes<span class="token punctuation">.</span><span class="token function">Contains</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// version 3.0</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConverter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">INameConverter</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">NameForField</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> fieldName<span class="token punctuation">,</span> <span class="token class-name">IComplexGraphType</span> graphType<span class="token punctuation">)</span> <span class="token operator">=></span> fieldName<span class="token punctuation">.</span><span class="token function">ToPascalCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">NameForArgument</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> argumentName<span class="token punctuation">,</span> <span class="token class-name">IComplexGraphType</span> graphType<span class="token punctuation">,</span> <span class="token class-name">FieldType</span> field<span class="token punctuation">)</span> <span class="token operator">=></span> argumentName<span class="token punctuation">.</span><span class="token function">ToPascalCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
      </div>
<h3 id="global-references-to-the-three-introspection-fields-are-now-properties-on-code-classlanguage-textischemacode"><a href="#global-references-to-the-three-introspection-fields-are-now-properties-on-code-classlanguage-textischemacode" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Global references to the three introspection fields are now properties on <code class="language-text">ISchema</code></h3>
<p>The three introspection field definitions for <code class="language-text">__schema</code>, <code class="language-text">__type</code>, and <code class="language-text">__typename</code> have moved from static properties on the <code class="language-text">SchemaIntrospection</code> class
to properties of the <code class="language-text">ISchema</code> interface, typically provided by the <code class="language-text">Schema</code> class. Custom implementations of <code class="language-text">ISchema</code> must implement three new properties:
<code class="language-text">SchemaMetaFieldType</code>, <code class="language-text">TypeMetaFieldType</code>, and <code class="language-text">TypeNameMetaFieldType</code>. These can be provided by the <code class="language-text">GraphTypesLookup</code> class.</p>
<h3 id="code-classlanguage-textischemacode-now-implements-code-classlanguage-textiprovidemetadatacode-only-for-graphqlnet--v320"><a href="#code-classlanguage-textischemacode-now-implements-code-classlanguage-textiprovidemetadatacode-only-for-graphqlnet--v320" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code class="language-text">ISchema</code> now implements <code class="language-text">IProvideMetadata</code> (only for GraphQL.NET >= v3.2.0)</h3>
<p>Formally it is a breaking change but practically clients shouldn't run into problems, as hardly anyone creates their own <code class="language-text">ISchema</code> implementations preferring
to inherit from <code class="language-text">Schema</code> class. </p></article><div class="content-toolbar"><a href="https://github.com/graphql-dotnet/graphql-dotnet/edit/master/docs2/site/docs/migrations/migration3.md" rel="noopener noreferrer" target="_blank">Edit this page on GitHub</a></div></div><div class="nav"><nav><ul><li><span>Getting Started</span><nav><ul><li><a class="" href="/docs/getting-started/introduction">Introduction</a></li><li><a class="" href="/docs/getting-started/installation">Installation</a></li><li><a class="" href="/docs/getting-started/graphiql">GraphiQL</a></li><li><a class="" href="/docs/getting-started/altair-graphql">Altair GraphQL</a></li><li><a class="" href="/docs/getting-started/queries">Queries</a></li><li><a class="" href="/docs/getting-started/schema-types">Schema Types</a></li><li><a class="" href="/docs/getting-started/custom-scalars">Custom Scalars</a></li><li><a class="" href="/docs/getting-started/lists-non-null">Lists and Non-Null</a></li><li><a class="" href="/docs/getting-started/arguments">Arguments</a></li><li><a class="" href="/docs/getting-started/aliases">Aliases</a></li><li><a class="" href="/docs/getting-started/fragments">Fragments</a></li><li><a class="" href="/docs/getting-started/variables">Variables</a></li><li><a class="" href="/docs/getting-started/directives">Directives</a></li><li><a class="" href="/docs/getting-started/mutations">Mutations</a></li><li><a class="" href="/docs/getting-started/interfaces">Interfaces</a></li><li><a class="" href="/docs/getting-started/unions">Unions</a></li><li><a class="" href="/docs/getting-started/subscriptions">Subscriptions</a></li><li><a class="" href="/docs/getting-started/query-validation">Query Validation</a></li><li><a class="" href="/docs/getting-started/query-organization">Query Organization</a></li><li><a class="" href="/docs/getting-started/user-context">User Context</a></li><li><a class="" href="/docs/getting-started/errors">Error Handling</a></li><li><a class="" href="/docs/getting-started/dependency-injection">Dependency Injection</a></li><li><a class="" href="/docs/getting-started/databases">Databases</a></li><li><a class="" href="/docs/getting-started/malicious-queries">Malicious Queries</a></li><li><a class="" href="/docs/getting-started/metadata">Object/Field Metadata</a></li><li><a class="" href="/docs/getting-started/field-middleware">Field Middleware</a></li><li><a class="" href="/docs/getting-started/metrics">Metrics</a></li><li><a class="" href="/docs/getting-started/authorization">Authorization</a></li><li><a class="" href="/docs/getting-started/relay">Relay</a></li><li><a class="" href="/docs/getting-started/global-switches">Global Switches</a></li></ul></nav></li><li><span>Guides</span><nav><ul><li><a class="" href="/docs/guides/serialization">Serialization</a></li><li><a class="" href="/docs/guides/dataloader">Dataloader</a></li><li><a class="" href="/docs/guides/schema-generation">Schema Generation</a></li><li><a class="" href="/docs/guides/known-issues">Known Issues &amp; FAQ</a></li><li><a class="" href="/docs/guides/links">Links</a></li><li><a class="" href="/docs/guides/document-caching">Document Caching</a></li></ul></nav></li><li><span>Migration Guides</span><nav><ul><li><a class="" href="/docs/migrations/migration7">Migration Guide [v5 -&gt; v7]</a></li><li><a class="" href="/docs/migrations/migration5">Migration Guide [v4 -&gt; v5]</a></li><li><a class="" href="/docs/migrations/migration4">Migration Guide [v3 -&gt; v4]</a></li><li><a class="active" href="/docs/migrations/migration3">Migration Guide [v2 -&gt; v3]</a></li><li><a class="" href="/docs/migrations/migration2">Migration Guide [v0.17.x -&gt; v2]</a></li><li><a class="" href="/docs/migrations/v0_11_0">Migration Guide [v0.11.0]</a></li><li><a class="" href="/docs/migrations/v0_8_0">Migration Guide [v0.8.0]</a></li></ul></nav></li></ul></nav></div></div></div><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-25b650787e17e3ebc069.js","95710047193689":"component---site-pages-landing-js-7a04f3721ec3f8b3df00.js","28613242278168":"component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","162898551421021":"component---src-pages-404-js-dafbfbd345a265f9fe6e.js","60335399758886":"path----f30409f551ede979d792.js","142629428675168":"path---index-6b1dcdab0a774a86ff50.js","194669561623365":"path---docs-getting-started-introduction-6eec16ba80ab9791beb7.js","7936910712040":"path---docs-getting-started-installation-47d40962aa0cbc105411.js","86643674157860":"path---docs-getting-started-graphiql-f33bd2db8b9e17e05b5c.js","53507852050045":"path---docs-getting-started-altair-graphql-432e07418ea18f50bbec.js","143391023720279":"path---docs-getting-started-queries-5328754a7f87dd890944.js","202354100065884":"path---docs-getting-started-schema-types-994d488eef99e385cbd9.js","266142771958950":"path---docs-getting-started-custom-scalars-90d34229c4ed8325da7f.js","56185524266781":"path---docs-getting-started-lists-non-null-e685364a0af4c21096f9.js","76576268814232":"path---docs-getting-started-arguments-f239e855c1c0b617feec.js","202043887933404":"path---docs-getting-started-aliases-70e6a221c3b60856c9ce.js","157702184900489":"path---docs-getting-started-fragments-b78adb5f2a55e1757268.js","44712706562510":"path---docs-getting-started-variables-e625c38a650cae282cd1.js","244442750240678":"path---docs-getting-started-directives-a595151c86612aaa8096.js","114361466534084":"path---docs-getting-started-mutations-4e7a8b45e0eba80b5ed4.js","133838580703967":"path---docs-getting-started-interfaces-0a406b155ee54eabdea5.js","53220472400125":"path---docs-getting-started-unions-00f581913ae18e4f19d7.js","278627754389952":"path---docs-getting-started-subscriptions-f4922cb5e8ce728f70a5.js","107167650384582":"path---docs-getting-started-query-validation-31983a197b4de32bb965.js","11491794978075":"path---docs-getting-started-query-organization-b1f0ec6fc2081814e0be.js","171719905287791":"path---docs-getting-started-user-context-e70898275b60df8b8511.js","75494656540334":"path---docs-getting-started-errors-01f1d83f3a0925194981.js","178698305269250":"path---docs-getting-started-dependency-injection-1944c01e772ff61d4613.js","75420749601626":"path---docs-getting-started-databases-8c247e11852995057bce.js","55192516056771":"path---docs-getting-started-malicious-queries-185e69437d513265402a.js","33904618880309":"path---docs-getting-started-metadata-73a21a665ef90a6bb712.js","131465737246961":"path---docs-getting-started-field-middleware-cac25ce3d7089d0c6765.js","185577185973635":"path---docs-getting-started-metrics-aa1d9bade38981a564aa.js","271764429786961":"path---docs-getting-started-authorization-50c3e41bd97ca2699b0e.js","71981178235569":"path---docs-getting-started-relay-ffee045935c5c5403cd5.js","167079278695343":"path---docs-getting-started-global-switches-70c4cf342a0d92f21259.js","970605649915":"path---docs-guides-serialization-18b0fc9aa1534af202e0.js","67274500541493":"path---docs-guides-dataloader-e71508790d18d3d143bb.js","254760750072238":"path---docs-guides-schema-generation-0387bd7d86b48ed53440.js","260838844694584":"path---docs-guides-known-issues-6253551f8018b5906596.js","139372590924694":"path---docs-guides-links-23fe4eb9d559d9c8dfe5.js","107626090068759":"path---docs-guides-document-caching-dbcd362bef4c638df8f2.js","171986746120192":"path---docs-migrations-migration-7-17bb8930db86cab53125.js","169038957085601":"path---docs-migrations-migration-5-3cefac06106f7ee1d466.js","57783942601805":"path---docs-migrations-migration-4-ddf2740029240c63307d.js","170816503279010":"path---docs-migrations-migration-3-592f267ac70d938bd515.js","87071238410674":"path---docs-migrations-migration-2-12e6d729190fab470be4.js","129554874384426":"path---docs-migrations-v-0-11-0-43992d4826c517cbc95e.js","179521343418354":"path---docs-migrations-v-0-8-0-711ed55bd1278e1d6a97.js","254022195166212":"path---404-a0e39f21c11f6a62c5ab.js","178698757827068":"path---404-html-a0e39f21c11f6a62c5ab.js","114276838955818":"component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js"}/*]]>*/</script><script>/*<![CDATA[*/["/commons-a7cf6837d3c24c1c9d2a.js","/app-25b650787e17e3ebc069.js","/path---docs-migrations-migration-3-592f267ac70d938bd515.js","/component---src-templates-docs-page-js-8e21cb098d5f49b9ad94.js","/component---src-layouts-index-js-e8e2ac6da0b3fd0e25d9.js"].forEach(function(s){document.write('<script src="'+s+'" defer></'+'script>')})/*]]>*/</script></body></html>