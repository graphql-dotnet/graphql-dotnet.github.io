<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 5.9.1"/><meta data-react-helmet="true" name="description" content="GraphQL for .NET"/><meta data-react-helmet="true" name="keywords" content="graphql,api,web api,.net,.net core"/><style data-href="/styles.71340509c59b3fced1c9.css" data-identity="gatsby-global-css">.landing{margin:1.8rem auto}html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;font-family:sans-serif}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{-webkit-text-decoration-skip:objects;background-color:transparent}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{box-sizing:border-box;font:112.5%/1.45em georgia,serif;overflow-y:scroll}*,:after,:before{box-sizing:inherit}body{word-wrap:break-word;-ms-font-feature-settings:"kern","liga","clig","calt";font-feature-settings:"kern","liga","clig","calt";color:rgba(0,0,0,.8);font-family:georgia,serif;font-kerning:normal;font-weight:400}img{margin:0 0 1.45rem;max-width:100%;padding:0}h1{font-size:2.25rem}h1,h2{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h2{font-size:1.62671rem}h3{font-size:1.38316rem}h3,h4{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h4{font-size:1rem}h5{font-size:.85028rem}h5,h6{color:inherit;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-weight:700;line-height:1.1;margin:0 0 1.45rem;padding:0;text-rendering:optimizeLegibility}h6{font-size:.78405rem}hgroup{margin:0 0 1.45rem;padding:0}ol,ul{list-style-image:none;list-style-position:outside;margin:0 0 1.45rem 1.45rem}ol{padding:0}dd,dl,figure,p{margin:0 0 1.45rem;padding:0}pre{word-wrap:normal;background:rgba(0,0,0,.04);border-radius:3px;font-size:.85rem;line-height:1.42;margin:0 0 1.45rem;overflow:auto;padding:1.45rem}table{border-collapse:collapse;font-size:1rem;line-height:1.45rem;width:100%}fieldset,table{margin:0 0 1.45rem;padding:0}blockquote{margin:0 1.45rem 1.45rem;padding:0}form,iframe,noscript{margin:0 0 1.45rem;padding:0}hr{background:rgba(0,0,0,.2);border:none;height:1px;margin:0 0 calc(1.45rem - 1px);padding:0}address{margin:0 0 1.45rem;padding:0}b,dt,strong,th{font-weight:700}li{margin-bottom:.725rem}ol li,ul li{padding-left:0}li>ol,li>ul{margin-bottom:.725rem;margin-left:1.45rem;margin-top:.725rem}blockquote :last-child,li :last-child,p :last-child{margin-bottom:0}li>p{margin-bottom:.725rem}code,kbd,samp{font-size:.85rem;line-height:1.45rem}abbr,abbr[title],acronym{border-bottom:1px dotted rgba(0,0,0,.5);cursor:help}abbr[title]{text-decoration:none}td,th,thead{text-align:left}td,th{font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";border-bottom:1px solid rgba(0,0,0,.12);padding:.725rem .96667rem calc(.725rem - 1px)}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}code,tt{background-color:rgba(0,0,0,.04);border-radius:3px;font-family:SFMono-Regular,Consolas,Roboto Mono,Droid Sans Mono,Liberation Mono,Menlo,Courier,monospace;padding:.2em 0}pre code{background:none;line-height:1.42}code:after,code:before,tt:after,tt:before{content:" ";letter-spacing:-.2em}pre code:after,pre code:before,pre tt:after,pre tt:before{content:""}@media only screen and (max-width:480px){html{font-size:100%}}code[class*=language-],pre[class*=language-]{word-wrap:normal;color:#657b83;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;hyphens:none;line-height:1.5;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{background:#073642}pre[class*=language-]{border-radius:.3em;margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background-color:#fdf6e3}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#93a1a1}.token.punctuation{color:#586e75}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#268bd2}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string,.token.url{color:#2aa198}.token.entity{background:#eee8d5;color:#657b83}.token.atrule,.token.attr-value,.token.keyword{color:#859900}.token.class-name,.token.function{color:#b58900}.token.important,.token.regex,.token.variable{color:#cb4b16}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}html{color:#2c3e50}body,html{-webkit-font-smoothing:antialiased;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;font-size:16px;overflow:auto;text-rendering:optimizeLegibility}body{margin:0}#___gatsby{overflow:auto}#gatsby-focus-wrapper{height:100%}ul{padding:0}li,ul{margin:0}a{color:#3eaf7c;text-decoration:underline}.header{border-bottom:1px solid #eaecef;height:60px}.header ul{padding:20px}.header li{display:inline-block;list-style:none;padding:0 12px}.header li a{color:#2c3e50;text-decoration:none}.footer{height:60px}.footer,.header{flex:none}.page-body{display:flex;flex-direction:column;height:calc(100% - 60px)}.content{height:100%;overflow-x:hidden;overflow-y:hidden;padding:2em;width:100%}.content ul{margin:20px 0}.content ul li{margin:0 0 0 30px}.content blockquote{border-left:7px solid #eaecef;margin:0 0 1.45rem;padding:30px}.content pre{margin-bottom:1.45rem}.content-body,.content-toolbar{margin:0 auto;max-width:740px}.content-toolbar{padding:1rem 0}.nav{border:0;flex-grow:1;min-width:18rem;order:1;overflow-x:hidden;overflow-y:inherit;padding-top:2rem}.nav li{list-style:none}.nav li span{display:block;font-weight:600;padding:.25rem 1rem .25rem 1.5rem}.nav ul{margin-bottom:15px}.nav ul a{border-left:.25rem solid transparent;color:#2c3e50;display:inline-block;line-height:1.4;padding:.25rem 1rem .25rem 1.25rem;text-decoration:none}.nav ul a:hover{color:#3eaf7c}.nav ul a.active{border-left:.25rem solid #3eaf7c;color:#3eaf7c;text-decoration:none}@media (min-width:768px){#___gatsby,body,html{height:100%;overflow-y:hidden}.page-body{flex-direction:row}.content{overflow-y:auto}.ads,.nav{order:-1}.nav{border-right:1px solid #eaecef;overflow-y:auto}}</style><title data-react-helmet="true">GraphQL .NET</title><style type="text/css">
    .anchor.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor svg,
    h2 .anchor svg,
    h3 .anchor svg,
    h4 .anchor svg,
    h5 .anchor svg,
    h6 .anchor svg {
      visibility: hidden;
    }
    h1:hover .anchor svg,
    h2:hover .anchor svg,
    h3:hover .anchor svg,
    h4:hover .anchor svg,
    h5:hover .anchor svg,
    h6:hover .anchor svg,
    h1 .anchor:focus svg,
    h2 .anchor:focus svg,
    h3 .anchor:focus svg,
    h4 .anchor:focus svg,
    h5 .anchor:focus svg,
    h6 .anchor:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><nav class="header"><ul><li><a href="/">GraphQL.NET</a></li><li><a href="/docs/getting-started/introduction/">Docs</a></li><li><a href="https://github.com/graphql-dotnet/graphql-dotnet" rel="noopener noreferrer" target="_blank">GitHub</a></li></ul></nav><div class="page-body"><div class="content"><article class="content-body"><h1 id="migrating-from-v4x-to-v5x" style="position:relative;"><a href="#migrating-from-v4x-to-v5x" aria-label="migrating from v4x to v5x permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Migrating from v4.x to v5.x</h1>
<p>See <a href="https://github.com/graphql-dotnet/graphql-dotnet/issues?q=milestone%3A5.0+is%3Aissue+is%3Aclosed">issues</a> and <a href="https://github.com/graphql-dotnet/graphql-dotnet/pulls?q=is%3Apr+milestone%3A5.0+is%3Aclosed">pull requests</a> done in v5.</p>
<h2 id="new-features" style="position:relative;"><a href="#new-features" aria-label="new features permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>New Features</h2>
<h3 id="1-donotmapclrtype-attribute-can-now-be-placed-on-the-graph-type-or-the-clr-type" style="position:relative;"><a href="#1-donotmapclrtype-attribute-can-now-be-placed-on-the-graph-type-or-the-clr-type" aria-label="1 donotmapclrtype attribute can now be placed on the graph type or the clr type permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. DoNotMapClrType attribute can now be placed on the graph type or the CLR type</h3>
<p>When using the <code class="language-text">.AddClrTypeMappings()</code> builder extension method, GraphQL.NET scans the
specified assembly for graph types that inherit from <code class="language-text">ObjectGraphType&lt;T></code> and adds a
mapping for the CLR type represented by <code class="language-text">T</code> with the graph type it matched upon.
It skips adding a mapping for any graph type marked with the <code class="language-text">[DoNotMapClrType]</code> attribute.
In v5, it will also skip adding the mapping if the CLR type is marked with the
<code class="language-text">[DoNotMapClrType]</code> attribute.</p>
<h3 id="2-input-extensions-support" style="position:relative;"><a href="#2-input-extensions-support" aria-label="2 input extensions support permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Input Extensions support</h3>
<p><code class="language-text">Extensions</code> deserialized from GraphQL requests can now be set on the <code class="language-text">ExecutionOptions.Extensions</code> property
and passed through to field resolvers via <code class="language-text">IResolveFieldContext.InputExtensions</code>. Note that standard .NET
dictionaries (such as <code class="language-text">Dictionary&lt;TKey, TValue></code>) are thread-safe for read-only operations. Also you can
access these extensions from validation rules via <code class="language-text">ValidationContext.Extensions</code>.</p>
<h3 id="3-improved-graphql-parser" style="position:relative;"><a href="#3-improved-graphql-parser" aria-label="3 improved graphql parser permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Improved GraphQL-Parser</h3>
<p>GraphQL.NET v5 uses GraphQL-Parser v8. This release brought numerous changes in the parser object model,
which began to better fit the <a href="https://spec.graphql.org/October2021/">latest version</a> of the published
official GraphQL specification. GraphQL-Parser v8 has a lot of backward incompatible changes, but you are
unlikely to come across them if you do not use advanced features.</p>
<h3 id="4-code-classlanguage-textigraphqlserializercode-interface-with-json-deserialization-support" style="position:relative;"><a href="#4-code-classlanguage-textigraphqlserializercode-interface-with-json-deserialization-support" aria-label="4 code classlanguage textigraphqlserializercode interface with json deserialization support permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. <code class="language-text">IGraphQLSerializer</code> interface with JSON deserialization support</h3>
<p><code class="language-text">IGraphQLSerializer.ReadAsync</code> is implemented by the <code class="language-text">GraphQL.SystemTextJson</code> and
<code class="language-text">GraphQL.NewtonsoftJson</code> libraries. It supports deserialization of any type, with
special support for the <code class="language-text">GraphQLRequest</code> class. It also supports deserializing to
a <code class="language-text">IList&lt;GraphQLRequest></code>, which will deserialize multiple requests or
a single request (with or without the JSON array wrapper) into a list.</p>
<p>When calling the <code class="language-text">AddSystemTextJson</code> or <code class="language-text">AddNewtonsoftJson</code> extension method to
the <code class="language-text">IGraphQLBuilder</code> interface, the method will register the <code class="language-text">IGraphQLSerializer</code>
and <code class="language-text">IGraphQLTextSerializer</code> interfaces with the appropriate
serialization engine. These interfaces handle both serialization and deserialization
of objects.</p>
<p>This makes it so that you can write JSON-based transport code independent of the
JSON serialization engine used by your application, simplifying the most common use
case, while still being configurable through your DI framework.</p>
<p>You can also use <code class="language-text">IGraphQLTextSerializer.ReadNode</code> to deserialize a framework-dependent
JSON element node, stored within an <code class="language-text">object</code>, into a specific type. The specific
serialization engine you are using may have additional <code class="language-text">Read</code> members as would be expected
for that library.</p>
<p>Be aware that <code class="language-text">System.Text.Json</code> defaults to case-sensitive deserialization, while
<code class="language-text">Newtonsoft.Json</code> defaults to case-insensitive deserialization. However, the supported
data models (such as <code class="language-text">GraphQLRequest</code> and <code class="language-text">OperationMessage</code>) will always deserialize
with case-sensitive camelCase deserialization. You can write your own data classes
which will behave in the default manner of the serializer's configuration. You can
configure the serializer to use camelCase for all properties by default. You can also
tag properties with serializer-specific attributes to change deserialization behavior,
such as adding a <code class="language-text">JsonPropertyName</code> attribute to a data member to override its
serialized property name.</p>
<p>Specific support is provided for serializing and deserializing to the following data models:</p>
<table>
<thead>
<tr>
<th>Class</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">ExecutionResult</code></td>
<td>Only serialization is supported</td>
</tr>
<tr>
<td><code class="language-text">ExecutionError</code></td>
<td>Only serialization is supported</td>
</tr>
<tr>
<td><code class="language-text">GraphQLRequest</code></td>
<td></td>
</tr>
<tr>
<td><code class="language-text">IList&lt;GraphQLRequest></code></td>
<td>Other common collection variations, such as <code class="language-text">IEnumerable&lt;></code> or <code class="language-text">List&lt;></code>, are also supported</td>
</tr>
<tr>
<td><code class="language-text">OperationMessage</code></td>
<td><code class="language-text">Payload</code> is an <code class="language-text">object</code> and can be deserialized to <code class="language-text">GraphQLRequest</code> via <code class="language-text">ReadNode</code></td>
</tr>
<tr>
<td><code class="language-text">ApolloTrace</code></td>
<td></td>
</tr>
<tr>
<td><code class="language-text">Inputs</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Note that when deserializing a <code class="language-text">IList&lt;GraphQLRequest></code>, and when the JSON data is a
single request rather than a list of requests, the request will be deserialized into
a list or array of a single item. For example, <code class="language-text">{"query":"{ hero }"}</code> deserializes into
<code class="language-text">new[] { new GraphQLRequest { Query = "{ hero }" }}</code>.</p>
<h3 id="5-code-classlanguage-textigraphqltextserializercode-interface-to-support-serialization-tofrom-strings" style="position:relative;"><a href="#5-code-classlanguage-textigraphqltextserializercode-interface-to-support-serialization-tofrom-strings" aria-label="5 code classlanguage textigraphqltextserializercode interface to support serialization tofrom strings permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. <code class="language-text">IGraphQLTextSerializer</code> interface to support serialization to/from strings.</h3>
<p><code class="language-text">IGraphQLTextSerializer.Serialize</code> and <code class="language-text">IGraphQLTextSerializer.Deserialize</code> support
serializing objects to and from <code class="language-text">string</code> values. For the <code class="language-text">GraphQL.SystemTextJson</code>
and <code class="language-text">GraphQL.NewtonsoftJson</code> libraries, these serialize and deserialize to JSON strings.</p>
<h3 id="6-code-classlanguage-textautoregisteringobjectgraphtypecode-and-code-classlanguage-textautoregisteringinputobjectgraphtypecode-enhancements" style="position:relative;"><a href="#6-code-classlanguage-textautoregisteringobjectgraphtypecode-and-code-classlanguage-textautoregisteringinputobjectgraphtypecode-enhancements" aria-label="6 code classlanguage textautoregisteringobjectgraphtypecode and code classlanguage textautoregisteringinputobjectgraphtypecode enhancements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. <code class="language-text">AutoRegisteringObjectGraphType</code> and <code class="language-text">AutoRegisteringInputObjectGraphType</code> enhancements</h3>
<p>These two classes now provide a range of customizable behavior for data models without the
need for creating individual graph types for each data model. New for v5, fields' names
and graph types can be customized by applying attributes to the respective property, such
as is shown in the below example:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// graph type: AutoRegisteringObjectGraphType&lt;Person></span>

<span class="token keyword">class</span> <span class="token class-name">Person</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Name</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Id"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">OutputType</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">IdGraphType</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> PersonId <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Authorize</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Administrators"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Age <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Description</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Employee's job position"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> Title <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h4 id="nullable-reference-type-attribute-interpretation" style="position:relative;"><a href="#nullable-reference-type-attribute-interpretation" aria-label="nullable reference type attribute interpretation permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nullable reference type attribute interpretation</h4>
<p>When the CLR type has nullable reference type annotations, these annotations
are read and interpreted by GraphQL.NET when constructing the graph type.
For instance, this is how the following CLR types are mapped to graph types
after schema initialization:</p>
<table>
<thead>
<tr>
<th>CLR type</th>
<th>Graph type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">string?</code></td>
<td><code class="language-text">StringGraphType</code></td>
</tr>
<tr>
<td><code class="language-text">string</code></td>
<td><code class="language-text">NonNullGraphType&lt;StringGraphType></code></td>
</tr>
<tr>
<td><code class="language-text">List&lt;int></code></td>
<td><code class="language-text">NonNullGraphType&lt;ListGraphType&lt;NonNullGraphType&lt;IntGraphType>>></code></td>
</tr>
</tbody>
</table>
<p>CLR type mappings registered in the schema are supported as well.</p>
<p>In addition to the above, if the <code class="language-text">[Id]</code> attribute is marked on the property,
it will override the interpreted graph type such as in the following examples:</p>
<table>
<thead>
<tr>
<th>CLR type marked with <code class="language-text">[Id]</code></th>
<th>Graph type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">string?</code></td>
<td><code class="language-text">IdGraphType</code></td>
</tr>
<tr>
<td><code class="language-text">string</code></td>
<td><code class="language-text">NonNullGraphType&lt;IdGraphType></code></td>
</tr>
<tr>
<td><code class="language-text">List&lt;int></code></td>
<td><code class="language-text">NonNullGraphType&lt;ListGraphType&lt;NonNullGraphType&lt;IdGraphType>>></code></td>
</tr>
</tbody>
</table>
<p>Custom attributes can also be added to perform the following behavior changes:</p>
<ul>
<li>Override detected underlying CLR type</li>
<li>Override detected nullability or list nullability state</li>
<li>Override chosen underlying graph type</li>
</ul>
<h4 id="method-and-argument-support-for-code-classlanguage-textautoregisteringobjectgraphtypelttcode-instances" style="position:relative;"><a href="#method-and-argument-support-for-code-classlanguage-textautoregisteringobjectgraphtypelttcode-instances" aria-label="method and argument support for code classlanguage textautoregisteringobjectgraphtypelttcode instances permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Method and argument support for <code class="language-text">AutoRegisteringObjectGraphType&lt;T></code> instances</h4>
<p>Methods will be detected and added to fields on the graph. Asynchronous methods
and data loader methods are supported such as shown in the below example:</p>
<table>
<thead>
<tr>
<th>CLR type</th>
<th>Graph type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">Task&lt;string></code></td>
<td><code class="language-text">NonNullGraphType&lt;StringGraphType></code></td>
</tr>
<tr>
<td><code class="language-text">IDataLoaderResult&lt;Person?></code></td>
<td><code class="language-text">PersonGraphType</code></td>
</tr>
</tbody>
</table>
<p>The above example assumes that the <code class="language-text">Person</code> CLR type was mapped to <code class="language-text">PersonGraphType</code>
in the schema CLR type mappings.</p>
<p>Arguments are also added as query arguments to the field, and recognize default values
and other attributes set on the parameter. Certain argument types are recognized and
treated special; special fields do not add a query argument to the field:</p>
<table>
<thead>
<tr>
<th>Argument type</th>
<th>Value passed to the method</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">IResolveFieldContext</code></td>
<td>The field resolver's context; useful in advanced scenarios</td>
</tr>
<tr>
<td><code class="language-text">CancellationToken</code></td>
<td>The cancellation token from the resolve context</td>
</tr>
<tr>
<td>Any, tagged with <code class="language-text">[FromServices]</code></td>
<td>Pulls the service of the argument type from the <code class="language-text">RequestServices</code> property of the resolve context</td>
</tr>
</tbody>
</table>
<p>Also note:</p>
<ul>
<li>Asynchronous methods that end in <code class="language-text">Async</code> have the "Async" suffix removed from the default field name.</li>
<li>Methods tagged with <code class="language-text">[Scoped]</code> (when using <code class="language-text">GraphQL.MicrosoftDI</code>) create a service scope for the field resolver's execution.</li>
</ul>
<p>This allows for code such as the following:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Name</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Person"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Human</span>
<span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Id</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> Id <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Name <span class="token punctuation">{</span> <span class="token keyword">get</span><span class="token punctuation">;</span> <span class="token keyword">set</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>

    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Name</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Orders"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Scoped</span></span><span class="token punctuation">]</span>
    <span class="token keyword">public</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span>IEnumerable<span class="token punctuation">&lt;</span>Order<span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token function">GetOrdersAsync</span><span class="token punctuation">(</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromServices</span></span><span class="token punctuation">]</span> <span class="token class-name">MyDbContext</span> db<span class="token punctuation">,</span>
        <span class="token class-name">CancellationToken</span> token<span class="token punctuation">,</span>
        <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">Name</span><span class="token attribute-arguments"><span class="token punctuation">(</span><span class="token string">"Sort"</span><span class="token punctuation">)</span></span></span><span class="token punctuation">]</span> <span class="token class-name">SortOrder</span> sortOrder <span class="token operator">=</span> SortOrder<span class="token punctuation">.</span>Date<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> query <span class="token operator">=</span> db<span class="token punctuation">.</span>Orders<span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>HumanId <span class="token operator">==</span> Id<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>sortOrder <span class="token operator">==</span> SortOrder<span class="token punctuation">.</span>Date<span class="token punctuation">)</span>
            query <span class="token operator">=</span> query<span class="token punctuation">.</span><span class="token function">OrderByDesc</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x<span class="token punctuation">.</span>OrderDate<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> query<span class="token punctuation">.</span><span class="token function">ToListAsync</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">enum</span> <span class="token class-name">SortOrder</span>
<span class="token punctuation">{</span>
    Date
<span class="token punctuation">}</span></code></pre></div>
<p>The above code would generate a GraphQL schema like this:</p>
<div class="gatsby-highlight" data-language="graphql"><pre class="language-graphql"><code class="language-graphql"><span class="token keyword">type</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token attr-name">id</span><span class="token punctuation">:</span> <span class="token scalar">ID</span><span class="token operator">!</span>
  <span class="token attr-name">name</span><span class="token punctuation">:</span> <span class="token scalar">String</span><span class="token operator">!</span>
  <span class="token attr-name">orders</span><span class="token punctuation">(</span><span class="token attr-name">sort</span><span class="token punctuation">:</span> <span class="token class-name">SortOrder</span><span class="token operator">!</span> <span class="token operator">=</span> <span class="token constant">DATE</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token class-name">Order</span><span class="token operator">!</span><span class="token punctuation">]</span><span class="token operator">!</span>
<span class="token punctuation">}</span></code></pre></div>
<h4 id="clr-field-support" style="position:relative;"><a href="#clr-field-support" aria-label="clr field support permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>CLR field support</h4>
<p>CLR fields are not automatically added to graph types, but can be added by overriding
the <code class="language-text">GetRegisteredMembers</code> method of a <code class="language-text">AutoRegisteringObjectGraphType&lt;T></code> or
<code class="language-text">AutoRegisteringInputObjectGraphType&lt;T></code> instance.</p>
<h4 id="overridable-base-functionality" style="position:relative;"><a href="#overridable-base-functionality" aria-label="overridable base functionality permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overridable base functionality</h4>
<p>The classes can be overridden, providing the ability to customize behavior of automatically
generated graph types. For instance, to exclude properties of a certain type, you could write this:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">CustomAutoObjectType<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>FieldType<span class="token punctuation">></span></span> <span class="token function">ProvideFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token class-name"><span class="token keyword">var</span></span> props <span class="token operator">=</span> <span class="token function">GetRegisteredProperties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">var</span></span> prop <span class="token keyword">in</span> props<span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>prop<span class="token punctuation">.</span>PropertyType <span class="token operator">!=</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">MyType</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">yield</span> <span class="token keyword">return</span> <span class="token function">CreateField</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Similarly, by overriding <code class="language-text">CreateField</code> you can change the default name, description,
graph type, or other information applied to each generated field.</p>
<p>Most of these changes can be performed declaratively by attributes, but by creating a derived class you can
change default behavior imperatively without needing to add attributes to all of your data models.</p>
<p>These <code class="language-text">protected</code> methods can be overridden to provide the following customizations to
automatically-generated graph types:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
<th>Typical use</th>
</tr>
</thead>
<tbody>
<tr>
<td>(constructor)</td>
<td>Configures graph properties and adds fields</td>
<td>Configuring graph after default initialization is complete</td>
</tr>
<tr>
<td>ConfigureGraph</td>
<td>Configures default graph properties prior to applying attributes</td>
<td>Applying a different default naming convention, such as appending "Input" or "Model"</td>
</tr>
<tr>
<td>GetRegisteredMembers</td>
<td>Returns the set of properties, methods and fields to be automatically configured</td>
<td>Filtering internal properties; sorting the property list; including fields; excluding methods</td>
</tr>
<tr>
<td>ProvideFields</td>
<td>Returns a set of generated fields</td>
<td>Adding additional fields to the generated set</td>
</tr>
<tr>
<td>CreateField</td>
<td>Creates a <code class="language-text">FieldType</code> from a <code class="language-text">MemberInfo</code></td>
<td>Applying custom behavior to field generation</td>
</tr>
<tr>
<td>GetTypeInformation</td>
<td>Parses a CLR type and NRT annotations to return a graph type</td>
<td>Use a specific graph type for a certain CLR type</td>
</tr>
<tr>
<td>GetArgumentInformation</td>
<td>Parses a method argument to return a query argument or expression</td>
<td>Return an expression for specific types, such as a user context</td>
</tr>
</tbody>
</table>
<p>Note that if you override <code class="language-text">GetRegisteredMembers</code> to include private properties or fields for
an input graph, you may also need to override <code class="language-text">ParseDictionary</code> as well.</p>
<p>If you utilize dependency injection within your schema, you can register your custom graph
type to be used instead of the built-in type as follows:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp">services<span class="token punctuation">.</span><span class="token function">AddSingleton</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">CustomAutoObjectType<span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Then any graph type defined as <code class="language-text">AutoRegisteringObjectGraphType&lt;...></code> will use your custom
type instead.</p>
<h4 id="graphs-fields-and-arguments-recognize-attributes-to-control-initialization-behavior" style="position:relative;"><a href="#graphs-fields-and-arguments-recognize-attributes-to-control-initialization-behavior" aria-label="graphs fields and arguments recognize attributes to control initialization behavior permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Graphs, fields and arguments recognize attributes to control initialization behavior</h4>
<p>Any attribute that derives from <code class="language-text">GraphQLAttribute</code>, such as <code class="language-text">AuthorizeAttribute</code>, can be set on a
CLR class or one if its properties, fields, methods or method arguments and is configured for the graph,
field type or query argument. New attributes have been updated or added for convenience as follows:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">[Name]</code></td>
<td>Specifies a GraphQL name for a CLR class, member or method parameter</td>
</tr>
<tr>
<td><code class="language-text">[InputName]</code></td>
<td>Specifies a GraphQL name for an input CLR class, member or method parameter</td>
</tr>
<tr>
<td><code class="language-text">[OutputName]</code></td>
<td>Specifies a GraphQL name for an output CLR class or member</td>
</tr>
<tr>
<td><code class="language-text">[InputType]</code></td>
<td>Specifies a graph type for a field on an input model, or for a query argument</td>
</tr>
<tr>
<td><code class="language-text">[OutputType]</code></td>
<td>Specifies a graph type for a field on an output model</td>
</tr>
<tr>
<td><code class="language-text">[Ignore]</code></td>
<td>Indicates that a CLR member should not be mapped to a field</td>
</tr>
<tr>
<td><code class="language-text">[Metadata]</code></td>
<td>Specifies custom metadata to be added to the graph type, field or query argument</td>
</tr>
<tr>
<td><code class="language-text">[Scoped]</code></td>
<td>For methods, specifies to create a DI service scope during resolver execution</td>
</tr>
<tr>
<td><code class="language-text">[FromServices]</code></td>
<td>For method parameters, specifies that the argument value should be pulled from DI</td>
</tr>
<tr>
<td><code class="language-text">[FromSource]</code></td>
<td>For method parameters, specifies that the argument value should be the context 'Source'</td>
</tr>
<tr>
<td><code class="language-text">[FromUserContext]</code></td>
<td>For method parameters, specifies that the argument value should be the user context</td>
</tr>
<tr>
<td><code class="language-text">[Authorize]</code></td>
<td>Specifies an authorization policy for the graph type for field</td>
</tr>
<tr>
<td><code class="language-text">[GraphQLMetadata]</code></td>
<td>Specifies name, description, deprecation reason, or other properties for the graph type or field</td>
</tr>
</tbody>
</table>
<p>Note: <code class="language-text">[Scoped]</code> is provided through the GraphQL.MicrosoftDI NuGet package.</p>
<p>Custom attributes can be easily added to control any other initialization of graphs, fields or query arguments.</p>
<h3 id="7-more-strict-behavior-of-floatgraphtype-for-special-values" style="position:relative;"><a href="#7-more-strict-behavior-of-floatgraphtype-for-special-values" aria-label="7 more strict behavior of floatgraphtype for special values permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. More strict behavior of FloatGraphType for special values</h3>
<p>This is a spec-compliance issue (bug fix), that fixes parsing of Nan and -/+ Infinity values.
The spec says that:</p>
<blockquote>
<p>Non-finite floating-point internal values (NaN and Infinity) cannot be
coerced to Float and must raise a field error.</p>
</blockquote>
<h3 id="8-support-for-cancellation-at-validation-stage" style="position:relative;"><a href="#8-support-for-cancellation-at-validation-stage" aria-label="8 support for cancellation at validation stage permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. Support for cancellation at validation stage</h3>
<p>With new visitors design from GraphQL-Parser v8 it is possible now to cancel GraphQL request
at validation stage before actual execution. <code class="language-text">DocumentExecuter</code> uses the same cancellation token
specified into <code class="language-text">ExecutionOptions</code> to pass into <code class="language-text">IDocumentValidator.ValidateAsync</code>.</p>
<h3 id="9-code-classlanguage-textinputobjectgraphtypecode-supports-code-classlanguage-texttoastcodecode-classlanguage-textisvaliddefaultcode" style="position:relative;"><a href="#9-code-classlanguage-textinputobjectgraphtypecode-supports-code-classlanguage-texttoastcodecode-classlanguage-textisvaliddefaultcode" aria-label="9 code classlanguage textinputobjectgraphtypecode supports code classlanguage texttoastcodecode classlanguage textisvaliddefaultcode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>9. <code class="language-text">InputObjectGraphType</code> supports <code class="language-text">ToAST</code>/<code class="language-text">IsValidDefault</code></h3>
<p><code class="language-text">ToAST</code> is supported for <code class="language-text">InputObjectGraphType</code> and enables printing a code-first schema that uses
<code class="language-text">InputObjectGraphType</code> (<code class="language-text">ToAST</code> threw <code class="language-text">NotImplementedException</code> before), i.e. schemas with default
input objects can be printed out of the box now. <code class="language-text">InputObjectGraphType.IsValidDefault</code> now checks
all fields on the provided input object value. To revert <code class="language-text">IsValidDefault</code> to v4 behavior use that snippet:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">override</span> <span class="token return-type class-name"><span class="token keyword">bool</span></span> <span class="token function">IsValidDefault</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">object</span></span> <span class="token keyword">value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">value</span> <span class="token keyword">is</span> <span class="token class-name">TSourceType</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="10-code-classlanguage-textenumerationgraphtypelttcode-enhancements" style="position:relative;"><a href="#10-code-classlanguage-textenumerationgraphtypelttcode-enhancements" aria-label="10 code classlanguage textenumerationgraphtypelttcode enhancements permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10. <code class="language-text">EnumerationGraphType&lt;T></code> enhancements</h3>
<p>The following new attributes are detected on auto-generated enum graph types:</p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">[Name]</code></td>
<td>Specifies the name of the enum type or value</td>
</tr>
<tr>
<td><code class="language-text">[Ignore]</code></td>
<td>Does not add the enum value to the enum type</td>
</tr>
<tr>
<td><code class="language-text">[Metadata]</code></td>
<td>Adds the specified metadata to enum type or value</td>
</tr>
</tbody>
</table>
<p>As before, you can still use the <code class="language-text">[Description]</code> or <code class="language-text">[Obsolete]</code> attributes to add
descriptions or deprecation reasons to enum graph types or enum values.</p>
<p>You can also derive from <code class="language-text">GraphQLAttribute</code> to create your own attributes to modify
enum graph types or enum values as they are being built by <code class="language-text">EnumerationGraphType&lt;T></code>.</p>
<h3 id="11-ability-to-get-directives-and-their-arguments-values" style="position:relative;"><a href="#11-ability-to-get-directives-and-their-arguments-values" aria-label="11 ability to get directives and their arguments values permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11. Ability to get directives and their arguments values</h3>
<p>Now you may get directives along with their arguments that have been provided in the GraphQL query request.
New APIs are similar to ones used for field arguments:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"myField"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> context <span class="token operator">=></span>
<span class="token punctuation">{</span>
    <span class="token class-name"><span class="token keyword">var</span></span> dir <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">GetDirective</span><span class="token punctuation">(</span><span class="token string">"myDirective"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name"><span class="token keyword">var</span></span> arg <span class="token operator">=</span> dir<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetArgument</span><span class="token generic class-name"><span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"arg"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token range operator">..</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="12-the-code-classlanguage-textexecutionstrategycode-selected-for-an-operation-can-be-configured-through-code-classlanguage-textigraphqlbuildercode" style="position:relative;"><a href="#12-the-code-classlanguage-textexecutionstrategycode-selected-for-an-operation-can-be-configured-through-code-classlanguage-textigraphqlbuildercode" aria-label="12 the code classlanguage textexecutionstrategycode selected for an operation can be configured through code classlanguage textigraphqlbuildercode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12. The <code class="language-text">ExecutionStrategy</code> selected for an operation can be configured through <code class="language-text">IGraphQLBuilder</code></h3>
<p>Previously, in order to change the execution strategy for a specific operation -- for instance,
using a serial execution strategy for 'query' operation types -- required creating a custom
document executer and overriding the <code class="language-text">SelectExecutionStrategy</code> method.</p>
<p>Now, for DI configurations, you can call the <code class="language-text">.AddExecutionStrategy&lt;T>(OperationType)</code> method to
provide this configuration without overriding the method. See below for an example.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// === GraphQL.NET v4 ===</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SerialDocumentExecuter</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">DocumentExecuter</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">SerialDocumentExecuter</span><span class="token punctuation">(</span><span class="token class-name">IDocumentBuilder</span> documentBuilder<span class="token punctuation">,</span> <span class="token class-name">IDocumentValidator</span> documentValidator<span class="token punctuation">,</span> <span class="token class-name">IComplexityAnalyzer</span> complexityAnalyzer<span class="token punctuation">,</span> <span class="token class-name">IDocumentCache</span> documentCache<span class="token punctuation">,</span> <span class="token class-name">IEnumerable<span class="token punctuation">&lt;</span>IConfigureExecutionOptions<span class="token punctuation">></span></span> configurations<span class="token punctuation">)</span>
        <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>documentBuilder<span class="token punctuation">,</span> documentValidator<span class="token punctuation">,</span> complexityAnalyzer<span class="token punctuation">,</span> documentCache<span class="token punctuation">,</span> configurations<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IExecutionStrategy</span> <span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span><span class="token class-name">ExecutionContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> context<span class="token punctuation">.</span>Operation<span class="token punctuation">.</span>Operation <span class="token keyword">switch</span>
        <span class="token punctuation">{</span>
            OperationType<span class="token punctuation">.</span>Query <span class="token operator">=></span> SerialExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>
            _ <span class="token operator">=></span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">SelectExecutionStrategy</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// within Startup.cs</span>
services<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddSystemTextJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StarWarsSchema<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddDocumentExecuter</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SerialDocumentExecuter<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// === GraphQL.NET v5 ===</span>

<span class="token comment">// within Startup.cs</span>
services<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span>builder <span class="token operator">=></span> builder
    <span class="token punctuation">.</span><span class="token function">AddSystemTextJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StarWarsSchema<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddExecutionStrategy</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>SerialExecutionStrategy<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>OperationType<span class="token punctuation">.</span>Query<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You can also register your own implementation of <code class="language-text">IExecutionStrategySelector</code> which can inspect the
<code class="language-text">ExecutionContext</code> to make additional decisions before selecting an execution strategy.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyExecutionStrategySelector</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">IExecutionStrategySelector</span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">virtual</span> <span class="token return-type class-name">IExecutionStrategy</span> <span class="token function">Select</span><span class="token punctuation">(</span><span class="token class-name">ExecutionContext</span> context<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> context<span class="token punctuation">.</span>Operation<span class="token punctuation">.</span>Operation <span class="token keyword">switch</span>
        <span class="token punctuation">{</span>
            OperationType<span class="token punctuation">.</span>Query <span class="token operator">=></span> ParallelExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>
            OperationType<span class="token punctuation">.</span>Mutation <span class="token operator">=></span> SerialExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>
            OperationType<span class="token punctuation">.</span>Subscription <span class="token operator">=></span> SubscriptionExecutionStrategy<span class="token punctuation">.</span>Instance<span class="token punctuation">,</span>
            _ <span class="token operator">=></span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">InvalidOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// within Startup.cs</span>
servcies<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span>builder <span class="token operator">=></span> builder
    <span class="token comment">// other configuration here</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddExecutionStrategySelector</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>MyExecutionStrategySelector<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>The <code class="language-text">DocumentExecuter.SelectExecutionStrategy</code> method is still available to be overridden for
backwards compatibility but may be removed in the next major version.</p>
<h3 id="13-schema-builder-and-code-classlanguage-textfielddelegatecode-improvements-for-reflected-methods" style="position:relative;"><a href="#13-schema-builder-and-code-classlanguage-textfielddelegatecode-improvements-for-reflected-methods" aria-label="13 schema builder and code classlanguage textfielddelegatecode improvements for reflected methods permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>13. Schema builder and <code class="language-text">FieldDelegate</code> improvements for reflected methods</h3>
<p>When configuring a CLR method for a field, the method arguments now allow the use of all of
the new attributes available to <code class="language-text">AutoRegisteringObjectGraphType</code>, such as <code class="language-text">[FromServices]</code>.
Field resolvers are now precompiled, resulting in faster performance.</p>
<p>As always, when the CLR type is not the source type, the CLR type is pulled from DI.
Now the CLR type will be pulled from <code class="language-text">context.RequestServices</code> to allow for scoped instances.
If <code class="language-text">RequestServices</code> is <code class="language-text">null</code>, the root DI provider will be used as it was before.</p>
<p>Note that existing methods will require the use of <code class="language-text">[FromSource]</code> and <code class="language-text">[FromUserContext]</code> for
applicable method arguments.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// v4</span>
<span class="token punctuation">[</span><span class="token function">GraphQLMetadata</span><span class="token punctuation">(</span><span class="token string">"Droid"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">DroidType</span>
<span class="token punctuation">{</span>
    <span class="token comment">// DI-injected services are always pulled from the root DI provider, so scoped services are not supported</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Repository</span> _repo<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">DroidType</span><span class="token punctuation">(</span><span class="token class-name">Repository</span> repo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _repo <span class="token operator">=</span> repo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Id</span><span class="token punctuation">(</span><span class="token class-name">Droid</span> source<span class="token punctuation">)</span> <span class="token operator">=></span> source<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span></span> <span class="token function">Friends</span><span class="token punctuation">(</span><span class="token class-name">Droid</span> source<span class="token punctuation">)</span> <span class="token operator">=></span> _repo<span class="token punctuation">.</span><span class="token function">FriendsOf</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// v5</span>
<span class="token punctuation">[</span><span class="token function">GraphQLMetadata</span><span class="token punctuation">(</span><span class="token string">"Droid"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">DroidType</span>
<span class="token punctuation">{</span>
    <span class="token comment">// scoped services are supported, so long as ExecutionOptions.RequestServices is set</span>
    <span class="token keyword">private</span> <span class="token keyword">readonly</span> <span class="token class-name">Repository</span> _repo<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token function">DroidType</span><span class="token punctuation">(</span><span class="token class-name">Repository</span> repo<span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        _repo <span class="token operator">=</span> repo<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// requires use of [FromSource]</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Id</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromSource</span></span><span class="token punctuation">]</span> <span class="token class-name">Droid</span> source<span class="token punctuation">)</span> <span class="token operator">=></span> source<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span></span> <span class="token function">Friends</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromSource</span></span><span class="token punctuation">]</span> <span class="token class-name">Droid</span> source<span class="token punctuation">)</span> <span class="token operator">=></span> _repo<span class="token punctuation">.</span><span class="token function">FriendsOf</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// v5 alternate</span>
<span class="token punctuation">[</span><span class="token function">GraphQLMetadata</span><span class="token punctuation">(</span><span class="token string">"Droid"</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token keyword">class</span> <span class="token class-name">DroidType</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token return-type class-name"><span class="token keyword">int</span></span> <span class="token function">Id</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromSource</span></span><span class="token punctuation">]</span> <span class="token class-name">Droid</span> source<span class="token punctuation">)</span> <span class="token operator">=></span> source<span class="token punctuation">.</span>Id<span class="token punctuation">;</span>

    <span class="token comment">// only inject Repository where needed</span>
    <span class="token keyword">public</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span></span> <span class="token function">Friends</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromSource</span></span><span class="token punctuation">]</span> <span class="token class-name">Droid</span> source<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token attribute"><span class="token class-name">FromServices</span></span><span class="token punctuation">]</span> <span class="token class-name">Repository</span> repo<span class="token punctuation">)</span> <span class="token operator">=></span> repo<span class="token punctuation">.</span><span class="token function">FriendsOf</span><span class="token punctuation">(</span>source<span class="token punctuation">.</span>Id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Similar changes may be necessary when using <code class="language-text">FieldDelegate</code> to assign a field resolver.</p>
<h3 id="14-valuetask-support" style="position:relative;"><a href="#14-valuetask-support" aria-label="14 valuetask support permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>14. ValueTask support</h3>
<p>The execution pipeline has been changed to use <code class="language-text">ValueTask</code> throughout. To support this change, the following
interfaces have been slightly changed to have methods with <code class="language-text">ValueTask</code> signatures:</p>
<ul>
<li><code class="language-text">IFieldResolver</code></li>
<li><code class="language-text">IEventStreamResolver</code> (renamed to <code class="language-text">ISourceStreamResolver</code>) (<code class="language-text">IAsyncEventStreamResolver</code> has been removed)</li>
<li><code class="language-text">IFieldMiddleware</code></li>
<li><code class="language-text">IValidationRule</code></li>
</ul>
<p>This will result in a substantial speed increase for schemas that use field middleware.</p>
<p>In addition, <code class="language-text">ValueTask&lt;T></code> return types are supported for fields built on CLR methods via the schema builder,
fields built on CLR methods via <code class="language-text">AutoRegisteringObjectGraphType</code>, and fields built on CLR methods via <code class="language-text">FieldDelegate</code>.</p>
<p>When manually instantiating a field or subscription resolver, you may use a delegate that return a <code class="language-text">ValueTask</code> by
using new constructors available on the <code class="language-text">FuncFieldResolver</code> or <code class="language-text">SourceStreamResolver</code> classes.</p>
<h3 id="15-code-classlanguage-textnamefieldresolvercode-enhanced-method-support" style="position:relative;"><a href="#15-code-classlanguage-textnamefieldresolvercode-enhanced-method-support" aria-label="15 code classlanguage textnamefieldresolvercode enhanced method support permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>15. <code class="language-text">NameFieldResolver</code> enhanced method support</h3>
<p>When adding a field by name only, such as <code class="language-text">Field&lt;StringGraphType>("Name");</code>, and the field matches a method
rather than a property on the source object, the method parameters are parsed similarly to <code class="language-text">FieldDelegate</code>
as noted above with support for query arguments, <code class="language-text">IResolveFieldContext</code>, <code class="language-text">[FromServices]</code> and so on.</p>
<h3 id="16-schemas-can-be-entirely-constructed-from-clr-types" style="position:relative;"><a href="#16-schemas-can-be-entirely-constructed-from-clr-types" aria-label="16 schemas can be entirely constructed from clr types permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>16. Schemas can be entirely constructed from CLR types</h3>
<p>A new builder method <code class="language-text">AddAutoSchema</code> has been added to allow building a schema entirely from CLR types
using the new features within the auto-registering graph types to build the schema. Below is a sample:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// sample configuration of DI</span>
<span class="token class-name"><span class="token keyword">var</span></span> services <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ServiceCollection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
services<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span>b <span class="token operator">=></span> b
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddAutoSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Query<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>s <span class="token operator">=></span> s<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">WithMutation</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Mutation<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddSystemTextJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> provider <span class="token operator">=</span> services<span class="token punctuation">.</span><span class="token function">BuildServiceProvider</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// sample execution from DI</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> provider<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetRequiredService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDocumentExecuter<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>o <span class="token operator">=></span>
<span class="token punctuation">{</span>
    o<span class="token punctuation">.</span>RequestServices <span class="token operator">=</span> provider<span class="token punctuation">;</span>
    o<span class="token punctuation">.</span>Schema <span class="token operator">=</span> provider<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetRequiredService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>ISchema<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    o<span class="token punctuation">.</span>Query <span class="token operator">=</span> <span class="token string">"{hero}"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resultString <span class="token operator">=</span> provider<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetRequiredService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IGraphQLTextSerializer<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Serialize</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// resultString returns the following JSON: {"data":{"hero":"Luke Skywalker"}}</span>


<span class="token comment">// sample schema</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Query</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> Hero <span class="token operator">=></span> <span class="token string">"Luke Skywalker"</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span></span> Droids <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Droid<span class="token punctuation">[</span><span class="token punctuation">]</span></span> <span class="token punctuation">{</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Droid</span><span class="token punctuation">(</span><span class="token string">"R2D2"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">Droid</span><span class="token punctuation">(</span><span class="token string">"C3PO"</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Mutation</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">Hero</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> name<span class="token punctuation">)</span> <span class="token operator">=></span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">record</span> <span class="token class-name">Droid</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">string</span></span> Name<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Subscriptions are supported; interface or union graph types are not currently supported. You may
mix the documented "graphtype-first" approach with the CLR types to implement anything not supported
by the auto-registering graph types.</p>
<h3 id="17-code-classlanguage-textigraphqlserializercode-implementations-support-serialization-of-code-classlanguage-textexecutionerrorcode-instances" style="position:relative;"><a href="#17-code-classlanguage-textigraphqlserializercode-implementations-support-serialization-of-code-classlanguage-textexecutionerrorcode-instances" aria-label="17 code classlanguage textigraphqlserializercode implementations support serialization of code classlanguage textexecutionerrorcode instances permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>17. <code class="language-text">IGraphQLSerializer</code> implementations support serialization of <code class="language-text">ExecutionError</code> instances.</h3>
<p>Previously, only when serializing an <code class="language-text">ExecutionResult</code> instance would <code class="language-text">ExecutionError</code> instances
be properly serialized. Now you may serialize a <code class="language-text">ExecutionError</code> instance directly and it will
be handled by the specified <code class="language-text">IErrorInfoProvider</code> and serialized correctly. This can be useful
when implementing the newer <code class="language-text">graphql-transport-ws</code> WebSockets protocol.</p>
<h3 id="18-code-classlanguage-textidocumentexecuterltcode-interface-added-to-better-support-multiple-schema-registrations" style="position:relative;"><a href="#18-code-classlanguage-textidocumentexecuterltcode-interface-added-to-better-support-multiple-schema-registrations" aria-label="18 code classlanguage textidocumentexecuterltcode interface added to better support multiple schema registrations permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>18. <code class="language-text">IDocumentExecuter&lt;></code> interface added to better support multiple schema registrations.</h3>
<p>To better support user classes based on a specific schema, the <code class="language-text">IDocumentExecuter&lt;></code> interface
and default implementation has been added which allows for executing a request without specifying
the schema in the <code class="language-text">ExecutionOptions</code>. The execution will pull the schema from dependency injection
at run-time, supporting both singleton and scoped schemas. <code class="language-text">RequestServices</code> is required to be
provided.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// sample that executes a request against MySchema</span>
<span class="token class-name"><span class="token keyword">var</span></span> executer <span class="token operator">=</span> serviceProvider<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">GetRequiredService</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>IDocumentExecuter<span class="token punctuation">&lt;</span>MySchema<span class="token punctuation">></span><span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> options <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ExecutionOptions</span>
<span class="token punctuation">{</span>
    Query <span class="token operator">=</span> <span class="token string">"{hero}"</span><span class="token punctuation">,</span>
    RequestServices <span class="token operator">=</span> serviceProvider<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> result <span class="token operator">=</span> <span class="token keyword">await</span> executer<span class="token punctuation">.</span><span class="token function">ExecuteAsync</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="19-subscription-support-improved" style="position:relative;"><a href="#19-subscription-support-improved" aria-label="19 subscription support improved permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>19. Subscription support improved</h3>
<p>Support for subscriptions has been moved from the <code class="language-text">GraphQL.SystemReactive</code> nuget package directly into
the main <code class="language-text">GraphQL</code> package. There is no need to use <code class="language-text">SubscriptionDocumentExecuter</code> (removed), and the default
document executer will support subscriptions without overriding <code class="language-text">SelectExecutionStrategy</code>.</p>
<p>The new implementation of <code class="language-text">SubscriptionExecutionStrategy</code> supports some new features and bug fixes:</p>
<ol>
<li>
<p>Serial execution of data events' field resolvers is supported by passing an instance of
<code class="language-text">SerialExecutionStrategy</code> to the constructor. As before, parallel execution is default.</p>
</li>
<li>
<p>Errors and output extensions are returned along with data events.</p>
</li>
<li>
<p>Memory leaks have been eliminated in the case of errors, output extensions, metrics being enabled,
or the use of the context's array pool.</p>
</li>
<li>
<p>The unhandled exception handler properly handles all error situations that it was designed to.</p>
</li>
<li>
<p>The <code class="language-text">System.Reactive</code> nuget reference is not necessary for GraphQL. You may still choose to use
<code class="language-text">System.Reactive</code> nuget package in your library if you wish.</p>
</li>
<li>
<p>Derived implementations allow for a scoped DI provider during execution of data events. It will
be necessary to override <code class="language-text">ProcessDataAsync</code> and change the <code class="language-text">ExecutionContext.RequestServices</code> property to a scoped
instance before calling <code class="language-text">base.ProcessDataAsync</code>.</p>
</li>
</ol>
<p>There are a number of other minor issues fixed; see these links for more details:</p>
<ul>
<li><a href="https://github.com/graphql-dotnet/graphql-dotnet/issues/3002">https://github.com/graphql-dotnet/graphql-dotnet/issues/3002</a></li>
<li><a href="https://github.com/graphql-dotnet/graphql-dotnet/pull/3004">https://github.com/graphql-dotnet/graphql-dotnet/pull/3004</a></li>
</ul>
<h3 id="20-code-classlanguage-textauthorizecode-code-classlanguage-textauthorizewithrolescode-and-code-classlanguage-textallowanonymouscode-extension-methods-added-in-graphql-510-and-511" style="position:relative;"><a href="#20-code-classlanguage-textauthorizecode-code-classlanguage-textauthorizewithrolescode-and-code-classlanguage-textallowanonymouscode-extension-methods-added-in-graphql-510-and-511" aria-label="20 code classlanguage textauthorizecode code classlanguage textauthorizewithrolescode and code classlanguage textallowanonymouscode extension methods added in graphql 510 and 511 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>20. <code class="language-text">Authorize</code>, <code class="language-text">AuthorizeWithRoles</code> and <code class="language-text">AllowAnonymous</code> extension methods added in GraphQL 5.1.0 and 5.1.1</h3>
<p><code class="language-text">AuthorizeWithRoles</code> allows for specifying roles rather than just policies that can be used to validate a request.
<code class="language-text">Authorize</code> can be used to specify that only authentication is required, without specifying any specific roles or policies.
<code class="language-text">AllowAnonymous</code> typically indicates that anonymous access should be allowed to a field of a graph type requiring authorization,
providing that no other fields were selected. As with <code class="language-text">AuthorizeWithPolicy</code> (renamed from <code class="language-text">AuthorizeWith</code>), these
new methods require support by a third-party library to perform the validation.</p>
<p>Similar to the ASP.NET Core <code class="language-text">AuthorizeAttribute</code>, the new <code class="language-text">AuthorizeWithRoles</code> method accepts
a comma-separated list of role names that would allow access to the graph or field.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp">graph<span class="token punctuation">.</span><span class="token function">AuthorizeWithRoles</span><span class="token punctuation">(</span><span class="token string">"Administrators,Managers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You may also supply a list of strings as in the following example:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp">graph<span class="token punctuation">.</span><span class="token function">AuthorizeWithRoles</span><span class="token punctuation">(</span><span class="token string">"Administrators"</span><span class="token punctuation">,</span> <span class="token string">"Managers"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>For schema-first and "type-first" graphs, the <code class="language-text">[GraphQLAuthorize]</code> has been updated to support roles and can now
be used without any policy or role names, and an <code class="language-text">[AllowAnonymous]</code> attribute has been added.</p>
<h3 id="21-code-classlanguage-textrequestservicescode-added-to-code-classlanguage-textvalidationcontextcode-in-graphql-510" style="position:relative;"><a href="#21-code-classlanguage-textrequestservicescode-added-to-code-classlanguage-textvalidationcontextcode-in-graphql-510" aria-label="21 code classlanguage textrequestservicescode added to code classlanguage textvalidationcontextcode in graphql 510 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>21. <code class="language-text">RequestServices</code> added to <code class="language-text">ValidationContext</code> in GraphQL 5.1.0</h3>
<p>This allows for validation rules to access scoped services if necessary.</p>
<h2 id="breaking-changes" style="position:relative;"><a href="#breaking-changes" aria-label="breaking changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Breaking Changes</h2>
<h3 id="1-unhandledexceptiondelegate" style="position:relative;"><a href="#1-unhandledexceptiondelegate" aria-label="1 unhandledexceptiondelegate permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. UnhandledExceptionDelegate</h3>
<p><code class="language-text">ExecutionOptions.UnhandledExceptionDelegate</code> and <code class="language-text">IExecutionContext.UnhandledExceptionDelegate</code>
properties type was changed from <code class="language-text">Action&lt;UnhandledExceptionContext></code> to <code class="language-text">Func&lt;UnhandledExceptionContext, Task></code>
so now you may use async/await for exception handling. In this regard, some methods in <code class="language-text">ExecutionStrategy</code> were
renamed to have <code class="language-text">Async</code> suffix.</p>
<h3 id="2-code-classlanguage-textidocumentcachecode-now-has-asynchronous-methods-instead-of-synchronous-methods" style="position:relative;"><a href="#2-code-classlanguage-textidocumentcachecode-now-has-asynchronous-methods-instead-of-synchronous-methods" aria-label="2 code classlanguage textidocumentcachecode now has asynchronous methods instead of synchronous methods permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. <code class="language-text">IDocumentCache</code> now has asynchronous methods instead of synchronous methods.</h3>
<p>The default get/set property of the interface has been replaced with <code class="language-text">GetAsync</code> and <code class="language-text">SetAsync</code> methods.
Keys cannot be removed by setting a null value as they could before.</p>
<h3 id="3-code-classlanguage-textiresolvefieldcontextextensionscode-property-renamed-to-code-classlanguage-textoutputextensionscode-and-related-changes" style="position:relative;"><a href="#3-code-classlanguage-textiresolvefieldcontextextensionscode-property-renamed-to-code-classlanguage-textoutputextensionscode-and-related-changes" aria-label="3 code classlanguage textiresolvefieldcontextextensionscode property renamed to code classlanguage textoutputextensionscode and related changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. <code class="language-text">IResolveFieldContext.Extensions</code> property renamed to <code class="language-text">OutputExtensions</code> and related changes</h3>
<p>To clarify and differ output extensions from input extensions, <code class="language-text">IResolveFieldContext.Extensions</code>
has now been renamed to <code class="language-text">OutputExtensions</code>. The <code class="language-text">GetExtension</code> and <code class="language-text">SetExtension</code> thread-safe
extension methods have also been renamed to <code class="language-text">GetOutputExtension</code> and <code class="language-text">SetOutputExtension</code> respectively.</p>
<h3 id="4-code-classlanguage-textexecutionoptionsinputscode-and-code-classlanguage-textvalidationcontextinputscode-properties-renamed-to-code-classlanguage-textvariablescode" style="position:relative;"><a href="#4-code-classlanguage-textexecutionoptionsinputscode-and-code-classlanguage-textvalidationcontextinputscode-properties-renamed-to-code-classlanguage-textvariablescode" aria-label="4 code classlanguage textexecutionoptionsinputscode and code classlanguage textvalidationcontextinputscode properties renamed to code classlanguage textvariablescode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. <code class="language-text">ExecutionOptions.Inputs</code> and <code class="language-text">ValidationContext.Inputs</code> properties renamed to <code class="language-text">Variables</code></h3>
<p>To better align the execution options and variable context with the specification, the <code class="language-text">Inputs</code>
property containing the execution variables has now been renamed to <code class="language-text">Variables</code>.</p>
<h3 id="5-code-classlanguage-textconfigureexecutioncode-graphql-builder-method-renamed-to-code-classlanguage-textconfigureexecutionoptionscode" style="position:relative;"><a href="#5-code-classlanguage-textconfigureexecutioncode-graphql-builder-method-renamed-to-code-classlanguage-textconfigureexecutionoptionscode" aria-label="5 code classlanguage textconfigureexecutioncode graphql builder method renamed to code classlanguage textconfigureexecutionoptionscode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>5. <code class="language-text">ConfigureExecution</code> GraphQL builder method renamed to <code class="language-text">ConfigureExecutionOptions</code></h3>
<p>Also, <code class="language-text">IConfigureExecution</code> renamed to <code class="language-text">IConfigureExecutionOptions</code>.</p>
<h3 id="6-code-classlanguage-textaddgraphqlcode-now-accepts-a-configuration-delegate-instead-of-returning-code-classlanguage-textigraphqlbuildercode" style="position:relative;"><a href="#6-code-classlanguage-textaddgraphqlcode-now-accepts-a-configuration-delegate-instead-of-returning-code-classlanguage-textigraphqlbuildercode" aria-label="6 code classlanguage textaddgraphqlcode now accepts a configuration delegate instead of returning code classlanguage textigraphqlbuildercode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>6. <code class="language-text">AddGraphQL</code> now accepts a configuration delegate instead of returning <code class="language-text">IGraphQLBuilder</code></h3>
<p>In order to prevent default implementations from ever being registered in the DI engine,
the <code class="language-text">AddGraphQL</code> method now accepts a configuration delegate where you can configure the
GraphQL.NET DI components. To support this change, the <code class="language-text">GraphQLBuilder</code> constructor now
requires a configuration delegate parameter and will execute the delegate before calling
<code class="language-text">GraphQLBuilderBase.RegisterDefaultServices</code>.</p>
<p>This requires a change similar to the following:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// v4</span>
services<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">AddSystemTextJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StarWarsSchema<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// v5</span>
services<span class="token punctuation">.</span><span class="token function">AddGraphQL</span><span class="token punctuation">(</span>builder <span class="token operator">=></span> builder
    <span class="token punctuation">.</span><span class="token function">AddSystemTextJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">AddSchema</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>StarWarsSchema<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="7-code-classlanguage-textgraphqlextensionsbuildnamedtypecode-was-renamed-and-moved-to-code-classlanguage-textschematypesbuildgraphqltypecode" style="position:relative;"><a href="#7-code-classlanguage-textgraphqlextensionsbuildnamedtypecode-was-renamed-and-moved-to-code-classlanguage-textschematypesbuildgraphqltypecode" aria-label="7 code classlanguage textgraphqlextensionsbuildnamedtypecode was renamed and moved to code classlanguage textschematypesbuildgraphqltypecode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>7. <code class="language-text">GraphQLExtensions.BuildNamedType</code> was renamed and moved to <code class="language-text">SchemaTypes.BuildGraphQLType</code></h3>
<h3 id="8-code-classlanguage-textgraphqlbuilderbaseinitializecode-was-renamed-to-code-classlanguage-textregisterdefaultservicescode" style="position:relative;"><a href="#8-code-classlanguage-textgraphqlbuilderbaseinitializecode-was-renamed-to-code-classlanguage-textregisterdefaultservicescode" aria-label="8 code classlanguage textgraphqlbuilderbaseinitializecode was renamed to code classlanguage textregisterdefaultservicescode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>8. <code class="language-text">GraphQLBuilderBase.Initialize</code> was renamed to <code class="language-text">RegisterDefaultServices</code></h3>
<h3 id="9-code-classlanguage-textexecutionhelpergetargumentvaluescode-was-renamed-to-code-classlanguage-textgetargumentscode" style="position:relative;"><a href="#9-code-classlanguage-textexecutionhelpergetargumentvaluescode-was-renamed-to-code-classlanguage-textgetargumentscode" aria-label="9 code classlanguage textexecutionhelpergetargumentvaluescode was renamed to code classlanguage textgetargumentscode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>9. <code class="language-text">ExecutionHelper.GetArgumentValues</code> was renamed to <code class="language-text">GetArguments</code></h3>
<h3 id="10-code-classlanguage-textdirectivegraphtypecode-was-renamed-to-code-classlanguage-textdirectivecode" style="position:relative;"><a href="#10-code-classlanguage-textdirectivegraphtypecode-was-renamed-to-code-classlanguage-textdirectivecode" aria-label="10 code classlanguage textdirectivegraphtypecode was renamed to code classlanguage textdirectivecode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>10. <code class="language-text">DirectiveGraphType</code> was renamed to <code class="language-text">Directive</code></h3>
<h3 id="11-code-classlanguage-textschemacode-code-classlanguage-textvariabledefinitionscode-and-code-classlanguage-textvariablescode-arguments-were-removed-from-code-classlanguage-textvalidationcontextgetvariablevaluescode" style="position:relative;"><a href="#11-code-classlanguage-textschemacode-code-classlanguage-textvariabledefinitionscode-and-code-classlanguage-textvariablescode-arguments-were-removed-from-code-classlanguage-textvalidationcontextgetvariablevaluescode" aria-label="11 code classlanguage textschemacode code classlanguage textvariabledefinitionscode and code classlanguage textvariablescode arguments were removed from code classlanguage textvalidationcontextgetvariablevaluescode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>11. <code class="language-text">schema</code>, <code class="language-text">variableDefinitions</code> and <code class="language-text">variables</code> arguments were removed from <code class="language-text">ValidationContext.GetVariableValues</code></h3>
<p>Use <code class="language-text">ValidationContext.Schema</code>, <code class="language-text">ValidationContext.Operation.Variables</code> and <code class="language-text">ValidationContext.Variables</code> properties</p>
<h3 id="12-code-classlanguage-textvalidationcontextoperationnamecode-was-changed-to-code-classlanguage-textvalidationcontextoperationcode" style="position:relative;"><a href="#12-code-classlanguage-textvalidationcontextoperationnamecode-was-changed-to-code-classlanguage-textvalidationcontextoperationcode" aria-label="12 code classlanguage textvalidationcontextoperationnamecode was changed to code classlanguage textvalidationcontextoperationcode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>12. <code class="language-text">ValidationContext.OperationName</code> was changed to <code class="language-text">ValidationContext.Operation</code></h3>
<h3 id="13-all-arguments-from-code-classlanguage-textidocumentvalidatorvalidateasynccode-were-wrapped-into-code-classlanguage-textvalidationoptionscode-struct" style="position:relative;"><a href="#13-all-arguments-from-code-classlanguage-textidocumentvalidatorvalidateasynccode-were-wrapped-into-code-classlanguage-textvalidationoptionscode-struct" aria-label="13 all arguments from code classlanguage textidocumentvalidatorvalidateasynccode were wrapped into code classlanguage textvalidationoptionscode struct permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>13. All arguments from <code class="language-text">IDocumentValidator.ValidateAsync</code> were wrapped into <code class="language-text">ValidationOptions</code> struct</h3>
<h3 id="14-all-methods-from-code-classlanguage-textigraphqlbuildercode-were-moved-into-code-classlanguage-textiserviceregistercode-interface" style="position:relative;"><a href="#14-all-methods-from-code-classlanguage-textigraphqlbuildercode-were-moved-into-code-classlanguage-textiserviceregistercode-interface" aria-label="14 all methods from code classlanguage textigraphqlbuildercode were moved into code classlanguage textiserviceregistercode interface permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>14. All methods from <code class="language-text">IGraphQLBuilder</code> were moved into <code class="language-text">IServiceRegister</code> interface</h3>
<p>Use <code class="language-text">IGraphQLBuilder.Services</code> property if you need to register services into DI container.
If you use provided extension methods upon <code class="language-text">IGraphQLBuilder</code> then your code does not require any changes.</p>
<h3 id="15-changes-caused-by-graphql-parser-v8" style="position:relative;"><a href="#15-changes-caused-by-graphql-parser-v8" aria-label="15 changes caused by graphql parser v8 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>15. Changes caused by GraphQL-Parser v8</h3>
<ul>
<li>The <code class="language-text">GraphQL.Language.AST</code> namespace and all classes from it have been removed in favor of ones
from <code class="language-text">GraphQLParser.AST</code> namespace in GraphQL-Parser project. Examples of changed usages:
<ul>
<li><code class="language-text">GraphQL.Language.AST.Document</code> -> <code class="language-text">GraphQLParser.AST.GraphQLDocument</code></li>
<li><code class="language-text">GraphQL.Language.AST.IValue</code> -> <code class="language-text">GraphQLParser.AST.GraphQLValue</code></li>
<li><code class="language-text">GraphQL.Language.AST.Field</code> -> <code class="language-text">GraphQLParser.AST.GraphQLField</code></li>
<li><code class="language-text">GraphQL.Language.AST.SelectionSet</code> -> <code class="language-text">GraphQLParser.AST.GraphQLSelectionSet</code></li>
<li><code class="language-text">GraphQL.Language.AST.IHaveDirectives</code> -> <code class="language-text">GraphQLParser.AST.IHasDirectivesNode</code></li>
<li><code class="language-text">GraphQL.Language.AST.IType</code> -> <code class="language-text">GraphQLParser.AST.GraphQLType</code></li>
</ul>
</li>
<li>Some APIs utilize <code class="language-text">GraphQLParser.ROM</code> struct instead of <code class="language-text">string</code>:
<ul>
<li><code class="language-text">ExecutionResult.Query</code></li>
<li><code class="language-text">Metrics.SetOperationName</code></li>
<li><code class="language-text">IComplexGraphType.GetField</code></li>
<li><code class="language-text">QueryArguments.Find</code></li>
<li><code class="language-text">SchemaDirectives.Find</code></li>
<li><code class="language-text">SchemaDirectives.this[]</code></li>
<li><code class="language-text">SchemaDirectives.Dictionary</code></li>
<li><code class="language-text">ValidationContext.GetFragment</code></li>
<li>All <code class="language-text">ValidationError</code>'s constructors take <em>originalQuery</em> as <code class="language-text">ROM</code></li>
</ul>
</li>
<li><code class="language-text">OperationType</code> and <code class="language-text">DirectiveLocation</code> enums were removed, use enums from <code class="language-text">GraphQLParser.AST</code> namespace</li>
<li><code class="language-text">SourceLocation</code> struct was removed, use <code class="language-text">GraphQLLocation</code> from <code class="language-text">GraphQLParser.AST</code> namespace</li>
<li><code class="language-text">CoreToVanillaConverter</code> class was removed</li>
<li><code class="language-text">ErrorLocation</code> struct was removed, use <code class="language-text">Location</code> from <code class="language-text">GraphQLParser</code> namespace</li>
<li><code class="language-text">ValidationContext.GetFragment</code> method was removed, use <code class="language-text">ValidationContext.Document.FindFragmentDefinition</code></li>
<li><code class="language-text">IResolveFieldContext.SubFields</code> and <code class="language-text">IExecutionStrategy.GetSubFields</code> returns dictionary with
values of tuple of queried field and its field definition</li>
<li>All scalars works with <code class="language-text">GraphQLParser.AST.GraphQLValue</code> instead of <code class="language-text">GraphQL.Language.AST.IValue</code></li>
<li><code class="language-text">IInputObjectGraphType.ToAST</code> returns <code class="language-text">GraphQLParser.AST.GraphQLObjectValue</code> instead of <code class="language-text">GraphQL.Language.AST.IValue</code></li>
</ul>
<h3 id="16-classes-and-members-marked-as-obsolete-have-been-removed" style="position:relative;"><a href="#16-classes-and-members-marked-as-obsolete-have-been-removed" aria-label="16 classes and members marked as obsolete have been removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>16. Classes and members marked as obsolete have been removed</h3>
<p>The following classes and members that were marked with <code class="language-text">[Obsolete]</code> in v4 have been removed:</p>
<table>
<thead>
<tr>
<th>Class or member</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">GraphQL.NewtonsoftJson.StringExtensions.GetValue</code></td>
<td></td>
</tr>
<tr>
<td><code class="language-text">GraphQL.NewtonsoftJson.StringExtensions.ToDictionary</code></td>
<td>Use <code class="language-text">Read</code> or <code class="language-text">Deserialize</code> instead</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.SystemTextJson.ObjectDictionaryConverter</code></td>
<td>Use <code class="language-text">InputsJsonConverter</code> instead</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.SystemTextJson.StringExtensions.ToDictionary</code></td>
<td>Use <code class="language-text">Read</code> or <code class="language-text">Deserialize</code> instead</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.TypeExtensions.GetEnumerableElementType</code></td>
<td></td>
</tr>
<tr>
<td><code class="language-text">GraphQL.TypeExtensions.IsNullable</code></td>
<td></td>
</tr>
<tr>
<td><code class="language-text">GraphQL.Builders.ConnectionBuilder.Unidirectional</code></td>
<td><code class="language-text">Unidirectional</code> is default and does not need to be called</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.IDocumentExecutionListener.BeforeExecutionAwaitedAsync</code></td>
<td>Use <code class="language-text">IDataLoaderResult</code> interface instead</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.IDocumentExecutionListener.BeforeExecutionStepAwaitedAsync</code></td>
<td>Use <code class="language-text">IDataLoaderResult</code> interface instead</td>
</tr>
<tr>
<td><code class="language-text">GraphQL.Utilities.DeprecatedDirectiveVisitor</code></td>
<td></td>
</tr>
</tbody>
</table>
<p>Various classes' properties in the <code class="language-text">GraphQL.Language.AST</code> namespace are now
read-only instead of read-write, such as <code class="language-text">Field.Alias</code>.</p>
<p>Various classes' constructors in the <code class="language-text">GraphQL.Language.AST</code> namespace have been
removed in favor of other constructors.</p>
<h3 id="17-code-classlanguage-textidocumentwritercode-has-been-renamed-to-code-classlanguage-textigraphqlserializercode-and-related-changes" style="position:relative;"><a href="#17-code-classlanguage-textidocumentwritercode-has-been-renamed-to-code-classlanguage-textigraphqlserializercode-and-related-changes" aria-label="17 code classlanguage textidocumentwritercode has been renamed to code classlanguage textigraphqlserializercode and related changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>17. <code class="language-text">IDocumentWriter</code> has been renamed to <code class="language-text">IGraphQLSerializer</code> and related changes.</h3>
<p>As such, the <code class="language-text">DocumentWriter</code> classes have been renamed to <code class="language-text">GraphQLSerializer</code>, and the
<code class="language-text">AddDocumentWriter</code> extension method for <code class="language-text">IGraphQLBuilder</code> has been renamed to <code class="language-text">AddSerializer</code>.
The <code class="language-text">WriteAsync</code> method's functionality has not changed.</p>
<h3 id="18-extension-methods-for-parsing-variables-eg-code-classlanguage-texttoinputscode-have-been-removed" style="position:relative;"><a href="#18-extension-methods-for-parsing-variables-eg-code-classlanguage-texttoinputscode-have-been-removed" aria-label="18 extension methods for parsing variables eg code classlanguage texttoinputscode have been removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>18. Extension methods for parsing variables (e.g. <code class="language-text">ToInputs</code>) have been removed.</h3>
<p>Please use the <code class="language-text">Read&lt;Inputs>()</code> method of an <code class="language-text">IGraphQLSerializer</code> implementation, or the
<code class="language-text">Deserialize&lt;Inputs>()</code> method of an <code class="language-text">IGraphQLTextSerializer</code> implementation. Note that
these methods will return <code class="language-text">null</code> if a null string or the string "null" is passed to them.
The <code class="language-text">ExecutionOptions.Variables</code> property does not require <code class="language-text">Inputs.Empty</code>, but if you have
tests based on the <code class="language-text">.ToInputs()</code> extension method, you may want a direct replacement.
Equivalent code to the previous functionality is as follows:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">using</span> <span class="token namespace">GraphQL</span><span class="token punctuation">;</span>
<span class="token keyword">using</span> <span class="token namespace">GraphQL<span class="token punctuation">.</span>SystemTextJson</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">StringExtensions</span>
<span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">readonly</span> <span class="token class-name">GraphQLSerializer</span> _serializer <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Inputs</span> <span class="token function">ToInputs</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> json<span class="token punctuation">)</span>
        <span class="token operator">=></span> json <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">?</span> Inputs<span class="token punctuation">.</span>Empty <span class="token punctuation">:</span> _serializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Inputs<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>json<span class="token punctuation">)</span> <span class="token operator">??</span> Inputs<span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">Inputs</span> <span class="token function">ToInputs</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">System<span class="token punctuation">.</span>Text<span class="token punctuation">.</span>Json<span class="token punctuation">.</span>JsonElement</span> element<span class="token punctuation">)</span>
        <span class="token operator">=></span> _serializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ReadNode</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Inputs<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>element<span class="token punctuation">)</span> <span class="token operator">??</span> Inputs<span class="token punctuation">.</span>Empty<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">T<span class="token punctuation">?</span></span> <span class="token generic-method"><span class="token function">FromJson</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name"><span class="token keyword">string</span></span> json<span class="token punctuation">)</span>
        <span class="token operator">=></span> _serializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Deserialize</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>json<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token return-type class-name">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>Tasks<span class="token punctuation">.</span>ValueTask<span class="token punctuation">&lt;</span>T<span class="token punctuation">?</span><span class="token punctuation">></span></span> <span class="token generic-method"><span class="token function">FromJsonAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token class-name">System<span class="token punctuation">.</span>IO<span class="token punctuation">.</span>Stream</span> stream<span class="token punctuation">,</span> <span class="token class-name">System<span class="token punctuation">.</span>Threading<span class="token punctuation">.</span>CancellationToken</span> cancellationToken <span class="token operator">=</span> <span class="token keyword">default</span><span class="token punctuation">)</span>
        <span class="token operator">=></span> _serializer<span class="token punctuation">.</span><span class="token generic-method"><span class="token function">ReadAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>stream<span class="token punctuation">,</span> cancellationToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The new <code class="language-text">Read</code> and <code class="language-text">Deserialize</code> methods of the <code class="language-text">Newtonsoft.Json</code> implementation
will default to reading dates as strings unless configured otherwise in the settings.</p>
<h3 id="19-the-code-classlanguage-textwritetostringasynccode-extension-methods-have-been-removed" style="position:relative;"><a href="#19-the-code-classlanguage-textwritetostringasynccode-extension-methods-have-been-removed" aria-label="19 the code classlanguage textwritetostringasynccode extension methods have been removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>19. The <code class="language-text">WriteToStringAsync</code> extension methods have been removed.</h3>
<p>Please use the <code class="language-text">Serialize()</code> method of an <code class="language-text">IGraphQLTextSerializer</code> implementation.
The asynchronous text serialization methods have been removed as the underlying serialization
providers execute synchronously when serializing to a string.</p>
<p>The <code class="language-text">WriteAsync()</code> method can be used to asynchronously serialize to a stream. However,
the <code class="language-text">Newtonsoft.Json</code> serializer does not support asynchronous serialization, so synchronous
calls are made to the underlying stream. Only <code class="language-text">System.Text.Json</code> supports asynchronous writing.</p>
<h3 id="20-other-changes-to-the-serialization-infrastructure" style="position:relative;"><a href="#20-other-changes-to-the-serialization-infrastructure" aria-label="20 other changes to the serialization infrastructure permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>20. Other changes to the serialization infrastructure</h3>
<ul>
<li><code class="language-text">InputsConverter</code> renamed to <code class="language-text">InputsJsonConverter</code></li>
<li><code class="language-text">ExecutionResultContractResolver</code> renamed to <code class="language-text">GraphQLContractResolver</code></li>
</ul>
<h3 id="21-code-classlanguage-textgraphqlmetadataattributecode-cannot-be-applied-to-graph-type-classes" style="position:relative;"><a href="#21-code-classlanguage-textgraphqlmetadataattributecode-cannot-be-applied-to-graph-type-classes" aria-label="21 code classlanguage textgraphqlmetadataattributecode cannot be applied to graph type classes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>21. <code class="language-text">GraphQLMetadataAttribute</code> cannot be applied to graph type classes</h3>
<p>The <code class="language-text">[GraphQLMetadata]</code> attribute is designed to be used for schema-first configurations
and has not changed in this regard. For code-first graph definitions, please set the
GraphQL type name within the constructor.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">//[GraphQLMetadata("Person")] //previously supported</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HumanType</span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">ObjectGraphType<span class="token punctuation">&lt;</span>Human<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">HumanType</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Name <span class="token operator">=</span> <span class="token string">"Person"</span><span class="token punctuation">;</span> <span class="token comment">//correct implementation</span>
        <span class="token range operator">..</span><span class="token punctuation">.</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<h3 id="22-code-classlanguage-textastprintercode-class-was-removed" style="position:relative;"><a href="#22-code-classlanguage-textastprintercode-class-was-removed" aria-label="22 code classlanguage textastprintercode class was removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>22. <code class="language-text">AstPrinter</code> class was removed</h3>
<p><code class="language-text">AstPrinter</code> class was removed in favor of <code class="language-text">SDLPrinter</code> from GraphQL-Parser project.</p>
<p>Code before changes:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token class-name">INode</span> node <span class="token operator">=</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">string</span></span> s <span class="token operator">=</span> AstPrinter<span class="token punctuation">.</span><span class="token function">Print</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Code after changes:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token class-name">ASTNode</span> node <span class="token operator">=</span> <span class="token range operator">..</span><span class="token punctuation">.</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> writer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">StringWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> printer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">SDLPrinter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sdlPrinter<span class="token punctuation">.</span><span class="token function">PrintAsync</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> writer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetAwaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">GetResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// actually is sync</span>
<span class="token class-name"><span class="token keyword">string</span></span> s <span class="token operator">=</span> writer<span class="token punctuation">.</span><span class="token function">ToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p><code class="language-text">SDLPrinter</code> is a highly optimized visitor for asynchronous non-blocking SDL output
into provided <code class="language-text">TextWriter</code>. In the majority of cases it does not allocate memory in
the managed heap at all.</p>
<h3 id="23-possible-breaking-changes-in-code-classlanguage-textinputobjectgraphtypelttsourcetypecode" style="position:relative;"><a href="#23-possible-breaking-changes-in-code-classlanguage-textinputobjectgraphtypelttsourcetypecode" aria-label="23 possible breaking changes in code classlanguage textinputobjectgraphtypelttsourcetypecode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>23. Possible breaking changes in <code class="language-text">InputObjectGraphType&lt;TSourceType></code></h3>
<p><code class="language-text">InputObjectGraphType&lt;TSourceType>.ToAST</code> and <code class="language-text">InputObjectGraphType&lt;TSourceType>.IsValidDefault</code>
methods were changed in such a way that now you may be required to also override <code class="language-text">ToAST</code> if you override
<code class="language-text">ParseDictionary</code>. Changes in those methods are made for earlier error detection and schema printing.</p>
<h3 id="24-code-classlanguage-textautoregisteringobjectgraphtypecode-changes" style="position:relative;"><a href="#24-code-classlanguage-textautoregisteringobjectgraphtypecode-changes" aria-label="24 code classlanguage textautoregisteringobjectgraphtypecode changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>24. <code class="language-text">AutoRegisteringObjectGraphType</code> changes</h3>
<p>The protected method <code class="language-text">GetRegisteredProperties</code> has been renamed to <code class="language-text">GetRegisteredMembers</code>
and now supports properties, methods and fields, although fields are not included
with the default implementation. Override the method in a derived class to include fields.</p>
<p>New for v5, methods are included by default. To revert to v4 behavior, which does not
include methods, create a derived class as follows:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AutoRegisteringObjectGraphTypeWithoutMethods<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span> <span class="token punctuation">:</span> <span class="token type-list"><span class="token class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span>T<span class="token punctuation">></span></span></span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token function">AutoRegisteringObjectGraphTypeWithoutMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token function">AutoRegisteringObjectGraphTypeWithoutMethods</span><span class="token punctuation">(</span><span class="token keyword">params</span> <span class="token class-name">Expression<span class="token punctuation">&lt;</span>Func<span class="token punctuation">&lt;</span>T<span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">?</span><span class="token punctuation">></span><span class="token punctuation">></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">?</span></span> excludedProperties<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">base</span><span class="token punctuation">(</span>excludedProperties<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
    <span class="token keyword">protected</span> <span class="token keyword">override</span> <span class="token return-type class-name">IEnumerable<span class="token punctuation">&lt;</span>MemberInfo<span class="token punctuation">></span></span> <span class="token function">GetRegisteredMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">base</span><span class="token punctuation">.</span><span class="token function">GetRegisteredMembers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Where</span><span class="token punctuation">(</span>x <span class="token operator">=></span> x <span class="token keyword">is</span> <span class="token class-name">PropertyInfo</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Register this class within your DI engine like this:</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp">services<span class="token punctuation">.</span><span class="token function">AddTransient</span><span class="token punctuation">(</span><span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">AutoRegisteringObjectGraphType<span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">typeof</span><span class="token punctuation">(</span><span class="token type-expression class-name">AutoRegisteringObjectGraphTypeWithoutMethods<span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="25-code-classlanguage-textautoregisteringinputobjectgraphtypecode-changes" style="position:relative;"><a href="#25-code-classlanguage-textautoregisteringinputobjectgraphtypecode-changes" aria-label="25 code classlanguage textautoregisteringinputobjectgraphtypecode changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>25. <code class="language-text">AutoRegisteringInputObjectGraphType</code> changes</h3>
<p>The protected method <code class="language-text">GetRegisteredProperties</code> has been renamed to <code class="language-text">GetRegisteredMembers</code>
and now supports returning both properties and fields, although fields are not included
with the default implementation. Override the method in a derived class to include fields.</p>
<h3 id="26-code-classlanguage-textenumerationgraphtypecode-parses-exact-names" style="position:relative;"><a href="#26-code-classlanguage-textenumerationgraphtypecode-parses-exact-names" aria-label="26 code classlanguage textenumerationgraphtypecode parses exact names permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>26. <code class="language-text">EnumerationGraphType</code> parses exact names</h3>
<p>Consider GraphQL <code class="language-text">enum Color { RED GREEN BLUE }</code> and corresponding <code class="language-text">EnumerationGraphType</code>.
In v4 <code class="language-text">ParseValue("rED")</code> yields internal value for <code class="language-text">RED</code> name. In v5 this behavior was changed
and <code class="language-text">ParseValue("rED")</code> throws error <code class="language-text">Unable to convert 'rED' to the scalar type 'Color'</code>.</p>
<p>See <a href="https://github.com/graphql-dotnet/graphql-dotnet/issues/3105">https://github.com/graphql-dotnet/graphql-dotnet/issues/3105</a> for code to revert to the
old behavior.</p>
<h3 id="27-code-classlanguage-textenumerationgraphtypeaddvaluecode-changes" style="position:relative;"><a href="#27-code-classlanguage-textenumerationgraphtypeaddvaluecode-changes" aria-label="27 code classlanguage textenumerationgraphtypeaddvaluecode changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>27. <code class="language-text">EnumerationGraphType.AddValue</code> changes</h3>
<p><code class="language-text">description</code> argument from <code class="language-text">EnumerationGraphType.AddValue</code> method was marked as optional
and moved after <code class="language-text">value</code> argument. If you use this method and set descriptions, you will need
to change the order of arguments. Since changing the order of arguments in some cases can remain
invisible to the caller and lead to hardly detected bugs, the method name has been changed from
<code class="language-text">AddValue</code> to <code class="language-text">Add</code>.</p>
<h3 id="28-the-settings-class-provided-to-code-classlanguage-textgraphqlnewtonsoftjsongraphqlserializercode-has-changed" style="position:relative;"><a href="#28-the-settings-class-provided-to-code-classlanguage-textgraphqlnewtonsoftjsongraphqlserializercode-has-changed" aria-label="28 the settings class provided to code classlanguage textgraphqlnewtonsoftjsongraphqlserializercode has changed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>28. The settings class provided to <code class="language-text">GraphQL.NewtonsoftJson.GraphQLSerializer</code> has changed.</h3>
<p>Previously the settings class used was <code class="language-text">Newtonsoft.Json.JsonSerializerSettings</code>. Now the class
is <code class="language-text">GraphQL.NewtonsoftJson.JsonSerializerSettings</code>. The class inherits from the former class,
but sets the default date parsing behavior set to 'none'.</p>
<h3 id="29-schema-builder-clr-types-method-arguments-require-code-classlanguage-textfromsourcecode-and-code-classlanguage-textfromusercontextcode-where-applicable" style="position:relative;"><a href="#29-schema-builder-clr-types-method-arguments-require-code-classlanguage-textfromsourcecode-and-code-classlanguage-textfromusercontextcode-where-applicable" aria-label="29 schema builder clr types method arguments require code classlanguage textfromsourcecode and code classlanguage textfromusercontextcode where applicable permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>29. Schema builder CLR types' method arguments require <code class="language-text">[FromSource]</code> and <code class="language-text">[FromUserContext]</code> where applicable</h3>
<p>See New Features: 'Schema builder and <code class="language-text">FieldDelegate</code> improvements for reflected methods' above.</p>
<h3 id="30-fielddelegate-method-arguments-require-code-classlanguage-textfromsourcecode-and-code-classlanguage-textfromusercontextcode-where-applicable" style="position:relative;"><a href="#30-fielddelegate-method-arguments-require-code-classlanguage-textfromsourcecode-and-code-classlanguage-textfromusercontextcode-where-applicable" aria-label="30 fielddelegate method arguments require code classlanguage textfromsourcecode and code classlanguage textfromusercontextcode where applicable permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>30. FieldDelegate method arguments require <code class="language-text">[FromSource]</code> and <code class="language-text">[FromUserContext]</code> where applicable</h3>
<p>See New Features: 'Schema builder and <code class="language-text">FieldDelegate</code> improvements for reflected methods' above.</p>
<h3 id="31-code-removed-to-support-prior-implementation-of-fielddelegate-and-schema-builder" style="position:relative;"><a href="#31-code-removed-to-support-prior-implementation-of-fielddelegate-and-schema-builder" aria-label="31 code removed to support prior implementation of fielddelegate and schema builder permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>31. Code removed to support prior implementation of FieldDelegate and schema builder</h3>
<p>The following classes and methods have been removed:</p>
<ul>
<li>The <code class="language-text">EventStreamResolver</code> implementation which accepted an <code class="language-text">IAccessor</code> as a construtor parameter.</li>
<li>The <code class="language-text">AsyncEventStreamResolver</code> implementation which accepted an <code class="language-text">IAccessor</code> as a construtor parameter.</li>
<li>The <code class="language-text">DelegateFieldModelBinderResolver</code> class.</li>
<li>The <code class="language-text">ReflectionHelper.BuildArguments</code> method.</li>
</ul>
<p>You may use the following classes and methods as replacements:</p>
<ul>
<li>The <code class="language-text">MemberResolver</code> class is an <code class="language-text">IFieldResolver</code> implementation for a property, method or field. Expressions are passed
to the constructor for the instance (and if applicable, method arguments), which is immediately compiled.</li>
<li>The <code class="language-text">SourceStreamMethodResolver</code> class is an <code class="language-text">ISourceStreamResolver</code> (previously <code class="language-text">IEventStreamResolver</code>) implementation
for a method that returns an <code class="language-text">IObservable&lt;T></code> or <code class="language-text">Task&lt;IObservable&lt;T>></code>. It also provides a basic <code class="language-text">IFieldResolver</code>
implementation for subscription fields.</li>
<li>The <code class="language-text">AutoRegisteringHelper.BuildFieldResolver</code> method builds a field resolver around a specifed property, method or field.</li>
<li>The <code class="language-text">AutoRegisteringHelper.BuildEventStreamResolver</code> method builds an event stream resolver around a specified method.</li>
</ul>
<h3 id="32-valuetask-execution-pipeline-support-changes" style="position:relative;"><a href="#32-valuetask-execution-pipeline-support-changes" aria-label="32 valuetask execution pipeline support changes permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>32. ValueTask execution pipeline support changes</h3>
<p>The following interfaces have been modified to support a <code class="language-text">ValueTask</code> pipeline:</p>
<ul>
<li><code class="language-text">IFieldResolver</code></li>
<li><code class="language-text">ISourceStreamResolver</code> (previously <code class="language-text">IEventStreamResolver</code>)</li>
<li><code class="language-text">IFieldMiddleware</code> and <code class="language-text">FieldMiddlewareDelegate</code></li>
<li><code class="language-text">IValidationRule</code></li>
</ul>
<p>The following interfaces have been removed:</p>
<ul>
<li><code class="language-text">IAsyncEventStreamResolver</code></li>
</ul>
<p>All classes which implemented the above interfaces have been modified as necessary:</p>
<ul>
<li><code class="language-text">ExpressionFieldResolver</code></li>
<li><code class="language-text">FuncFieldResolver</code> (<code class="language-text">AsyncFieldResolver</code> was absorbed by it)</li>
<li><code class="language-text">InstrumentFieldsMiddleware</code></li>
<li><code class="language-text">NameFieldResolver</code></li>
<li><code class="language-text">SourceStreamResolver</code> (previously <code class="language-text">EventStreamResolver</code> and <code class="language-text">AsyncEventStreamResolver</code>)</li>
<li>All built-in validation rules</li>
</ul>
<p>These properties have been removed:</p>
<ul>
<li><code class="language-text">EventStreamFieldType.AsyncSubscriber</code> (note: the <code class="language-text">EventStreamFieldType</code> class was removed and the <code class="language-text">Subscriber</code>
property moved to the <code class="language-text">FieldType</code> class and renamed to <code class="language-text">StreamResolver</code>)</li>
<li><code class="language-text">FieldConfig.AsyncSubscriber</code></li>
</ul>
<p>Any direct implementation of these interfaces or classes derived from the above list will need to be modified to fit the new design.</p>
<p>In addition, it is required that any asynchronous fields must use an appropriate asynchronous field builder method or
asynchronous field resolver, and inferred methods (built by the schema builder, <code class="language-text">FieldDelegate</code>, or <code class="language-text">AutoRegisteringObjectGraphType</code>)
must be strongly typed.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// works in v4, not in v5 (throws in runtime)</span>
<span class="token generic-method"><span class="token function">Field</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharacterInterface<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"hero"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> context <span class="token operator">=></span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works in v4 or v5</span>
<span class="token generic-method"><span class="token function">FieldAsync</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>CharacterInterface<span class="token punctuation">></span></span></span><span class="token punctuation">(</span><span class="token string">"hero"</span><span class="token punctuation">,</span> <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> <span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// works in v4, not in v5</span>
<span class="token function">AddField</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FieldType</span>
<span class="token punctuation">{</span>
    Name <span class="token operator">=</span> <span class="token string">"hero"</span><span class="token punctuation">,</span>
    Resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FuncFieldResolver<span class="token punctuation">&lt;</span>Task<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span>context <span class="token operator">=></span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works in v4 or v5</span>
<span class="token function">AddField</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">FieldType</span>
<span class="token punctuation">{</span>
    Name <span class="token operator">=</span> <span class="token string">"hero"</span><span class="token punctuation">,</span>
    Resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AsyncFieldResolver<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span></span><span class="token punctuation">(</span>context <span class="token operator">=></span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span><span class="token string">"3"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// works in v4, not in v5</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">,</span> <span class="token keyword">object</span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token generic-method"><span class="token function">FieldDelegate</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>DroidType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>
    <span class="token string">"droid"</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">arguments</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArguments</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArgument<span class="token punctuation">&lt;</span>NonNullGraphType<span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> Description <span class="token operator">=</span> <span class="token string">"id of the droid"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> func
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// works in v4 or v5</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> <span class="token keyword">string</span><span class="token punctuation">,</span> Task<span class="token punctuation">&lt;</span>Droid<span class="token punctuation">></span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token punctuation">(</span>context<span class="token punctuation">,</span> id<span class="token punctuation">)</span> <span class="token operator">=></span> data<span class="token punctuation">.</span><span class="token function">GetDroidByIdAsync</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token generic-method"><span class="token function">FieldDelegate</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>DroidType<span class="token punctuation">></span></span></span><span class="token punctuation">(</span>
    <span class="token string">"droid"</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">arguments</span><span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArguments</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token constructor-invocation class-name">QueryArgument<span class="token punctuation">&lt;</span>NonNullGraphType<span class="token punctuation">&lt;</span>StringGraphType<span class="token punctuation">></span><span class="token punctuation">></span></span> <span class="token punctuation">{</span> Name <span class="token operator">=</span> <span class="token string">"id"</span><span class="token punctuation">,</span> Description <span class="token operator">=</span> <span class="token string">"id of the droid"</span> <span class="token punctuation">}</span>
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token named-parameter punctuation">resolve</span><span class="token punctuation">:</span> func
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3 id="33-code-classlanguage-textiresolveeventstreamcontextcode-interface-and-code-classlanguage-textresolveeventstreamcontextcode-class-removed" style="position:relative;"><a href="#33-code-classlanguage-textiresolveeventstreamcontextcode-interface-and-code-classlanguage-textresolveeventstreamcontextcode-class-removed" aria-label="33 code classlanguage textiresolveeventstreamcontextcode interface and code classlanguage textresolveeventstreamcontextcode class removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>33. <code class="language-text">IResolveEventStreamContext</code> interface and <code class="language-text">ResolveEventStreamContext</code> class removed</h3>
<p>Please use the <code class="language-text">IResolveFieldContext</code> interface and the <code class="language-text">ResolveFieldContext</code> class instead. No other changes are required.</p>
<h3 id="34-code-classlanguage-texteventstreamfieldtypecode-class-removed" style="position:relative;"><a href="#34-code-classlanguage-texteventstreamfieldtypecode-class-removed" aria-label="34 code classlanguage texteventstreamfieldtypecode class removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>34. <code class="language-text">EventStreamFieldType</code> class removed</h3>
<p>Please use <code class="language-text">FieldType</code> instead. The <code class="language-text">Subscriber</code> property has been moved to the <code class="language-text">FieldType</code> class so no other changes should be required.
The <code class="language-text">AsyncSubscriber</code> property has been removed as described above.</p>
<h3 id="35-code-classlanguage-textieventstreamresolverlttcode-interface-removed" style="position:relative;"><a href="#35-code-classlanguage-textieventstreamresolverlttcode-interface-removed" aria-label="35 code classlanguage textieventstreamresolverlttcode interface removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>35. <code class="language-text">IEventStreamResolver&lt;T></code> interface removed</h3>
<p>For custom resolver implementations, please implement <code class="language-text">ISourceStreamResolver</code> (previously <code class="language-text">IEventStreamResolver</code>) interface instead.</p>
<h3 id="36-asynchronous-field-resolver-classes-have-been-removed" style="position:relative;"><a href="#36-asynchronous-field-resolver-classes-have-been-removed" aria-label="36 asynchronous field resolver classes have been removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>36. Asynchronous field resolver classes have been removed</h3>
<p>These classes have been removed:</p>
<ul>
<li><code class="language-text">ScopedAsyncFieldResolver</code></li>
<li><code class="language-text">AsyncFieldResolver</code></li>
<li><code class="language-text">AsyncEventStreamResolver</code></li>
</ul>
<p>Please use the new <code class="language-text">ValueTask</code>-based constructors on <code class="language-text">ScopedFieldResolver</code>, <code class="language-text">FuncFieldResolver</code> and <code class="language-text">SourceStreamResolver</code>
(previously <code class="language-text">EventStreamResolver</code>) instead.</p>
<div class="gatsby-highlight" data-language="csharp"><pre class="language-csharp"><code class="language-csharp"><span class="token comment">// v4</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AsyncFieldResolver<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// v5</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FuncFieldResolver<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// v4</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">AsyncFieldResolver</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// v5 option 1</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> ValueTask<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FuncFieldResolver</span><span class="token punctuation">(</span>func<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// v5 option 2</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FuncFieldResolver</span><span class="token punctuation">(</span>context <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">ValueTask<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token function">func</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// v5 option 3</span>
<span class="token class-name">Func<span class="token punctuation">&lt;</span>IResolveFieldContext<span class="token punctuation">,</span> Task<span class="token punctuation">&lt;</span><span class="token keyword">string</span><span class="token punctuation">></span><span class="token punctuation">></span></span> func <span class="token operator">=</span> <span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">GetSomeString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">var</span></span> resolver <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token constructor-invocation class-name">FuncFieldResolver</span><span class="token punctuation">(</span><span class="token keyword">async</span> context <span class="token operator">=></span> <span class="token keyword">await</span> <span class="token function">func</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Field builder methods have not changed and still require a <code class="language-text">Task&lt;T></code> return value for asynchronous field resolver delegates.</p>
<h3 id="37-code-classlanguage-textnamefieldresolvercode-implementation-supports-methods-with-arguments-may-cause-code-classlanguage-textambigiousmatchexceptioncode" style="position:relative;"><a href="#37-code-classlanguage-textnamefieldresolvercode-implementation-supports-methods-with-arguments-may-cause-code-classlanguage-textambigiousmatchexceptioncode" aria-label="37 code classlanguage textnamefieldresolvercode implementation supports methods with arguments may cause code classlanguage textambigiousmatchexceptioncode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>37. <code class="language-text">NameFieldResolver</code> implementation supports methods with arguments; may cause <code class="language-text">AmbigiousMatchException</code></h3>
<p>The <code class="language-text">NameFieldResolver</code>, used when adding a field by name (e.g. <code class="language-text">Field&lt;StringGraphType>("Name");</code>),
now supports methods with arguments. During resolver execution, it first looks for a matching property
with the specified name, and if none is found, looks for a method with the matching name. Since it
now supports methods with arguments as well as methods without arguments, an <code class="language-text">AmbigiousMatchException</code>
can occur if the name refers to a public method with multiple overloads. Either specify a field
resolver explicitly, or reduce the number of public methods with the same name to one.</p>
<h3 id="38-code-classlanguage-textschematypescode-updated-to-support-di-injected-mapping-providers" style="position:relative;"><a href="#38-code-classlanguage-textschematypescode-updated-to-support-di-injected-mapping-providers" aria-label="38 code classlanguage textschematypescode updated to support di injected mapping providers permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>38. <code class="language-text">SchemaTypes</code> updated to support DI-injected mapping providers</h3>
<ul>
<li>
<p><code class="language-text">Initialize</code> method signature changed to include DI-injected mappings.</p>
</li>
<li>
<p><code class="language-text">GetGraphTypeFromClrType</code> method signature changed to include DI-injected mappings.
Rather than a list of CLR to graph type tuples provided to the method, now a list of
<code class="language-text">IGraphTypeMappingProvider</code> instances is provided.</p>
</li>
</ul>
<h3 id="39-code-classlanguage-textexecutionresultjsonconvertercode-does-not-handle-code-classlanguage-textexecutionerrorcode" style="position:relative;"><a href="#39-code-classlanguage-textexecutionresultjsonconvertercode-does-not-handle-code-classlanguage-textexecutionerrorcode" aria-label="39 code classlanguage textexecutionresultjsonconvertercode does not handle code classlanguage textexecutionerrorcode permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>39. <code class="language-text">ExecutionResultJsonConverter</code> does not handle <code class="language-text">ExecutionError</code>.</h3>
<p>If you directly create an instance of <code class="language-text">ExecutionResultJsonConverter</code> and adding it to a set of
serializer options, you will now need to also add <code class="language-text">ExecutionErrorJsonConverter</code> also. The
<code class="language-text">IErrorInfoProvider</code> instance previously passed to the <code class="language-text">ExecutionResultJsonConverter</code> will
need to be passed to the <code class="language-text">ExecutionErrorJsonConverter</code> instead. Typically no changes are
necessary to user code for this API change.</p>
<h3 id="40-subscription-document-executer-removed" style="position:relative;"><a href="#40-subscription-document-executer-removed" aria-label="40 subscription document executer removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>40. Subscription document executer removed</h3>
<p>Subscription support is provided by the <code class="language-text">DocumentExecuter</code> implementation without the need to
use <code class="language-text">SubscriptionDocumentExecuter</code> or override <code class="language-text">DocumentExecuter.SelectExecutionStrategy</code>. You may
also remove references to the <code class="language-text">IGraphQLBuilder.AddSubscriptionDocumentExecuter</code> method.</p>
<h3 id="41-subscription-nuget-package-removed" style="position:relative;"><a href="#41-subscription-nuget-package-removed" aria-label="41 subscription nuget package removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>41. Subscription nuget package removed</h3>
<p>Subscription support has been moved into the main project. If you have a need to reference
<code class="language-text">SubscriptionExecutionStrategy</code>, it now exists within the <code class="language-text">GraphQL</code> nuget package. You
will need to remove references to the <code class="language-text">GraphQL.SystemReactive</code> nuget package.</p>
<h3 id="42-code-classlanguage-textsubscriptionexecutionresultcode-class-removed" style="position:relative;"><a href="#42-code-classlanguage-textsubscriptionexecutionresultcode-class-removed" aria-label="42 code classlanguage textsubscriptionexecutionresultcode class removed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>42. <code class="language-text">SubscriptionExecutionResult</code> class removed</h3>
<p>The <code class="language-text">SubscriptionExecutionResult.Streams</code> property has been moved to the <code class="language-text">ExecutionResult</code> class.
Please use the <code class="language-text">ExecutionResult</code> class rather than the <code class="language-text">SubscriptionExecutionResult</code> class.</p>
<h3 id="43-code-classlanguage-textdatetimeoffsetgraphtypecode-does-not-adjust-to-utc" style="position:relative;"><a href="#43-code-classlanguage-textdatetimeoffsetgraphtypecode-does-not-adjust-to-utc" aria-label="43 code classlanguage textdatetimeoffsetgraphtypecode does not adjust to utc permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>43. <code class="language-text">DateTimeOffsetGraphType</code> does not adjust to UTC</h3>
<p>Previously any ISO-8601 date/time values were converted to UTC before being returned in
a <code class="language-text">DateTimeOffset</code> value from the <code class="language-text">DateTimeOffsetGraphType</code>. This results in a loss of
information that was provided to the GraphQL request. In v5, the time offset is preserved.</p>
<p>Although typically <code class="language-text">DateTimeOffset</code> values are not assumed to be in any specific time zone,
if your code does so, you may need to make changes to your code or implement a custom scalar
to replace the default scalar.</p>
<p>You may be affected by this change if you use certain versions of Npgsql.
See <a href="https://www.npgsql.org/doc/types/datetime.html">https://www.npgsql.org/doc/types/datetime.html</a></p>
<h3 id="44-code-classlanguage-textoverlappingfieldscanbemergedcode-validation-rule-enabled-by-default" style="position:relative;"><a href="#44-code-classlanguage-textoverlappingfieldscanbemergedcode-validation-rule-enabled-by-default" aria-label="44 code classlanguage textoverlappingfieldscanbemergedcode validation rule enabled by default permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>44. <code class="language-text">OverlappingFieldsCanBeMerged</code> validation rule enabled by default</h3>
<p>Previously this rule, part of the GraphQL specification, was not enabled by default; in
GraphQL.NET v5 it is enabled by default as part of the <code class="language-text">DocumentValidator.CoreRules</code> list.</p>
<h3 id="45-subscription-methods-classes-and-interfaces-renamed" style="position:relative;"><a href="#45-subscription-methods-classes-and-interfaces-renamed" aria-label="45 subscription methods classes and interfaces renamed permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>45. Subscription methods, classes and interfaces renamed</h3>
<ul>
<li><code class="language-text">IEventStreamResolver</code> is now <code class="language-text">ISourceStreamResolver</code></li>
<li><code class="language-text">EventStreamResolver</code> is now <code class="language-text">SourceStreamResolver</code></li>
<li><code class="language-text">IAsyncEventStreamResolver</code> and <code class="language-text">AsyncEventStreamResolver</code> have been removed</li>
<li><code class="language-text">IEventStreamResolver.Subscriber</code> is now <code class="language-text">ISourceStreamResolver.ResolveAsync</code></li>
<li>Field builder <code class="language-text">Subscribe</code> and <code class="language-text">SubscribeAsync</code> methods are now <code class="language-text">ResolveStream</code> and <code class="language-text">ResolveStreamAsync</code></li>
</ul>
<h3 id="46-code-classlanguage-textvalidationcontextgetrecursivevariablescode-returns-null-instead-of-an-empty-list" style="position:relative;"><a href="#46-code-classlanguage-textvalidationcontextgetrecursivevariablescode-returns-null-instead-of-an-empty-list" aria-label="46 code classlanguage textvalidationcontextgetrecursivevariablescode returns null instead of an empty list permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>46. <code class="language-text">ValidationContext.GetRecursiveVariables</code> returns null instead of an empty list</h3>
<p>This was done for the purposes of the overall strategy for reducing memory consumption.</p>
<h3 id="47-code-classlanguage-textauthorizewithcode-renamed-to-code-classlanguage-textauthorizewithpolicycode-in-510" style="position:relative;"><a href="#47-code-classlanguage-textauthorizewithcode-renamed-to-code-classlanguage-textauthorizewithpolicycode-in-510" aria-label="47 code classlanguage textauthorizewithcode renamed to code classlanguage textauthorizewithpolicycode in 510 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>47. <code class="language-text">AuthorizeWith</code> renamed to <code class="language-text">AuthorizeWithPolicy</code> in 5.1.0</h3>
<p>This change was made to clarify and differentiate between <code class="language-text">AuthorizeWithRoles</code>.</p>
<h3 id="48-code-classlanguage-textgraphqlauthorizeattributecode-renamed-to-code-classlanguage-textauthorizeattributecode-in-511" style="position:relative;"><a href="#48-code-classlanguage-textgraphqlauthorizeattributecode-renamed-to-code-classlanguage-textauthorizeattributecode-in-511" aria-label="48 code classlanguage textgraphqlauthorizeattributecode renamed to code classlanguage textauthorizeattributecode in 511 permalink" class="anchor before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>48. <code class="language-text">GraphQLAuthorizeAttribute</code> renamed to <code class="language-text">AuthorizeAttribute</code> in 5.1.1</h3>
<p>This change was made to align with the rest of the attributes' names.</p></article><div class="content-toolbar"><a href="https://github.com/graphql-dotnet/graphql-dotnet/edit/master/docs2/site/docs/migrations/migration5.md" rel="noopener noreferrer" target="_blank">Edit this page on GitHub</a></div></div><div class="nav"><nav><ul><li><span>Getting Started</span><nav><ul><li><a class="" href="/docs/getting-started/introduction/">Introduction</a></li><li><a class="" href="/docs/getting-started/installation/">Installation</a></li><li><a class="" href="/docs/getting-started/graphiql/">GraphiQL</a></li><li><a class="" href="/docs/getting-started/altair-graphql/">Altair GraphQL</a></li><li><a class="" href="/docs/getting-started/queries/">Queries</a></li><li><a class="" href="/docs/getting-started/schema-types/">Schema Types</a></li><li><a class="" href="/docs/getting-started/custom-scalars/">Custom Scalars</a></li><li><a class="" href="/docs/getting-started/lists-non-null/">Lists and Non-Null</a></li><li><a class="" href="/docs/getting-started/arguments/">Arguments</a></li><li><a class="" href="/docs/getting-started/aliases/">Aliases</a></li><li><a class="" href="/docs/getting-started/fragments/">Fragments</a></li><li><a class="" href="/docs/getting-started/variables/">Variables</a></li><li><a class="" href="/docs/getting-started/directives/">Directives</a></li><li><a class="" href="/docs/getting-started/mutations/">Mutations</a></li><li><a class="" href="/docs/getting-started/interfaces/">Interfaces</a></li><li><a class="" href="/docs/getting-started/unions/">Unions</a></li><li><a class="" href="/docs/getting-started/subscriptions/">Subscriptions</a></li><li><a class="" href="/docs/getting-started/query-validation/">Query Validation</a></li><li><a class="" href="/docs/getting-started/query-organization/">Query Organization</a></li><li><a class="" href="/docs/getting-started/user-context/">User Context</a></li><li><a class="" href="/docs/getting-started/errors/">Error Handling</a></li><li><a class="" href="/docs/getting-started/dependency-injection/">Dependency Injection</a></li><li><a class="" href="/docs/getting-started/databases/">Databases</a></li><li><a class="" href="/docs/getting-started/malicious-queries/">Malicious Queries</a></li><li><a class="" href="/docs/getting-started/metadata/">Object/Field Metadata</a></li><li><a class="" href="/docs/getting-started/field-middleware/">Field Middleware</a></li><li><a class="" href="/docs/getting-started/metrics/">Metrics</a></li><li><a class="" href="/docs/getting-started/authorization/">Authorization</a></li><li><a class="" href="/docs/getting-started/relay/">Relay</a></li><li><a class="" href="/docs/getting-started/global-switches/">Global Switches</a></li></ul></nav></li><li><span>Guides</span><nav><ul><li><a class="" href="/docs/guides/serialization/">Serialization</a></li><li><a class="" href="/docs/guides/dataloader/">Dataloader</a></li><li><a class="" href="/docs/guides/schema-generation/">Schema Generation</a></li><li><a class="" href="/docs/guides/known-issues/">Known Issues &amp; FAQ</a></li><li><a class="" href="/docs/guides/links/">Links</a></li><li><a class="" href="/docs/guides/document-caching/">Document Caching</a></li></ul></nav></li><li><span>Analyzers</span><nav><ul><li><a class="" href="/docs/analyzers/Overview/">Overview</a></li><li><a class="" href="/docs/analyzers/GQL001_DefineTheNameInFieldMethod/">GQL001</a></li><li><a class="" href="/docs/analyzers/GQL002_NameMethodInvocationCanBeRemoved/">GQL002</a></li><li><a class="" href="/docs/analyzers/GQL003_DifferentNamesDefinedByFieldAndNameMethods/">GQL003</a></li><li><a class="" href="/docs/analyzers/GQL004_DoNotUseObsoleteFieldMethods/">GQL004</a></li><li><a class="" href="/docs/analyzers/GQL005_IllegalResolverUsage/">GQL005</a></li><li><a class="" href="/docs/analyzers/GQL006_CanNotMatchInputFieldToTheSourceField/">GQL006</a></li><li><a class="" href="/docs/analyzers/GQL007_CanNotSetSourceField/">GQL007</a></li><li><a class="" href="/docs/analyzers/GQL008_DoNotUseObsoleteArgumentMethod/">GQL008</a></li><li><a class="" href="/docs/analyzers/GQL009_UseAsyncResolver/">GQL009</a></li><li><a class="" href="/docs/analyzers/GQL011_MustNotBeConvertibleToGraphType/">GQL011</a></li></ul></nav></li><li><span>Migration Guides</span><nav><ul><li><a class="" href="/docs/migrations/migration7/">Migration Guide [v5 -&gt; v7]</a></li><li><a aria-current="page" class="active" href="/docs/migrations/migration5/">Migration Guide [v4 -&gt; v5]</a></li><li><a class="" href="/docs/migrations/migration4/">Migration Guide [v3 -&gt; v4]</a></li><li><a class="" href="/docs/migrations/migration3/">Migration Guide [v2 -&gt; v3]</a></li><li><a class="" href="/docs/migrations/migration2/">Migration Guide [v0.17.x -&gt; v2]</a></li><li><a class="" href="/docs/migrations/v0_11_0/">Migration Guide [v0.11.0]</a></li><li><a class="" href="/docs/migrations/v0_8_0/">Migration Guide [v0.8.0]</a></li></ul></nav></li></ul></nav></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/docs/migrations/migration5/";/*]]>*/</script><!-- slice-start id="_gatsby-scripts-1" -->
          <script
            id="gatsby-chunk-mapping"
          >
            window.___chunkMapping="{\"app\":[\"/app-436da0dacbc7d0c9c70c.js\"],\"component---site-pages-landing-js\":[\"/component---site-pages-landing-js-a6440981f4cabd99c44a.js\"],\"component---src-components-docs-page-js\":[\"/component---src-components-docs-page-js-eb3cf7402e33f3b8c598.js\"],\"component---src-pages-404-js\":[\"/component---src-pages-404-js-124a3edb7b6bf3b7b21f.js\"]}";
          </script>
        <script>window.___webpackCompilationHash="aa7a2afce7502c334a0a";</script><script src="/webpack-runtime-bc7601c4417363e3cebe.js" async></script><script src="/framework-5fba739d9f48dd9733f3.js" async></script><script src="/app-436da0dacbc7d0c9c70c.js" async></script><!-- slice-end id="_gatsby-scripts-1" --></body></html>